\documentclass[12pt]{article}
\usepackage{amsfonts,amsmath,amssymb,mathrsfs,amsthm}
\usepackage{mathabx}
\usepackage[hidelinks]{hyperref}
% \usepackage[pagewise]{lineno}\linenumbers   %AIMS Mathematics Recommendation
\usepackage[backend=biber,style=alphabetic,sorting=ynt]{biblatex}
\addbibresource{bib.bib}

%Dangerous, possibly remove if weird
\interfootnotelinepenalty=10000 

\title{Defining Real Numbers as Oracles}
\author{
  James Taylor\footnote{Arts \& Ideas Sudbury School, 4915 Holder Ave, Baltumore, MD 21214, james@aisudbury.org}
}
\date{December 31, 2022}

\addtolength{\textwidth}{2.0cm}
\addtolength{\hoffset}{-1.0cm}
\addtolength{\textheight}{3.0cm}
\addtolength{\voffset}{-1.5cm}


\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{proposition}{Proposition}

\theoremstyle{remark}
\newtheorem{remark}{Remark}

% Modified from https://tex.stackexchange.com/a/125775
\makeatletter
\def\Ddots{\mathinner{\mkern1mu\raise\p@
\vbox{\kern7\p@\hbox{.}}\mkern-3mu
\raise4\p@\hbox{.}\mkern-3mu\raise7\p@\hbox{.}\mkern1mu}}
\makeatother

\makeatletter
\def\DDdots{\mathinner{\mkern1mu\raise7\p@
\vbox{\kern7\p@\hbox{.}}\mkern-3mu
\raise4\p@\hbox{.}\mkern-3mu\raise\p@\hbox{.}\mkern1mu}}
\makeatother


%from mathabx. see mathtest.pdf page 19
\DeclareMathSymbol{:}{\mathbin}{mathb}{"33} %this does triple dot but just need to type : 
\DeclareMathSymbol{\col}{\mathord}{operators}{"3A}  %gives usual colon
%do \mathrel{\col} for more spaced colon. 
%want small less than for colon replacement
\newcommand{\lt}{\mathord{<}}
\newcommand{\lte}{\Ddots}{%\mathord{\leq}}
\newcommand{\gte}{\DDdots}

%\sloppy%\openup-.1\jot
\begin{document}\maketitle
\begin{abstract}
 We propose a new definition of a real number based on the insight that a real number is an oracle that, when provided with a rational interval, answers Yes or No depending on if that real number ought to be considered to be in the given rational interval or not. Since we are defining the real number, we cannot actually define it this way, but the intuition does guide us to several key properties that ensures any such rule will yield a real number which we prove. We provide various examples and algorithms in using oracles. We compare and contrast with this with other common definitions, such as Cauchy sequences and Dedekind cuts. After exploring real numbers as oracles, we introduce a new definition of a function, which we call function oracles. These are oracles that give affirmation for rational rectangles that should contain the image of its base under the function it is modeling. These turn out to be equivalent to functions that are continuous everywhere except possibly on the rationals. We do establish a version of the Intermediate Value Theorem. We finish by generalizing these ideas to the completion of metric spaces. 
\end{abstract}

\tableofcontents

\section{The Oracle of $r$}\label{sec:ora}

Our goal is to give a new definition of real numbers. This definition strikes a balance between having a solid definition of a real number and being useful in computing. Most definitions of real numbers, such as decimal expansions and Cauchy sequences, seem to require explicit computations to even define the number. This is problematic given the infinite nature of real numbers. Other definitions, such as the Dedekind cut, do not require computations to state, but they seem to offer no useful guidance in computing. 

What we want to provide is an object that can be defined without computation, but provides the underlying mechanism for computing the real number to any precision one wants. In some sense, we are producing the framework for producing approximations to real numbers given the particulars of a given real number. In programming, this is analogous to having a sorting algorithm written generally which just needs to be given the comparison function to make the sorting decision while the framework handles the actual details of sorting given that answer. 

Since this is a mechanism that provides answers to our questions, we call it an oracle. The idea is that a real number is an oracle that reveals itself by answering, under repeated questioning, whether it is in various rational intervals. 

Informally, the Oracle of $r$ is a rule which, given two rational numbers, will return 1 (Yes) if $r$ ought to be in the closed interval defined by the two rational numbers and returns 0 (No) otherwise. If the answer was a 1, then we say the interval is an $r$-Yes interval; if the answer is a 0, then we say the interval is an $r$-No interval.  If we are just speaking of one oracle, we may simply say a Yes-interval or No-interval. 

\subsection{Interval notation}

We will define a rational interval $a:b$ as a binary rule that for a given rational $q$, yields $1$ (Yes) if $q$ is between $a$ and $b$, inclusive, and yields $0$ (No) if not. We say that $q$ is contained in $a:b$ if the interval rule yielded an affirmative answer.  We identify $b:a$ as the same rule. The interval $a:b$ contains the interval $c:d$ if being in the interval $c:d$ implies being in the interval $a:b$. We will write $a\lt b$ if we want to indicate the ordering relation between the rationals and they are strictly not equal; it is sometimes convenient to slip that into notation, but it is often not needed in which case we just use $a:b$. We may also require knowing the ordering, but still allow inequality. In that case, we use the notation $a \lte b$ We will also write $a:b < c:d$ to indicate the situation in which $a$ and $b$ are less than $c$ and $d$ which implies that all rationals $q$ in $a:b$ are less than all rationals $r$ in $c:d$.

$a \lte b$
$a\gte b$

Please take note that the intervals not only have rational endpoints but they consist entirely of rational points as we do not have real numbers. Throughout, unless we say otherwise, intervals always include their endpoints. If we had the real numbers, these would be closed intervals with rational endpoints.  The symbol $:$ was chosen to represent the two endpoints with something in between. Being dotted is to be a reminder that it is just the discrete rational interval under discussion. 

We define the term \textbf{singleton} to be intervals of the form $a:a$, namely the only number in the interval is the rational $a$; we may also write $[a]$ for the singleton as it does correspond to the real closed interval $[a,a]$. We also define the term \textbf{neighborhood} or a \textbf{neighborly interval} to be intervals which are not singletons, that is, $a \lt b$ is its form. For our later definition of functional oracles, singleton vs neighborhoods will be important distinctions. When we write $a:b$, we will allow for $a=b$.

A rational $q$ is strictly contained in $a\lt b$ if $a < q < b$. 

Note that we have transitivity of interval inequality, that is $a:b < c:d$ and $c:d < e:f$, then $a:b < e:f$. This follows immediately from the transitivity of inequalities on rationals.

\subsection{Defining the Oracle}

The Oracle of $r$ is a rule $R$ defined on rational intervals that returns values of 1 and 0, and satisfies: 
\begin{enumerate}
    \item Consistency. If $c:d$ contains $a:b$ and $R(a:b) = 1$, then $R(c:d) = 1$.
    \item Existence. $R(a:b) = 1$ for some rational interval $a:b$.
    \item Separating. If $R(a:b)=1$, then for a given $c \neq a, b$ in $a:b$, either $R(c:c) = 1$ or $R(a:c) \neq R(c:b)$. 
    \item Rooted. There is at most one $c$ such that $R(c:c) =1$.
    \item Closed. If $c$ is contained in all $R$-Yes intervals, then $R(c:c) = 1$.
\end{enumerate}

Note that in the above $a$, $b$, $c$, and $d$ are all rationals; we do not apply this to irrationals since we are defining them here. We generally obey the convention that $r$ represents naming the oracle as a number and $R$ is the rule. There is not a distinction, in fact, between $r$ and $R$, but the notation helps make the connection to how we customarily think of real numbers versus the oracle version.\footnote{As it becomes increasingly clear that the oracles do fit a model of the real numbers, we will move away from this distinction and also start to use Greek letters, such as $\alpha$, to denote oracles.}

Consistency tells us that if $c:d$ contains $a:b$ and $R(c:d) = 0$, then $R(a:b) = 0$. For if $R(a:b)=1$, then consistency implies $R(c:d)=1$ which contradicts our starting assumption. We will refer to this as part of the Consistency property. 

For further elaboration on what each of these properties means:

\begin{enumerate}

    \item Consistency says that Yes propagates upwards to larger intervals while No propagates downwards to smaller intervals. The Oracle never contradicts itself. 
    
    In our examples, this is usually trivially true by definition of the rule, corresponding to this not being of much practical use. In some sense, this property is here to ensure that there is a single oracle for a given real number.  

    \item The existence requirement says that there is definitely an interval which the Oracle confirms being in. It is required to avoid the trivial $R(a:b) = 0$ for all $a:b$ which would satisfy all the other conditions, including the separating property due to it only applying to Yes-intervals. 
    
    The existing interval also gives us a place to start in our approximation schemes that we discuss later. 
    
    It is usually easy to verify in any practical example as any Yes-interval will do and we can usually find a very bad approximate interval that is easy to establish.  

    \item Separation is needed to ensure that the Yes will continue to propagate downwards so that we can make progress on narrowing in on $r$. This is crucial to the use of the Oracle in approximating what we take to be a single number $r$. The possibility of $R(c:c) = 1$ occurs exactly when the real number $r$ corresponds to the rational number $c$. 
    
    Proving that a given oracle is, in fact, a rational can be impossible, mirroring difficulties with other real number approaches. 

    Separation could alternatively be phrased as insisting that if $R(a:b) = 1$, then at least one of $R(a:c)$ or $R(c:b)$ is 1 and if they are both 1, then $R(c:c) = 1$. We chose our formulation to emphasize that being able to separate the intervals is a key feature we desire to implement and that it fails only if the overlapping endpoint is the number of interest. 

    There are other ideas of separation. We will call this Interval Separation when we need to be more specific. 

    We also want to note that while we did exclude $c$ from being the endpoints, this is not because that would yield a problem, but rather because it is a vacuous statement. Indeed, if $c=a$, then either $R(a:a)=1$ or $R(a:a)=0$. If it is the former, then we have satisfied the singleton part of the separation property. If $R(a:a)=0$, then since $R(a:b)=1$ by assumption, we have $R(a:a) \neq R(a:b)$ which is the other part of the property. We therefore concentrate our discussion solely on $c$ strictly between $a$ and $b$.
    
    \item Being Rooted ensures that there is just one single number under discussion. Without this, we could have the rule, for example, $R(a:b) = 1$ for all $a:b$ that contain a subinterval of a fixed given interval $c:d$. This is compatible with all the properties except for being rooted. In particular, the separation property is fine since given an interval $a:b$ contained in $c:d$, and a number $e$ in $a:b$, then $R(e:e) = 1$ and hence there is no requirement to have a No-interval in $a:b$. 
    
    In the arithmetic operations, this is proven by taking two rational singletons and then exhibiting an interval of sufficiently small length that the two can be distinguished. 

    \item An important benefit of the Closed property is that the arithmetic of rationals is unchanged. As we shall see, oracle arithmetic involves interval arithmetic. With the presence of the singletons, we can do arithmetic with them just as usual arithmetic.
    
    It also helps ensure the uniqueness of an oracle. For example, we could define a $0+$ oracle by being all the intervals of the form $0\lt a$ and another oracle $0-$ as intervals of the form $a \lt 0$. These two proto-oracles satisfy the other properties. Both could be said to represent $0$, but they are distinct. They obviously fail to satisfy the Closed property. If we add in $0:0$ to them to satisfy the Closed Property, then they fail Consistency since we now we need to include all intervals that include $0:0$. This is how we achieve uniqueness. 
    
    Most representations of real numbers have this issue with rationals. Decimals have the issue of repeating 9s. Dedekind cuts have the question of whether to include the rational or not in its cut. Continued fraction representations are unique on irrational numbers, but they have two representatives for rationals. 
    
    In our constructions, we often need to add this in explicitly. It is a bit awkward as this seems to be one of the essential difficulties with real numbers. 

\end{enumerate}


This definition does not avoid all of the common downsides of the other definitions of real numbers, but it does reduce them to a context that reflects how real numbers get used in practice. It illustrates those downsides as fundamental to the nature of real numbers while avoiding inessential downsides that other approaches have. See Section \ref{sec:others} for a discussion of other approaches.  

A \textbf{singleton oracle }is an oracle whose Yes intervals includes a singleton. These will eventually be identified as rationals. A \textbf{neighborly oracle} is an oracle whose Yes intervals do not include a singleton. These are what are generally called irrationals. 



\section{Basic Properties of an Oracle}

We establish some basic facts of oracles which we will find useful throughout. 

We start with the extremely helpful properties involving intersections and unions. We then discuss the uniqueness of oracles, with the related notions of determining ordering and compatibility. In particular, we define what we mean by $r = s$, $r<s$, $r>s$, and $r?s$ for oracles $r$ and $s$. 


The relation $r?s$ means that they have not been established to be equal, but they are compatible with that hypothesis. Typically, we will want to specify an interval of compatibility, say $a:b$, which is the smallest known interval tested that they both reported Yes on. To denote that, we can use $a:r?s:b$ 

\subsection{Intersections and Unions}

Let $a \leq b \leq c \leq d$ with all of them being rationals. The intersection of $a:c$ and $b:d$ is $b:c$ while the union is $a:d$. The two intervals $a:b$ and $c:d$ are disjoint if $b < c$. 

One can either take those as statements from the usual set definitions or take these as the definitions of those terms. It is immediate from the Consistency property that Yes-intervals are closed under unions and that No-intervals are closed under intersection. We will prove that Yes (No) intervals are closed under intersections (unions). 

We start with establishing that the intersection of two $R$-Yes intervals is an $R$-Yes interval.

\begin{proposition}\label{pr:inter}
Let $R$ be an oracle and $a \leq b \leq c \leq d$. If $R(a:c) = 1 = R(b:d)$, then $R(b:c) = 1$.
\end{proposition}

\begin{proof}
  
  This follows from the Separation and Consistency properties. From Consistency, we have $R(a:d) = 1$ since it contains an $R$-Yes interval (two in fact, but we just need one). Then apply separation to $a:c$ and $c:d$. If $R(c:c) = 1$, then $R(b:c) = 1$ since it contains $c:c$ and we are done. Otherwise, Separation tells us $R(a:c) \neq R(c:d)$. By assumption, we know $R(a:c) = 1$ so that implies $R(c:d) = 0$. 
  
  We can then consider what follows from $R(b:d) = 1$.  From Separation based on $c$, we have $R(b:c) \neq R(c:d)$ since we are specifically in the case that $R(c:c) \neq 1$. As we do have $R(c:d) = 0$, we must have $R(b:c) = 1$.
  
  We have established that Yes-intervals are closed under intersection. 
\end{proof}

Let us now establish that the No-intervals are closed under union. 

\begin{proposition}\label{pr:union}
Let $R$ be an oracle and $a \leq b \leq c \leq d$.  If $R(a:c) = 0$ and $R(b:d) = 0$, then $R(a:d) = 0$. 
\end{proposition}

\begin{proof}
    Let's assume that $R(a:d) = 1$ and find a contradiction. With that assumption, $R(a:b) = 1$ from Separation applied to $a:b$ and $b:d$ with the fact that $b:d$ was a No-interval. But this contradicts $R(a:c)= 0$ since it contains $a:b$ and therefore Consistency would demand $a:c$ must be a Yes-interval. We can conclude that $R(a:d) =0$.
\end{proof}

Also, two disjoint intervals cannot both be yes. Notice that $b$ and $c$ are separated by a strict inequality in the following proposition. 

\begin{proposition} \label{pr:disjoint}
Let $R$ be an oracle and $a:b < c:d$. Then we cannot have both $R(a:b) = 1$ and $R(c:d) = 1$. 
\end{proposition}

\begin{proof}
By being Rooted, we must have at least one of $R(b:b) = 0$ or $R(c:c) = 0$ holding true, probably both. Let's assume $R(b:b) = 0$ without loss of generality.
 
Either $R(a:b) = 0$ or $R(a:b)=1$. If it is the first case, then we have established what we want to claim. So let us assume we are in the second case. 
 
Since $R(a:b) = 1$,  by Consistency, we have $R(a:d) = 1$. Then Separation applies for the intervals $a:b$ and $b:d$. Thanks to $R(b:b) = 0$, we have $1 = R(a:b) \neq R(b:d)$ and thus $R(b:d) = 0$. As $c:d$ is contained in $b:d$ and No intervals propagate downwards by Consistency, we must have $R(c:d)=0$  as we were to establish in this case. 
\end{proof}

This is equivalent to saying that all $R$-Yes intervals must intersect. 

We can thus see that one method of demonstrating that $R(a:b)=0$ for some given interval $a:b$ is to produce an interval $c:d$ disjoint from $a:b$ such that $R(c:d)=1$. On the other hand, if all neighborly $R$-Yes intervals intersect $a:b$, but none of them are strictly contained in $a:b$, then either $a$ or $b$ is contained in all such intervals. Let's say $a$ is. Then $R(a:a)=1$ by the Closed property and thus $R(a:b)=1$ as well. This situation is where the usual computational difficulties arise and we often have to resort to the notion of compatibility as described in the next section. 

We will also find the following couple of propositions to be useful. 

\begin{proposition}\label{pr:subinter}
Let $R$ be a neighborly oracle. Then given an $R$-Yes interval $a\lt b$, there exists an interval $c:d$ strictly contained in $a:b$ which is also an $R$-Yes interval. 
\end{proposition}

\begin{proof}
Since $R$ is a neighborly oracle but also satisfies the closed property, there exist $R$-Yes intervals $e:f$ and $g:h$ such that $a$ is not contained in $e:f$ and $b$ is not contained in $g:h$. 

Since $e:f$ and $g:h$ are Yes-intervals, their intersection is non-empty and also a Yes interval. Let's call that interval $c:d$.  Notice that the interval does not contain $a$ and does not contain $b$. It is an $R$-Yes interval and thus must have non-zero intersection with $a:b$. Since it does not contain the endpoints, $c:d$ must be strictly contained in the interval, as was to be shown. 
\end{proof}

\begin{proposition}\label{pr:multi}
For a neighborly oracle $R$ and a $R$-Yes interval $a\lt b$, any finite rational partition of $a:b$ will yield exactly one $R$-Yes interval. 
\end{proposition}

This is repeated application of the Separation property. 

\begin{proof}
Let $a < c_1 < c_2 < c_3 < \cdots < c_n < b$ be a given rational partition of the interval $a:b$ where all of the $c_i$ are rationals. We start with $R(a:b) = 1$ and that $R(c_i:c_i) = 0 = R(a:a) = R(b:b)$. By Separation, $R(a:c_1) \neq R(c_1:b)$. If $R(a:c_1)=1$, then we are done as $R(c_1:b)=0$ and also all sub-intervals are 0 as well since No propagates downwards. 

Let us then assume $R(c_1:b)=1$. We can then repeat. Assume $R(c_i:b)=1$. Then $R(c_i:c_{i+1})=1$ or $R(c_{i+1}:b)=1$. If the former, we are done, having shown all the intervals previously to be 0 as well as all the intervals later to be 0.  If the latter, we continue until $i+1 = n$. At that point, we have shown all prior intervals to be 0. Thus, $R(a:c_n)=0$ as $a:c_{n}$ is a union of No intervals. By separation, we must have $R(c_n:b) = 1$. 

We have shown what was desired. 
\end{proof}

For a singleton $R$, there is not much to say other than that any interval containing the singleton will be a Yes interval. So partitions would lead to either 1 Yes interval if the singleton is not on the boundary of the internal partitions or lead to 2 Yes intervals if it is on the boundary between two of them. 

\subsection{Equality and Ordering}

Two oracles are equal if they agree on all (rational) intervals. To prove inequality, it is therefore sufficient to find a disagreement. The basic tool is to find two disjoint intervals that we can guarantee different results on. 

If we have two different ``real numbers'', do we get different oracles for them? Since we are defining real numbers, this gets a little tricky, but we can imagine that what we mean by knowing the two numbers are different is that they are separated by a rational number. Let's assume $a < r < p < s < b$ where $r$ and $s$ are our two distinct real numbers and $p$ is a known rational that separates them, and $a$ and $b$ are two rationals we know sandwich the two reals. Then $a:p$ is a Yes-interval for the Oracle of $r$ while $p:b$ is a Yes-interval for the Oracle of $s$, and each of those intervals are No-intervals for the other oracle. 

For example, if we we want to distinguish the square roots of 2 and 3 from one another,\footnote{We will discuss square roots later, just assume the usual ordering properties for now} then $a = 1$, $p = \tfrac{3}{2}$, and $b = 2$ would suffice as $1 < \sqrt{2} < \tfrac{3}{2} < \sqrt{3} < 2$. Let $R$ be the Oracle of $\sqrt{2}$ and $S$ be the Oracle of $\sqrt{3}$, then we should have $R(1:\tfrac{3}{2}) = 1$, $R(\tfrac{3}{2}:2) = 0$,  $S(\tfrac{3}{2}:2) = 1$, $S(1, \tfrac{3}{2}) = 0$. Thus, these oracles are different. In particular, from this presentation, it would be reasonable to say $R < S$ and this is in line with our definition below.

If the oracles $R$ and $S$ cannot find an interval on which they disagree, but we also cannot prove that they agree on all intervals, then we can talk about compatibility and the resolution of that compatibility.

Let $R$ and $S$ be two oracles. We adopt the following relational definitions:

\begin{enumerate}
    \item $R=S$. $R$ and $S$ are equal if and only if they agree on all intervals. 
    \item $R < S$. $R$ is less than $S$ if and only if there exists $a:b < c:d$ such that $R(a:b) =1 = S(c:d)$. 
    \item $R > S$. $R$ is greater than $S$ if and only if $S < R$.
    \item $a:R?S:b$. $R$ and $S$ are $a:b$ compatible if $R(a:b)=S(a:b) = 1$.
    \item $R ? S$. $R$ and $S$ are compatible if and only if $R(a:b) = S(a:b)$ for all tested intervals $a:b$. 
\end{enumerate}

The interval $a:b$ is the \textbf{resolution of the compatibility of $R$ and $S$} if it is the shortest known interval which is both an $R$-Yes and an $S$-Yes interval. This is necessarily the intersection of all known mutually Yes intervals for $R$ and $S$.  If $R(a:b) = 1$, $S(c:d) = 1$, and $ a \leq c \leq b \leq d$ then the resolution of the compatibility of $R$ and $S$ is $c:b$. In the constructive texts, they formulate the $\varepsilon$-Trichotomy proposition which states that two real numbers $\alpha$ and $\beta$ satisfy either $\alpha < \beta$, $\beta < \alpha$, or $|\alpha - \beta| < \varepsilon$ for all $\varepsilon > 0$. Their assertion is that this is what can be proven constructively, i.e., with enough resources, one can establish this to be true for two given real numbers and an $\varepsilon$. See \cite{bridger} page 57. Even that result seems ambitious. 


We now state and prove a couple of basic statements required for the definition above to be correct. 

\begin{proposition}[Well-Defined]\label{pr:wd}
Both equality and inequalities are well-defined and exclusive to one another.  
\end{proposition}

\begin{proof}
Equality is immediate as that is a claim on the status of all intervals. 

For the inequalities, what we wish to prove is that if $R < S$ then we do not also have $R=S$ or have $R > S$. For both of these, we use Proposition \ref{pr:disjoint} which states that disjoint intervals cannot both be Yes-intervals. 

Let us assume that $R<S$ with the implied Yes intervals $a:b < c:d$ where $R(a:b)=1 =S(c:d)$.

To show that they are not equal, we need to demonstrate that the rules give a different result on an interval. By the disjointness of these intervals, we know  $R(c:d) = 0 = S(a:b)$. They are therefore not equal on these intervals and not equal as oracles.  

Now we look to prove that $R>S$ can not also be true. By $R > S$, we have intervals $e:f > g:h$ such that $R(g:h) = 1 = S(e:f)$. We must have non-empty intersections for Yes intervals of the same oracle. So let us denote $m:n$ and $p:q$ as the intersections of $a:b$ with $e:f$, and $c:d$ with $g:h$, respectively. Since they are contained in these intervals, we have from $e:f > g:h$ that $m:n > p:q$ and from $a:b < c:d$, we have $m:n < p:q$. As both cannot be true, we cannot have both $R>S$ and $R<S$. 
\end{proof}

\begin{proposition}[Known Trichotomy]
One of the three relational properties must hold for any given pair of oracles $\alpha$ and $\beta$ based on $\alpha$-Yes interval $a:b$ and $\beta$-Yes interval $c:d$: $\alpha < \beta$,  $\alpha > \beta$, or $\alpha ? \beta$. 
\end{proposition}

\begin{proof}
     Either $a:b < c:d$ or $a:b > c:d$, or $a:b \cap c:d$. This follows from the trichotomy property for rationals extended to rational intervals. Indeed, if $a \leq b$ and $c \leq d$, then we can compare $a$ to $c$ and $b$ to $d$. If $b < c$, then $a:b < c:d$ and $\alpha < \beta$. If $d < a$   then $c:d < a:b$ and $\beta < \alpha$. Otherwise, we have $b \geq c$ and $d \geq a$. Let $e= \max(a,c)$ and $f = \min(b,d)$. Then, we have $a:e:f:b$ and $c:e:f:d$. We can conclude $e:f$ is the non-empty intersection of both intervals and $e:\alpha ? \beta:f$. 
\end{proof}

From the perspective of a single comparison of given Yes-intervals, the only way equality could be established is if those intervals were equal singletons. To establish equality, one must have an argument that somehow applies to an infinite number of intervals. We have some statements to that effect below. 

\begin{proposition}[Transitive Law]\label{pr:transitive}
Let $R$, $S$, and $T$, be oracles that satisfy $R<S$ and $S < T$. Then $R < T$.
\end{proposition}

\begin{proof}
By the assumptions, we have $a:b < c:d$ where $R(a:b) = 1 = S(c:d)$ and $R(c:d) = 0 = S(a:b)$. We also have $e:f < g:h$ where $S(e:f) = 1 = T(g:h)$ and $S(g:h) = 0 = T(e:f)$. We need to show $a:b < g:h$.

Let $m:n$ be the intersection of $c:d$ with $e:f$. This exists since disjoint intervals cannot both be Yes intervals for the same oracle (Proposition \ref{pr:disjoint}). Note that $S(m:n) = 1$ since the intersection of Yes-intervals is again a Yes-interval (Proposition \ref{pr:inter}). Since $m:n$ is contained in $c:d$, it satisfies $a:b < m:n$. Similarly, $m:n$ is contained in $e:f$ which gives us $m:n < g:h$. Since the inequality of intervals is transitive, we have $a:b < g:h$ as was to be shown. 
\end{proof}

We can also add in definitions of intervals. While we could rely on the customary definitions based on the ordering relations, we will cast it in the language of oracles. In what follows, we assume $\alpha < \beta$, $a:b$ is the representative $\alpha$-Yes interval, $c:d$ is the representative $\beta$-Yes interval, and $a:b < c:d$. Then: 

\begin{enumerate}
\item The oracle $\gamma$ is in the closed interval $[\alpha, \beta]$ if $a:d$ is a $\gamma$-Yes interval for all such $\alpha$ and $\beta$-Yes intervals. 
\item The oracle $\gamma$ is in the open interval $(\alpha, \beta)$ if $b:c$ is a $\gamma$-Yes interval for some such $\alpha$ and $\beta$-Yes intervals. 
\item The oracle $\gamma$ is in $[\alpha, \beta)$ if $a:c$ is a $\gamma$-Yes interval for all such $\alpha$-Yes intervals and for some such $\beta$-Yes interval.
\item The oracle $\gamma$ is in $(\alpha, \beta]$ if $b:d$ is a $\gamma$-Yes interval for all such $\beta$-Yes intervals and for some such $\alpha$-Yes interval.
\item The oracle $\gamma$ is in the open interval $(\alpha, \infty)$ if $b$ is the lower bound for a $\gamma$-Yes interval for some $\alpha$-Yes interval. 
\item The oracle $\gamma$ is in the open interval $(-\infty, \alpha)$ if $a$ is the upper bound for a $\gamma$-Yes interval for some $\alpha$-Yes interval. 
\item The oracle $\gamma$ is in the half-closed interval $[\alpha, \infty)$ if for all $\alpha$-Yes intervals, $a$ is the lower bound for a $\gamma$-Yes interval. 
\item The oracle $\gamma$ is in the open interval $(-\infty, \alpha]$ if for all $\alpha$-Yes intervals, $b$ is the upper bound for a $\gamma$-Yes interval. 
\end{enumerate}


\subsubsection{Equality}

\begin{proposition}\label{pr:reflexive}
The equality relation is reflexive, symmetric, and transitive. 
\end{proposition}

\begin{proof}
This is immediate from the properties of equality of natural numbers. Indeed, the statements of these are the proofs:
\begin{itemize}
    \item Reflexive: $R(a:b)=R(a:b)$ for all intervals $a:b$ and rules $R$.
    \item Symmetric: For all intervals $a:b$ and rules $R$, $S$, $R(a:b)=S(a:b)$ if and only if $S(a:b) = R(a:b)$ 
    \item Transitive: If $R(a:b)=S(a:b)$ and $S(a:b) = T(a:b)$ then $R(a:b)=T(a:b)$. This holds for all for all intervals $a:b$ and rules $R$, $S$, $T$.
\end{itemize}
\end{proof}

If we have $a:R?S:b$, then they also agree (Yes) on all intervals that contain $a:b$ as well as all intervals disjoint from $a:b$ (No). 

Thus, two oracles could be equal, unequal, or compatible. The latter is for rules that we cannot find an interval of disagreement, but we have not been able to establish equality. 

We want to formalize that two oracles whose Yes intervals always overlap are, in fact, the same oracle.

\begin{proposition}\label{pr:overlap}
Let $R$ and $S$ be two oracles such that whenever $R(a:b)=1$ and $S(c:d)=1$, we have the existence of $e:f$ such that $e:f$ is contained in $a:b$ and $c:d$.  Then $R =S$.
\end{proposition}

\begin{proof}
To start, let us look at the case of $R$ being Yes on a singleton, say $R(a:a) = 1$. Then for every $S$-Yes interval $c:d$, we have $e:f$ contained in $a:a$ and $c:d$. But that means $a=e=f$ and $a$ is contained in $c:d$. Since $S$ is Closed, we must have $S(a:a)=1$. By being Rooted and Consistent, $S$ and $R$ must agree on all intervals and are equal. 

We can now proceed with the assumption that both are neighborly oracles which means every rational in a Yes interval will separate the intervals. 

Let us take $R(a:b) = 1$ and $S(c:d) = 1$. Define $e$ and $f$ such that $e:f$ is the intersection of $a:b$ and $c:d$; this is non-empty by the assumed condition of the statement. We will prove from this that $R(e:f)=1 = S(e:f)$ which by Consistency then implies $R(c:d) = 1 = S(a:b)$. This then establishes equality on all intervals. 

By $e:f$ being contained and by perhaps relabeling, we can assume $a \leq e \leq f \leq b$ and $c \leq e \leq f \leq d$. 

By not being singletons, Proposition \ref{pr:multi} tells us that exactly one of $a:e$, $e:f$, or $f:b$ is an $R$-Yes interval. Similarly, for $S$, exactly one of $c:e$, $e:f$, and $f:d$ is a $S$-Yes interval. This would be an immediate conclusion if $a < e < f < b$ and $c < e < f < d$. However, that need not be the case, and, in fact, will not be the case of strict inequality for all of them as these are overlapping intervals. So something like $a < c = e < f = b < d$ is to be expected as is $a < c = e < d = f < b$. 

In any event, if $a=e$, for example, we know $R(a:e) = 0$ because that is actually a singleton and we are in the neighborly case. We can then apply the partition case for any neighborly intervals. We know there must be at least one neighborly interval as the Yes-intervals $a:b$ and $c:d$ are not singletons by the assumption of this case we are doing. 

So let us now look at one of the edge cases. Let's look at what happens if $R(a\lt e) = 1$; the other three edges are similar. If $R(a:e) =1$ we can apply Proposition \ref{pr:subinter} to obtain a sub-interval of $a:e$, say $m:n$, such that $R(m:n) = 1$ since $R$ is not a singleton. 

By the initial assumption, $m:n$ must have a non-empty intersection with $c:d$. But $a\lt e$ only intersects with $c:d$ at $e$ and $e$ is not in $m:n$. Hence, we have a contradiction and $R(a:e)=0$ must be the conclusion. Similarly, $R(f:b) = S(c:e) = S(f:d) = 0$. This leaves us with the only option of $R(e:f) = S(e:f) = 1$. We thus have our result by Consistency.  

\end{proof}


\begin{corollary}
    If $R$ and $S$ are two oracles such that whenever $R(a:b) = 1$, there exists an interval $c:d$ contained in $a:b$ such that $S(c:d) = 1$. Then $R=S$.
\end{corollary}

\begin{proof}
Let $R(a:b)=1$ and $S(e:f) = 1$. To use the proposition above, we need to establish that $e:f$ and $a:b$ intersect. By assumption, there exists an $S$-Yes interval $c:d$ contained in $a:b$. Since both $c:d$ and $e:f$ are $S$-Yes intervals, they have a non-empty intersection. This intersection must be contained in $a:b$ since $c:d$ is. Therefore, $e:f$ and $a:b$ have a non-empty intersection. As these were arbitrary, the proposition above allows us to conclude $R=S$.
\end{proof}


\subsection{Bisection Approximation}

Let $R$ be the Oracle of $r$. We will use $R$ to compute an approximation of $r$ to any desired level of accuracy. 

The existence property of $R$ gives us a starting interval, say $a:b$ with length $L$. Then take the average $c = \frac{a+b}{2}$. Since $R$ is separating, we can use it to determine whether $R(a:c) = 1$ or $R(c:b) = 1$ or $R(c:c) = 1$. If it is the latter, we are done and $r$  is the oracle of $c$. If it is one of the former, then we use that new interval to repeat the same process, but the length of the interval is now $\frac{L}{2}$. 

If we do this $n$ times, then the length will be $\frac{L}{2^n}$ which allows us to compute $r$ to be within any level of given accuracy. 

This is the bisection method, of course, and oracles provide exactly what we need to use it. 

We have proven that: 

\begin{proposition}\label{pr:short}
For a given oracle and length, we can produce a Yes interval shorter than that length. 
\end{proposition}

This is helpful in establishing the arithmetic properties. Later we will discuss the mediant approximation which is generally a pretty pleasant computational method to employ with a nice relationship to continued fractions. 

Note that the bisection method will not usually produce the singleton if $r$ is a singleton. The mediant approximation does. 

\subsection{Two Point Separation}

The Consistency, Existence, and Closed Properties are basically background properties, often flowing immediately from the definition of the oracle. Both Consistency and Closed are often just added in. Their reason for being in the properties is to ensure the uniqueness of the oracle via maximality. Consistency is relatively trivial and mostly uninteresting, but the Closed property is, in many ways, at the heart of the promise and difficulties of real numbers, in whatever way they are defined. 

The two properties that are more negotiable are the Separation and Rooted properties. They are very much a pair that could be replaced with something else. I desired to highlight the Separation property because of the bisection and mediant approximation schemes. It seems that a good way of approximating is to pick a next number and then replace one of the endpoints with it. The way I wrote the Separation property, however, does not guarantee by itself that the procedure will work. It also has to be the case that if it gets stuck on a rational that that is the end of the process and the oracle is the oracle of that rational number. For that, we need the rooted property. 

One equivalent version, which we will talk about later, is requiring intersections of Yes intervals to be Yes intervals and that we can always find a Yes subinterval which is at most a given length within a Yes interval. This is what the family of overlapping, notionally shrinking intervals covers. 

Another equivalent version is to demand the ability to separate any two given points. Namely, the \textbf{Two Point Separation Property} is defined as, for a rule $R$: Given an $R$-Yes interval $a:b$ and two numbers $c,d$ in $a:b$, we can find an $R$-Yes interval $e:f$ contained in $a:b$ such that at least one of the two numbers is not in $e:f$. Furthermore, we also require the \textbf{Disjointness Property}: Any two disjoint intervals cannot both be Yes intervals. 

We need to assume disjointness as No does not propagate upwards from the background properties, unlike Yes. For example, consider the rule which is Yes if an interval $a:b$ satisfies either $a^2:2:b^2$ or $a^2:3:b^2$. That is, they contain either the square root of 2 or 3. Consistency, Existence, and Closed are satisfied. Given any rational number, we can find a Yes interval that does not contain it. Yet we want this to fail as we want it to represent a unique answer. This example is ruled out by the Disjointness property. 

\begin{proposition}
    Let $R$ be a rule that satisfies the Consistency, Existence, and Closed Properties. Then requiring the properties of Separating (Interval Separation) and Rooted is equivalent to requiring the properties of Two Point Separation and Disjointness. 
\end{proposition}

\begin{proof}
    Let us assume we have the Separating and Rooted properties holding. And let $a:b$ and $c\lt d$ be given as in the Two Point Separation Property. By the Separating property, we know that either $m =\frac{c+d}{2}$ is in all the intervals or that $R(a:m) \neq R(m:b)$. If it is the latter, then we know that either $c$ or $d$ is in a No-interval and we are done. If it is the former, than the rooted property tells us that both $c$ and $d$ are not Yes singletons and their own singleton intervals are the necessary No intervals required. We also know that any interval not containing $m$ is a No interval. 
    
    Proposition \ref{pr:disjoint} establishes the Disjointness Property. 

    For the other direction, the Rooted property follows immediately from the Disjointness Property since $c \neq d$ implies $c:c$ and $d:d$ are disjoint. 
    
    To establish the Separation property, we need to consider a sequence of numbers approaching the $c$ of that property and argue that either $c$ is not in one of those intervals or it is a Yes singleton. Let $a_0=a$, $a_{i+1} = \frac{a_i + c}{2}$, $b_0 = b$, and $b_{i+1} = \frac{b_i + c}{2}$. Then using the Two Point Separation Property on $a_i$, $c$, we have the existence of a Yes interval, say $e_i:f_i$, that does not contain at least one of them. Similarly, we also have intervals $g_i:h_i$ which does not contain at least one of $b_i$ or $c$. 
    
    If for some $i$,  we have that either $e_i:f_i$ or that $g_i:h_i$ does not contain $c$, then we are done as that interval, let us call it $I$,  will be in $a:b$, but since $I$ does not contain $c$, it must be contained either in $a:c$ or $c:b$. By consistency, we can expand the Yes one to be fully one of those. The other one must be No since the intersection with $I$ is empty. 
    
    The other case is that $e_i:f_i$ and $g_i:h_i$ contains $c$ for every $i$. Then we claim that every Yes interval contains $c$. For let $m:n$ be an interval in $a:b$ that did not contain $c$. We have two cases, but, without loss of generality, we can assume that $m:n$ is contained in $a:c$.\footnote{The other case is that $m:n$ is contained in $b:c$. The argument changes by replacing $a$ with $b$, $e$ with $g$, and $f$ with $h$.} Let us assume that $n$ is closer to $c$ than $m$. Then define $p =\frac{n+c}{2}$. By the construction of the $a_i$, there exists $j$ such that $a_j$ is closer to $c$ than $p$ is. We then have $e_j:f_j$ contains $c$ but not $a_j$. This means that $e_j:f_j$ cannot intersect $m:n$. Since $e_j:f_j$ is a Yes interval, that means $m:n$ is a No interval. As a rough sketch of the relations of these numbers, we have $a:m:n:p:a_j:e_j:c:f_j$ where $a_j$ is definitively not in the interval $e_j:f_j$. The same argument, after relabeling, establishes that there can be no interval in $b:c$ not containing $c$ which can be a Yes interval. 

    Thus, $c$ is contained in every Yes-interval and, by the Closed property, $c:c$ is a Yes interval. 

    Between the two cases, we have established the Interval Separation Property. 
\end{proof}

This latter version is what seems to generalize in a fairly straightforward way to other kinds of spaces. The interval separation property, on the other hand, feels inherently one dimensional. 

\section{Examples}

It is always good to have examples. In particular, how do we obtain various oracles in common situations? 

We shall start with how the rational numbers appear. We then define oracles for $n$-th roots,  numbers with more general approximation schemes, and least upper bounds of sets. We also investigate a couple of examples of indeterminate rules. For each of them, we will define the rule and then establish the properties by the definition. 

\subsection{Rational Oracles}

Given a rational $q$, we define the Oracle of $q$ as the rule $R(a:b) = 1$ if and only if $q$ is contained in $a:b$. This includes the singleton $q:q$.  We may call these rational oracles, rooted oracles, or singleton oracles. The number $q$ is the root of the oracle. 

We can verify the properties of the rational Oracle of $q$ as follows: 

\begin{enumerate}
    \item Consistency. If $R(a:b)=1$, then $q$ is contained in $a:b$. If $c:d$ contains $a:b$, then $q$ is contained in $c:d$. Thus, $R(c:d)=1$.
    \item Existence. $q$ is contained in $q:q$ so $R(q:q)=1$.
    \item Separating. If $R(a:b) =1$, then $q$ is contained in $a\lt b$. Let $c$ be strictly in $a:b$. We have three possibilities: 
    \begin{enumerate}
    \item $c=q$. Then $R(c:c) = R(q:q) = 1$.
    \item $a \lt q \lt c$. Then $a:c$ contains $q$ and $c:b$ does not. So $R(a:c)=1 \neq 0 =R(c:b)$.
    \item $c \lt q \lt b$. Then $c:b$ contains $q$ and $a:c$ does not. So $R(c:b)=1 \neq 0 =R(a:c)$.
    \end{enumerate}    
    \item Rooted. For $c \neq q$, $c:c$ does not contain $q$ and therefore $R(c:c)=0$.
    \item Closed. Assume $c$ is contained in all $R$-Yes intervals. Then, in particular, $c$ is in $q:q$ and thus $c=q$ and $R(c:c)=1$. That feels a little too reliant on the inclusion of the singleton. To make this a little more robust, assume $c \neq q$, say, $c < q$. Then  $a=c-1 < c < d=\dfrac{c+q}{2} < q < b=q+1$. Since $q$ is in $b:d$ but not in $a:d$, we have $R(a:d)=0$ and $R(b:d)=1$. Hence $c \neq q$ is not in all $R$-Yes intervals.
\end{enumerate}

We will see with the operations that these oracles are the natural representatives of the rational numbers, obeying the arithmetic that we would want them to obey.  

We also claim that if we have an oracle with rule $R$ such that there is a rational $q$ with $R(q:q)=1$, then it is the Oracle of $q$, whose rule we shall call $Q$. If the oracle is different, then there is an interval $a:b$ on which they disagree. Since $R(q:q) =1$, all the  $Q$-Yes intervals are also $R$-Yes intervals. Therefore, we need to prove that for a given  $Q$-No interval $a:b$, we must also have it be an $R$-No interval. Because it is $Q$-No, it does not contain $q$. It is therefore disjoint from $q:q$. But by the disjoint property, Proposition \ref{pr:disjoint}, we have $R(a:b)=0$. Thus, the two oracles agree on all intervals and we have uniqueness. 

The property of being closed also prevents having an oracle which agrees with all the $Q$-Yes intervals except $q:q$. Closed forces $R(q:q)=1$ if all $R$-Yes intervals contain $q$.

\subsection{Roots}\label{sec:roots}

For the positive $n$-th root of a positive rational number $q$, the Oracle rule would be for $R(a\lte b) = 1$, if and only if $b> 0$ and $q$ is contained in $\max(a,0)^n:b^n$. If $a\geq 0$, then this is the statement $a^n:q:b^n$. From this definition, if we have $a:a$, then $R(a:a) = 1$ if and only if $a>0$ and $a^n = q$.

We will use the monotonicity of $x^n$ for positive $x$ which follows from the basic inequality fact of $ 0 < a < b$ implying $0 < a^n < b^n$.

We can verify the properties of the Oracle of $\sqrt[n]{q}$ as follows: 

\begin{enumerate}
    \item Consistency. Because of the monotonicity of $x^n$ for positive $x$, consistency holds. Namely, assume $a\lt b$ is contained in $c \lt d$ and $R(a:b)=1$. If $c>0$, then $c^n \leq a^n \leq q \leq b^n \leq d^n$ and we see that this holds. If $c<0$ then we need to show $0 \leq q \leq d^n$. Since $0 \leq q \leq  b^n \leq d^n$, this holds. 
    \item Existence. Let $M = \max(q, 1)$. Then we claim $0 < q \leq M^n$. If $q \geq 1$, then $q^{n-1} \geq 1^{n-1} = 1$ and $M^n = q^n \geq q \geq 1 > 0$. If $ q < 1$, then $M=1$ and $0 < q < M^n = 1$. Either way, $R(0:M) = 1$. 
    \item Separation. Let $a\lt b$ be given such that $R(a:b)=1$. Let $a < c <b$ be given. We need to show that either $R(c:c) = 1$ or $R(a:c) \neq R(b:c)$. We proceed by cases:
    \begin{enumerate}
        \item $c^n = q$. Then $R(c:c) =1$.
        \item $c \leq 0$. Then $a<0$ and $q$ is contained in $0:b^n$. Thus, $R(c:b) = 1$ and $R(a:c) = 0$. 
        \item $c>0$, $c^n <q$. Then $c^n:q:b^n$ and $R(c:b)=1$. Since we have $\max(a, 0)^n :c^n:q$, we have $R(a:c)=0$. 
        \item $c>0$, $c^n > q$. Then $a^n:q:c^n$ and $R(a:c) = 1$. We also have that $q:c^n:b^n$ implying $R(c:b)=0$.
        \item Assume $c>0$. If $c^n = q$, then $R(c:c)=1$ and we are done. If $c^n < q$, then $c^n < q< b^n$ and $R(c:b)=1$. Since $c^n$ would be the upper bound on the $a:c$ interval computations, we have that $q$ is not in $a^n:c^n$ and $R(a:c)=0$. Finally, if $c^n > q$, then we have that $R(a:c)=1$ since $a$ or $0$ will be a sufficient lower bound in the cases. Meanwhile, $R(c:b) = 0$ since $q$ is not between $c^n$ and $b^n$. 
    \end{enumerate}
     \item Rooted. This relies on the equation $x^n = q$ having at most one positive solution. This follows from monotonicity. 
    \item Closed. Consider a rational number $p$. We want to show that either $p>0$ with $p^n = q$ in which case $R(p:p)=1$ or that if $p^n \neq q$ then there exists an interval $a:b$ such that $R(a:b)=1$ but $p$ is not in $a:b$. Let $M = \max(q, 1)$; the 1 is needed since if $q<1$, then $q^n < q < 1$ and we want to make sure we have $M^n > q$.
    
    If $p < 0$, then the interval $0:M^n$ contains $q$ and does not include $p$ so $0:M$ is a $R$-Yes interval excluding $p$. Let us therefore assume $p \geq 0$ and that $p^n \neq q$. In the case that $p^n > q$, there is an $s$ such that $s<p$ and $s^n > q$ (well-known fact, but see Appendix \ref{app:A} Lemma \ref{app:greater}). Therefore, $R(0:s) = 1$ and $p$ is not in $0:s$. For the case of $p^n < q$, we have the existence of an $s$ such that $s > p$ and $s^n < q$ (Appendix \ref{app:A} Lemma \ref{app:lesser}). We thus have $R(s:M)=1$ and $p < s$ is not in the interval $s:M$.
    
\end{enumerate}

While we have not done the arithmetic of oracles yet, the short version is that taking an oracle to the $n$-th power means the new oracle consists of intervals that are the result of applying the $n$-th power to the Yes-intervals of the original oracle. Since $q$ is in $a^n:b^n$ for every $0<a:b$ $\sqrt[n]{q}$-Yes interval, we have that $(\sqrt[n]{q})^n$ does equal the oracle $q$.\footnote{For $n$-th root Yes -intervals of the form $a:0:b$, the $n$-th powering of that interval will still include $q$ even if $-a>b$. See Section \ref{containment}, item \ref{natpow}.} 

Finally, we can establish the ordering of square roots, namely that if $0 \leq p<q$, then $\sqrt[n]{p} < \sqrt[n]{q}$. We do this by narrowing the intervals sufficiently, using Proposition \ref{pr:short} so that the $n$-th power of the intervals are still disjoint. We then argue inequality based on the gap and translate it back down to oracle intervals via monotonicity. 

\begin{proposition}
    If $0 \leq p <q$, then $\sqrt[n]{p} < \sqrt[n]{q}$.
\end{proposition}

\begin{proof}
    Let $L = q-p > 0$. Also let $M = \max(1, q^n)$.  Since we have established that $n$-th root is an oracle, we can find intervals $a\lt b$ and $c \lt d$ such that $a^n:p:b^n$, $b-a < \frac{L}{3(n-1)M^{n-1}}$, $c^n:q:d^n$, and $d-c < \frac{L}{3(n-1)M^{n-1}}$ and $d, b < M$.  Then $b^n-a^n = (b-a) \sum_{i=0}^{n-1} b^i a^{n-1-i} < (b-a)(n-1) b^{n-1} < \frac{L}{3(n-1)M^{n-1}} (n-1) M^{n-1} = \frac{L}{3}$ using the fact that $b<M$ implies $b^{n-1} < M^{n-1}$. Similarly, $d^n-c^n < \frac{L}{3}$. This implies that $b^n < a^n + \frac{L}{3} < p + \frac{L}{3} < q -  \frac{L}{3} < d^n - \frac{L}{3} < c^n$. Since $b^n < c^n$, we have $b < c$ thanks to the monotonicity of $x^n$ for positive $x$. We therefore have $a:b < c:d$ and therefore their respective oracles satisfy this as well, namely $\sqrt[n]{p} < \sqrt[n]{q}$.
\end{proof}



\subsection{Intermediate Value Theorem}

A well-known process that is a canonical example for defining an oracle based on the separation property, is that of finding solutions to equations using the process of the Intermediate Value Theorem. 

In this section, we will assume we have a function $f$ defined on the rationals to the rationals. Section \ref{sec:funora} has a different approach to functions and also generalizes the Intermediate Value Theorem in that context. 

Let us say that we are trying to solve $f(\alpha) = y$ on the interval $a:b$ and we have $f(a):y:f(b)$. Then we define a rule $R$ for intervals in $a:b$ such that $R(c:d) = 1$ exactly when $f(c):y:f(d)$ holds true. If we have $c:d$ partially outside $a:b$, then the oracle pronounces Yes or No based on the pronouncement on the intersection of $c:d$ with $a:b$. It gives a No if $c:d$ does not intersect $a:b$ at all. This choice will yield consistency. If $f$ is strictly monotonic for all rationals, then the definition simplifies to $R(c:d)=1$ exactly when $f(c):y:f(d)$ without having to worry about intersecting an interval $a:b$. We would still need to establish the existence of one such interval. 

For a random function $f$, this is not going to define an oracle. It will define a process that can certainly define an oracle. In particular, we can take the midpoint of the interval, make a choice of interval, take that midpoint, pick a new subinterval, etc. This is a sequence of narrowing, overlapping intervals and hence will define an oracle. But without more control on the function, different choices will potentially lead to different outcomes. 

To make it independent of choices, we can take $f$ to be strictly monotonic on $a:b$ and rationally continuous.\footnote{Given $N >0$ and a rational $q$, we can find $M$ such that if $|q-r|<\frac{1}{M}$ for a rational $r$, then $|f(q)-f(r)| < \frac{1}{N}$.} This will ensure that any subinterval in $a:b$ will give consistent results. In particular, it will satisfy

\begin{enumerate}
    \item Consistency. If we have the rational sandwiching $a:c:g:h:d:b$ and we have that $g:h$ is a Yes interval, then by monotonicity, we have $f(c):f(g):y:f(h):f(d)$ and so $c:d$ is a Yes interval. For intervals $c:d$ that are partially outside, $a:b$, the definition of following the pronouncements of the intersection is what consistency demands to hold. 
    \item Existence. $a:b$ is a Yes interval.
    \item Separating. Let $c:d$ be a Yes interval in $a:b$ and let $q$ be given as a number in $c:d$. We want to establish that $q$ separates the interval. Since $c:d$ is a Yes interval, we have $f(c):y:f(d)$. We compute $f(q)$. If $f(q) = y$, then $f(q):y:f(q)$ and $q:q$ is a Yes singleton. Let us assume that is not the case. If $f(c):f(q):y:f(d)$, then $q:d$ is a Yes interval and, thanks to monotonicity, $y$ cannot be in $f(c):f(q)$ so $c:q$ is a No interval. If $f(c):y:f(q):f(d)$, then $c:q$ is a Yes interval and $q:d$ is a No interval by monotonicity. Thus, Separation holds. 
    \item Rooted. We need strictly monotonic here. Assume $q:q$ and $r:r$ are both Yes singletons. Then $f(r):y:f(r)$ and $f(q):y:f(q)$ holds true. This implies $f(q)=f(r)=y$. This is impossible if we have strict monotonicity. If did not have the strictness, then the example of $f(x)=y$ for all $x$ is an example which works except it is not rooted.  
    \item Closed. Let's assume that $q$ is such that $q$ is in every Yes-interval. We need to show that $q:q$ is a Yes interval which means $f(q):y:f(q)$ implying $f(q) =y$ and $q$ is the actual solution. To establish this, we use continuity. Assume $f(q) \neq y$. Let's say $|f(q)  - y| = L$. Find $N$ such that $\frac{1}{N} < \frac{L}{3}$. By continuity, we have an $M$ such that $|q-r|<\frac{1}{M}$ implies $|f(q)-f(r)| < \frac{1}{N} < \frac{L}{3}$. Since $q$ is contained in all Yes intervals, we have a Yes interval $c:d$ contained in $q-\frac{1}{M}:q+\frac{1}{M}$, so that $f(c):y:f(d)$ holds true, but we also have $|f(q)-y| = |f(q) - f(c) + f(c) - y| \leq |f(q)-f(c)| + |f(c)-y| \leq |f(q)-f(c)| + |f(c) - f(d)| \leq |f(q) - f(c) | + |f(c) - f(q)| + |f(q) - f(d)| < L$. Since this is a contradiction, we must have $f(q) = y$.
\end{enumerate}

So under those conditions we have a well-defined oracle. Under more general conditions, we can describe a method which will produce an oracle, possibly using the notion of a fonsi from the next section, though it might not be unique.  

By a similar argument to the closed case, we can argue that if $\alpha$ is the oracle defined above, then $f(\alpha)=y$ by continuity. Indeed, assume it was not true and then we can use rational intervals and continuity to make the case. We are assuming here that we understand how to define $f$ on the real numbers and that both continuity and monotonicity is maintained. One approach can be found in the function oracle section. 

We are on solid ground to define $\sqrt[n]{q}$ as the solution to $x^n = q$ with starting interval $1:q$ if we wanted to do so. Since $a^n : q: b^n$ is what the function process above yields, it is trivial to see that this agrees with the previous definition. This process can be used to define solutions to a variety of rational equations. 

More ambitiously, we can define $\pi$ as the zero of $\sin(x)$ on the interval $[3,4]$. We can define $e$ as the solution to  $\ln(x)=1$ on the interval $[2,3]$. These latter two require some words about rational approximations to these transcendental functions, but our rational approximations to them can be made sufficiently fine to ensure we can get the information we need to make the choices, at least for a normal practical level of concern.  To get detailed approximations, we can use the bisection method or can we use the mediant method as detailed in Section \ref{sec:mediant} and even produce the continued fraction representation for these numbers.
 
Most of the real number constructions would be compatible with the general sequence approach, but they have no particular motivation to have the monotonicity conditions for uniqueness. The one exception is the Dedekind cut approach which fits most easily with the monotonicity. We can define the cut as $\{x| (x<a) \vee (a \leq x \leq b \wedge f(x) < y) \}$. But this would not give any particular guidance in narrowing down to the solution nor would it be particularly helpful in the general sequence. Oracles handle both points of view equally well. 



\subsection{Family of Overlapping, Notionally Shrinking Intervals} \label{sec:ni}

A common way of defining a real number is through some specification of intervals whose length is shrinking to 0. This is often in the guise of some core estimate along with some error bounds. We will establish that this is an oracle. 


We define a \textbf{fonsi} to be a family of overlapping, notionally shrinking intervals meaning it is a set of (rational) intervals which are all pairwise intersecting and such that if we are given a positive rational length $q$, there exists at least one interval in the family whose length is less than $q$.\footnote{We use the term ``notionally shrinking'' to indicate that we want to think of it as shrinking intervals, but there need not be any sequential aspect to this that would qualify as shrinking. Rather, we just have the ability to find an interval whose length is at least as small as any non-zero length we care to specify.} Singletons are allowed in the family and they have length 0.\footnote{There can be at most one singleton as the singletons need to intersect, but we need not presuppose the uniqueness.} A set consisting of a single singleton does qualify for being a fonsi.

Given a fonsi, we define an oracle to be the rule that an interval is a Yes-interval if the interval contains a finite intersection of elements of the fonsi. 

One method of defining real numbers among constructivists is to equate a fonsi with a real number though they do not use that term. See \cite{bridger} and \cite{bridges} for details. The fonsi framework is appealing to the constructivist framework as it more aligns with their methods of proof and construction. 

An easy category is that of nested intervals whose lengths are going to 0. We can also have a sequence of numbers with error bounds such that successive numbers are contained within the previously indicated error bounded intervals.  It is very common to have error bounds in applications and this is how we can easily establish them as oracles. 

Before we establish that we can define an oracle from a fonsi, we need to establish that the pairwise intersection scales to intersections of arbitrary finite collections of  intervals in a fonsi. 

\begin{proposition}
 Let $\mathcal{I}$ be a fonsi and $I_i$ be a finite collection of intervals in $\mathcal{I}$. Then the intersection $\cap I_i$ is non-empty.
\end{proposition}

\begin{proof} 
    Consider the intersection $\bigcap_{i=0}^n I_i$ where each $I_i$ is an interval in $\mathcal{I}$ and we have ordered them such that if $I_i = a_i : b_i$ then the lower bounds $a_i$ are ordered from least to greatest. That is,  $a_i \leq a_{i+1}$ for all $0 \leq i < n$. By the definition of a fonsi, $I_n$ intersects $I_i$ for each of the $i$ and for that to happen, we must have that $a_n \leq b_i$ for every $i$. That is, since the lower bound of $I_n$ is greater than or equal to the lower bound of $I_i$ and the intervals intersect, the lower bound of $I_n$ must be less than or equal to the upper bound of $I_i$. Therefore, $a_n$ is contained in $I_i$ for every $i$ and the intersection is non-empty. 
\end{proof}


\begin{corollary}
Let $A$ and $B$ be two finite intersections of intervals in the fonsi $\mathcal{I}$. Then the intersection of $A$ and $B$ is non-empty.
\end{corollary}

\begin{proof}
    If $A$ is the result of the intersection of $I_i$ for $0 \leq i \leq n$ and $B$ is the result of the intersection of $I_i$ for $n+1 \leq i \leq m$ where $I_i$ are intervals in $\mathcal{I}$, then the intersection $\bigcap_{i=0}^m I_i$ is the same as the intersection of $A$ and $B$. By the proposition, the intersection of any finite collection of intervals of $\mathcal{I}$ is non-empty and, therefore, $A \cap B$ is non-empty. 
\end{proof}

\begin{proposition}\label{pr:fonsi-inf-inter}
Let $A$ be any collection of intervals in the fonsi $\mathcal{I}$ such that the intersection of all of those intervals is non-empty. Then it will have non-empty intersection with any other element of $\mathcal{I}$.
\end{proposition}

Note that the intersection need not be a closed interval as the example of $-a_i : a_i$ demonstrates where $a_i$ is some sequence of upper bounds to the square root of $2$. This could then be made into a fonsi by adding $0:0$. The intersection of the $-a_i:a_i$ is $[-\sqrt{2}, \sqrt{2}]$, but since we are dealing only with rational intervals, this will not have the endpoints. This is a little pathological in the sense that such intersections are not the interest of the fonsi, but it can certainly be possible. 

The two basic cases for a fonsi is whether it represents a rational or an irrational. If it is a rational, then the rational is in the common intersection of all the elements and this statement holds. If it is irrational, then the ultimate intersection of all the elements is empty, but we can have versions of the above pathology in which we have an infinite collection of intervals intersecting elsewhere and it will still have intersection near the real as every interval has to surround the real. Indeed, instead of adding $0:0$ to the above example, add $b_i:a_i$ where $b_i$ is a sequence of lower bounds to square root 2 converging. The ultimate intersection of all of the intervals is empty, but the intersection of $b_i:a_i$ with the infinite intersection of the $-a_i:a_i$  is not-empty. 

\begin{proof}
Let $c:d$ be an interval in $\mathcal{I}$. 

If $c=d$, then all intervals in $\mathcal{I}$ must intersect $c:c$ which is just $c$ and so it would be in the intersection. 

Therefore, let's take $c < d$ without loss of generality. If $c$ or $d$ is in the intersection, then we are done. If not, then there exists an interval $u\lte U$ in $A$ which does not contain $c$ and an interval $v \lte V$ in $A$ which does not contain $d$. Since $c:d$ is in the fonsi, $u:U$ and $v:V$ both intersect it. This implies $c : V : d$ and $c:u:d$. Take $e:f$ to be the intersection of $u:U$ and $v:V$. Then we know $c < u \leq e$ and $f \leq V < d$. That is, the intersection is contained in $c:d$. But $\bigcap A$ is contained in that intersection and so is contained in $c:d$. This implies that there is a non-empty intersection with $c:d$ if  $\bigcap A$ is non-empty. 

\end{proof}


Formally, we define the Oracle of the fonsi $\mathcal{I}$ as $R(a :b) = 1$ if and only if $a : b$ contains the intersection $\bigcap I_i$ of elements of $\mathcal{I}$. This will include the singleton $c:c$ if that singleton is in all of the elements of the fonsi. For a singleton $c:c$, we define $R(c:c) = 1$ exactly when $c$ is contained in every element of $\mathcal{I}$. 

\begin{enumerate}
    \item Consistency. Let $c:d$ contain $a:b$ and $R(a:b)=1$. Then by definition $a:b$ contains the intersection of elements of $\mathcal{I}$. Thus, $c:d$ contains that same  intersection and therefore $R(c:d)=1$ by definition. 
    \item Existence. By definition of a fonsi, there exists an interval $a:b$ which has length less than 1. Thus, $R(a:b)=1$ by definition of the oracle.
    \item Separating. Assume $R(a:b)=1$ and let $c$ be strictly contained in $a:b$. If $c$ is contained in all intervals of $\mathcal{I}$, then $R(c:c) =1$ and we are done. If not, then there exists an interval $B$ in $\mathcal{I}$ which does not contain $c$.
    Let $A$ represent an intersection of elements of $\mathcal{I}$ which is contained in 
    $a:b$, where $A$ exists by definition of $a:b$ being a Yes-interval.   Consider $A \cap B$. By Proposition \ref{pr:fonsi-inf-inter}, this intersection is non-empty. $A \cap B$ will be contained in $a:b$ since $A$ is.  This intersection does not contain $c$ since $c$ is not in $B$. Thus, $A \cap B$ must either be contained in $a:c$ or $c:b$. Let's say it is in $a:c$. Then $R(a:c) = 1$ by definition. We need to show that $R(c:b) = 0$. Assume it was 1. Then there exists an intersection $C$ of some intervals in $\mathcal{I}$ which is contained in $c:b$. But by the proposition again, we have that $B \cap C$ is non-empty. Since $B$ intersects $a:c$ and does not contain $c$ while $C$ is contained in $b:c$ and does not contain $c$, this is impossible. This contradiction leads us to conclude that $R(c:b) = 0$.
    \item Rooted. Given rational numbers $c < d$, we claim that there is at most one which is in all of the intervals in $\mathcal{I}$. Consider the distance $d-c$. Consider an  interval in $\mathcal{I}$ whose length is less than $\tfrac{d-c}{2}$; this exists by the definition of a fonsi, particularly the shrinking part. This interval has length strictly less than $d-c$ and therefore both $d$ and $c$ cannot be both in there. 
    \item Closed. If $c$ is in every interval, then it is the intersection of all of them. It is the only such rational that satisfies this as established under the rooted notion. Thus, the singleton $c:c$ does contain an intersection of the elements of the fonsi and $R(c:c) = 1$. 
\end{enumerate}

Define a \textbf{maximal fonsi} as a fonsi such that every interval that contains the intersection of intervals in a fonsi are contained in the fonsi. This implies the intersections themselves are in the maximal fonsi. If a rational is contained in all elements of the fonsi, then it is in the maximal fonsi as it is in the common intersection of all the intervals. 

\begin{proposition} Let $r$ be an oracle and define $\mathcal{M}$ to be the set of all Yes-intervals of $r$. Then $\mathcal{M}$ is a maximal fonsi. 
\end{proposition}

\begin{proof}
     Proposition \ref{pr:short} gives us the notionally shrinking requirement. Proposition \ref{pr:disjoint} tells us that two Yes-intervals must intersect and Proposition \ref{pr:inter} tells us that that finite intersections must be a Yes-interval. Consistency and closed gives us the maximality.
\end{proof}

We have established that every fonsi $\mathcal{I}$ gives rise to an oracle which is equivalent to the maximal fonsi $\mathcal{M}$ containing the fonsi $\mathcal{I}$. Every oracle can be viewed as a maximal fonsi.

We can import the concepts of equality and inequality from our work with oracles. In particular, if there exists a rational length $q$ such that for any interval with length $|I|<q$ in the fonsi $\mathcal{I}$ and interval $|J|<q$ in the fonsi $\mathcal{J}$, with $I  < J$ as intervals, then the oracles formed from these have the same relation. They are equal if no separation exists. 

\begin{proposition}\label{pr:fonsi-inter}
Let $\mathcal{I}$ and $\mathcal{J}$ be two fonsis such that for every rational $q>0$ we have the existence of intervals $I \in \mathcal{I}$ and $J \in \mathcal{J}$ such that $|I| <q$, $|J|>q$, and $I$ and $J$ intersect. Then the oracle $r$ of $\mathcal{I}$ and the oracle of $s$ of $\mathcal{J}$ are the same. 
\end{proposition}

\begin{proof}
To show two oracles are the same, we need to show that their Yes intervals intersect. Let $A=a:b$ be a Yes interval of $r$ and $B=c:d$ be a Yes interval of $s$. If the intervals overlap, we are done. If not, then there is a separation between the two intervals. To be explicit, let's say $a \leq b < c \leq d$. Let $t = c-b$ and $q = \frac{t}{3}$. Let $I= e\lt f$ and $J= g \lt h$ be the two intervals that intersect and whose length is less than $q$. By the assumptions, we have rational numbers $m \in I \cap J$, $n \in I \cap A$, and $p \in J \cap B$. Thus,  $n \leq b < c \leq p$ implying $b -c \leq n - p  = n-m + m-p \leq q + q < t = b-c$ where the replacement by the $q$'s comes from the length of an interval being the greatest of all the differences of its members. The inequality is clearly a contradiction and therefore the two intervals must intersect. 
 
As any Yes intervals of $r$ and $s$ must intersect, Proposition \ref{pr:overlap} asserts the oracles are the same.  
\end{proof}

For constructing an oracle, a fonsi can be a very appealing pathway. Here are a few common examples: 

\begin{itemize}
    \item Nested Intervals. If we have a sequence of rational intervals that are nested and whose length goes to zero, then that sequence is a fonsi.
    \item Nesting function. If we have a function $I(p)$ that yields a rational interval of length less than the non-negative rational length $p$ such that $I(p)$ is contained in $I(r)$ for $r>p$, then we call this a nesting function and the function's range is a fonsi. If it is possible to define $I(0)$ in such a way that this maintains the nesting property, then it should be defined. This happens if and only if there is a rational number $q$ contained in each of the intervals; that rational number would be unique. 
    \item Sequences with Shrinking Error Bounds. If we have a sequence of rational numbers $q_i$ paired with an upper bound $\varepsilon_i$ such that $\varepsilon_i$ goes to zero and all future numbers $q_m$ in the sequence are contained in $q_i:q_m:q_i+\varepsilon_i$, then the set of intervals $q_i:q_i+\varepsilon_i$ form a fonsi. Note that the $\varepsilon_i$ do not need to be ordered. 
    \item Positive Sums with a Shrinking Error Bound. Assume that we have a sequence $a_i\geq 0$ and let $S_n = \sum_{i=0}^n a_i$. Further, assume we know that there exists $p_n \geq 0$ such that $S_n: S_m : S_n + p_n$ for all $m > n$ and that for any given $1/M$, we can find $N$ such that $p_n < 1/M$ for all $n \geq N$, then we have $S_n: S_n + p_n$ form a fonsi. The resulting oracle is denoted by $\sum_{i=0}^\infty a_i$. Note that we did not need to show that $S_m+p_m < S_n + p_n$. We only needed to know that $S_m$ was in the previous intervals. This is very convenient.
    \item Absolutely Converging Series. Assume that we have a sequence $a_i$ and let $S_n = \sum_{i=0}^n a_i$. Further, assume that we have absolute convergence which is the claim that $\sum_{i=0}^\infty |a_i|$ exists as a positive sum  with a shrinking error bound. Define $p_n = \sum_{i=n+1}^\infty |a_i|$. We claim that $S_n-p_n: S_m : S_n + p_n$ for all $m > n$ and that for any given $1/M$, we can find $N$ such that $p_n < 1/M$ for all $n \geq N$. The latter claim follows from the existence of the absolute convergence. The former claim follows from the triangle inequality in the form of $- \sum |a_i| \leq \sum a_i \leq \sum |a_i| $. To see this, define $p_{n,m} = \sum_{i=n+1}^m |a_i|$ and note that $p_{n,m} \leq  p_n$. We also note that $S_m = S_n + \sum_{i=n+1}^m a_i$.  We therefore have  $S_n - p_n \leq S_n - p_{n,m} \leq S_m \leq S_n+ p_{n,m} \leq S_n + p_n$. Thus, we have that the collection of intervals $S_n-p_n: S_n + p_n$ form a fonsi. The resulting oracle is denoted by $\sum_{i=0}^\infty a_i$.
\end{itemize}



\subsection{Examples}


We now pause and give some explicit computations for computing out the three most widely known irrational numbers: $\pi$, $e$, and $\sqrt{2}$. The hope is to demonstrate how this framework interfaces with getting explicit bounds. The notion of a fonsi is very helpful here. 

\subsubsection{Circles, $\pi$, and Sums}

There are, of course, many ways of computing $\pi$, but here we will start with the classic approach of circumscribed and inscribed polygons and then separately proceed into the Bailey-Borwein-Plouffe formula which is entirely rational in the approximations. 

The classic approach from Archimedes is to enclose the unit circle with a circumscribed regular polygon and sandwich that with an inscribed regular polygon. This gives us an upper and a lower bound for both the semi-perimeter and area, both of which equal $\pi$. 

A nice discussion of this can be found at Math Scholar\footnote{\url{https://mathscholar.org/2019/02/simple-proofs-archimedes-calculation-of-pi/}} by David H. Bailey. They start with regular hexagons and determine that the circumscribed semi-perimeter is $A_1 = 2 \sqrt{3}$ and the inscribed semi-perimeter is $B_1 = 3$. They then double the number of sides and compute again. They repeatedly do this to compute the recurrence relations $A_{k+1} = \dfrac{2A_k B_k}{A_k + B_k}$ and $B_{k+1} = \sqrt{A_{k+1}B_k}$. Notice that there is a square root involved in this computation. We have defined the oracles of square roots so that we can proceed, but this now requires oracle arithmetic, which we have not yet done and shall overlook for the moment.  

It is straightforward to see $A_{k+1} < A_k$, $B_{k+1} > B_k$, and that $A_k > B_k$.\footnote{Start with the observation that $A_1 > B_1 > 1$. Assume $A_k > B_k > 1$. Then $2 A_k  > A_k + B_k$. This implies that $M_k = \frac{2A_k}{A_k + B_k}>1$ as is its square root. This leads to both $B_{k+1} = \sqrt{M_k} B_k > B_k > 1$  and $A_{k+1} = M_k B_k > \sqrt{M_k} B_k = B_{k+1}$.  For $A_{k+1} < A_k$, this follows from $2A_k B_k < A_k^2 + A_kB_k$ which follows from $A_k > B_k$.} The post further shows that $0 < A_k - B_k \leq \dfrac{128}{9*4^k} = p_k $. This is a sequence of nested intervals whose lengths are going to 0. Thus, the set of $A_k:B_k$ forms a fonsi and therefore an oracle. 

The post also establishes that it is indeed $\pi$ that is being approximated with these intervals.

This approach is basically fine except for the square root formula. It adds in extra complications in terms of interval arithmetic which would be nice to avoid if possible. 

Many of the approaches to computing $\pi$ do use square roots. But there are some that are able to avoid it. One such example is from the paper by Bailey, Borwein, and Plouffe \cite{BBP}, in which they given the formula 

\[ 
\pi = \sum_{i=0}^\infty \frac{1}{16^i} \bigg( \frac{4}{8i+1} - \frac{2}{8i+4} - \frac{1}{8i+5} - \frac{1}{8i+6} \bigg)
\]

We will denote the sum up to $N$ as $S_N$.

To apply our fonsi results, we need to show that that the sum is absolutely convergent. We can get an overestimate by replacing the parenthetical portion with 1 for estimating the remainder since the parenthetical will always be strictly between 1 and 0. Then the sum becomes a geometric sum leading to $p_n = \frac{1}{15*16^n}$ for the partial sum up to $n$. By absolute convergence as established earlier, this does yield to us a fonsi and an oracle.  

This formula for $\pi$ is entirely rational and the $p_n$ gives us interval estimates.

\subsubsection{Products, $e$, and Sums}\label{sec:e}

We define the Oracle of $e$ as follows. 

Let $S_N = \sum_{i=0}^N \frac{1}{i!}$. Notice that since we are adding positive terms as $N$ increases, we have $S_N < S_{N+1}$. 

We also can compute $S_M - S_N$ for $M - N = k > 0$ and see that we have $\sum_{i=N+1}^M \frac{1}{i!} <  \sum_{j=0}^k  \frac{1}{(N+1)!(N+1)^j} $ where we have replaced factors of $N+1 + j$ with $N+1$, making the sum larger due to making the denominators smaller. We factor out the factorial and then compute the remaining sum as a geometric sum, leading to $S_M - S_N < \frac{1}{N!} \frac{1}{N+1} [\frac{N+1}{N} (1 - \frac{1}{(N+1)^{k+1}} )] < \frac{1}{N! N}$.

We define $p_n = \frac{1}{n!n}$. We established that $S_n < S_m < S_n + p_n$ for $m> n$. We can also clearly find $n$ such that $p_n$ is less than a given positive length. So we have a fonsi and an oracle. 

That was the standard sum approach to $e$. We can also look at another standard approach, that being $(1+\frac{1}{n})^n$. The typical path is to look at the limit as $n\to \infty$ and either use some differential / logarithmic calculus arguments or argue that it is an increasing sequence, bounded above, and therefore must have a limit value. Some approaches also compare this to the sum above, e.g., Rudin\cite{rudin}, page 64. 

That approach is less favored with oracles. Our viewpoint is that we want converging intervals. The expression $a_n = (1+\frac{1}{n})^n$ is a lower bound for $e$. We need an upper bound. A convenient upper bound is to add an extra factor: $b_n = (1+\frac{1}{n})^{n+1}$ will be greater than $e$. 

To establish this as an oracle, we again use the notion of a fonsi. We are done if we can show these are nested intervals whose lengths are shrinking to 0. It is immediate that $a_n < b_n$. We then need to show that $a_n < a_{n+1} < b_n$ though the method we cite actually shows complete nesting: $a_n < a_{n+1} < b_{n+1} < b_n$. The method is from Mendelsohn \cite{mend} which was to use the Arithmetic-Geometric Mean Inequality on the two collections of numbers: $\{1, (1+ \frac{1}{n})_{,n} \}$ and $\{1, (\frac{n+1}{n})_{,(n+1)}\}$.\footnote{We use the notation $(a)_{,k}$ to indicate a quantity $a$ being included in the collection $k$ times.} We include the details of the argument in Appendix \ref{app:e}.  Another presentation, and the origin of finding the reference, can be found at the Mathematics Stack Exchange.\footnote{ \url{https://math.stackexchange.com/questions/389793/}}

We still need to show that the lengths shrink to 0. To do this, we look at the difference: $b_n - a_n = (1+\tfrac{1}{n})*a_n - a_n = \tfrac{a_n}{n}$. Because $a_n < b_n < b_1=2^2 = 4$, we have a simple bound of $\tfrac{4}{n}$ which can be made as small as we like. Thus, we have a fonsi and an oracle. 

It is useful to point out that our viewpoint leads us to find useful bounds so that we can know how accurate it is and what kind of convergence we can expect as well. For the compound interest formulation, we have an error on the order of $\frac{1}{n}$ while the Taylor-based approximation is on the order of $\frac{1}{n! n}$. It brings to the forefront explicit information that practical applications can use. As we shall explore, arithmetic with oracles is interval arithmetic and being able to have such explicit bounds allows us not only to compute what the resulting interval lengths will be, but also to figure out what value of $n$ to use to get a certain level of final precision. 

We now have two oracles claiming to be the same and we would like to establish their equality. We will be done if we can establish overlaps between the intervals. It is clearer if we lay it out in steps. We will use the labels from above. 
\begin{enumerate}
    \item $a_n < S_n$ for all $n$. This follows from the binomial theorem. See Appendix \ref{app:e}, Lemma \ref{lem:ansn}. If $n < m$, then $a_n < S_n < S_m$.
    \item Given $a_n$, there exists $m$ such that $S_n < a_m$. This is trickier. See Appendix \ref{app:e}, Lemma \ref{lem:snam}. 
    \item $S_n < b_m$ for all $m$ and $n$. This follows from $S_n < a_p$ for some $p$ and that $a_p < b_m$ for all $m$.
    \item $S_n < S_m < S_n + p_n$ for $m > n$. That was established above. 
    \item Given $a_n < b_n$ and $S_m < S_m + p_m$, they overlap. This follows from two cases. If $a_n \leq S_m$, then since $S_m < b_n$, we have $a_n : S_m : b_n$. The other case is that $S_m < a_n$. In this case, $m < n$ and we have $S_m < a_n < S_n < S_m + p_m$. 
    \item Since the intervals of both fonsi's always overlap, we can use Proposition \ref{pr:fonsi-inter} to conclude that they are the same oracles. 
\end{enumerate}

For our final exploration of $e$, we would like to show that it is not a singleton, i.e, not a rational number. We therefore look at $\tfrac{r}{q}$ and wish to find an interval which it is not a part of.  Let's look at the partial sum up to $q$:  $S_q < \tfrac{r}{q} <  S_q + p_q = S_q + \frac{1}{q!q}$. We subtract off $S_q$ and obtain $0 < \tfrac{r}{q} - S_q < \tfrac{1}{q! q}$. If we multiply by $q! q$, we have $0 < q! r - q!S_q < 1$.  The expression $q! S_q$ is an integer since $q!$ will cancel all the denominators in that sum. But then we have the difference of two integers being strictly between 0 and 1. Since this cannot happen, we cannot have $\tfrac{r}{q}$ in the interval $S_q : S_q + \frac{1}{q! q}$. This establishes that the oracle is not a singleton with denominator $q$. Since $q$ was arbitrary, it cannot be a singleton for any rational. 

It is instructive to compare this to Rudin's proof of $e$ being irrational. It is the same, except Rudin only concludes that $e$ is not rational. What we have naturally drawn out of that same work is that there can be no rational with denominator $q$ in the approximation intervals contained in $S_q$'s interval. That is, we have an explicit marker after which we know the denominators in the interval must be larger than $q$. 

\subsubsection{Explicitly computing roots}

Section \ref{sec:roots} shows the existence of $n$-th roots, but it does not give a great way of finding a $n$-th root. 

We will give a common algorithm for computing these roots. It is equivalent to Newton's method, but that need not concern us here. What we produce here is a fonsi which therefore produces an oracle. By construction, it overlaps with the oracle intervals of the $n$-root of $q$ and so it is the same oracle. 

We want to find the $n$-th root of $q$. This starts by realizing that given any positive $x$, we have $x:\dfrac{q}{x^{n-1}}$ is a $\sqrt[n]{q}$-Yes interval. 

Our argument for that starts with the observation that $x^{n-1}*\dfrac{q}{x^{n-1}} = q$. Let $r$ represent the root, which exists as an oracle from above. For what follows, we will assume the usual rules hold for oracle arithmetic; we will cover them later. We have either $x^n < q$, $x^n = q$, or $x^n > q$ as the three possible cases. If we have equality, then $x$ is the solution and the interval above is a singleton as the root partner becomes itself when $x$ is the root. 

If $x^n < q$, then we know from monotonicity that $x < r$ if and only if $x^n < r^n$ as well as $x^{n-1} < r^{n-1}$. It is a basic inequality fact that if $ab = cd$ and $a < c $, then $b > d$ since, otherwise, we would have $ab < cd$. As $x^{n-1} * \frac{q}{x^n-1} = r^{n-1} r$, we must have $\frac{q}{x^{n-1}} > r$. This argument also applies in the case of $x^n > q$. This covers the cases. 

Since $a<b$ implies $\frac{q}{b^{n-1}} < \frac{q}{a^{n-1}}$, we can choose any rational between $x:\frac{q}{x^{n-1}}$ for our next ``$x$'' and interval computation. This will produce an interval that is contained in the previous one. If we use bisection to choose the next $x$, then we can guarantee the length of the following intervals is at least halved at each step. 

Newton's method suggests a different selection, namely, that we compute the weighted average of the guess and its partner, weighting the guess $n-1$ times in that average. Specifically, $\frac{1}{n} \big( (n-1) x + \frac{q}{x^{n-1}} \big)$. This will have a quadratic convergence once it gets close enough to the root.

For the square root method, $n=2$ and that formula becomes a simple averaging of the guess and its partner, the same as bisecting the interval.  

To begin the iteration, it is useful to first get close by considering a power of 10. For example, to compute the square root of $52400$, we can view that roughly as $5*10^4$ leading to a guess of $200$. The first interval would then be $200: \frac{52400}{200} = 262$ with the next guess being the average $231$ whose complement is about $226$. It could iterate quite quickly from there. Note that one can be rather loose with the bounds as long as one is careful to round away from the partner.  

There are error estimates for this method which can help suggest how many iterations are necessary as well as establish this as a fonsi. We should also note that the interval itself generated by this method is an error estimate. Since the convergence is quadratic, we can roughly get a sense of the number of iterations required once the interval length drops below one-tenth at which point we start doubling the decimal precision at every iteration.  


\subsection{Least Upper Bound}

We are given a non-empty set of oracles $E$ with an upper bound $M$, meaning that if $x \in E$ then $x$ has the property $x < M$. Let $U$ be the collection of rational upper bounds of $E$, namely, for rational $y$, $y \in U$ if and only if $y \geq x$ for every $x$ in $E$.  Thus, $M \in U$.

We define the Oracle of $\mathrm{sup} E$ to be the rule such that $R(a\leq b) = 1$ if and only if $a \leq y$ for all $y$ in $U$ and $b \geq x$ for all $x$ in $E$. That is, $a$ is a lower bound for $U$ and $b$ is an upper bound for $E$. This is also known as the least upper bound of $E$ (lub).

\begin{enumerate}
    \item Consistency. Assume $R(a:b)=1$ and $c:d$ contains $a:b$. Then $c \leq a \leq y$ for all $y$ in $U$ and $d \geq b \geq x$ for all $x$ in $E$. Thus, $R(c:d) = 1$.
    \item Existence. By assumption, there is an $x \in E$ and an upper bound $M$ in $U$. Thus, $R(x:M) = 1$. 
    \item Separating. Let $R(a\lt b)=1$ and $a < c< b$. We need to show that either $R(c:c)=1$ or $R(a:c) \neq R(c:b)$. 
    
    If $c \geq x$ for all $x$ in $E$, then $R(a:c)=1$ by definition and the fact that $a$ being a lower bound for $U$ still holds. We have two cases.  If $c \leq y$ for all $y$ in $U$, then $R(c:c)=1$ and we are done. If $c > y$ for some $y$ in $U$, then $R(c:b) = 0$ since $b > c$ and therefore neither of them can be less than $y$ for all $y$ in $U$. 
    
    The other case is that $c < x$ for some $x$ in $E$. Since $a < c$, we know that neither $a$ nor $c$ is greater than all $x$ in $E$. Thus, $R(a:c) = 0$. Since $c < x$ for some $x$ in $E$, and any upper bound $y$ has the property that $x < y$, we have $c < y$ for all $y$ in $U$. We therefore have $R(c:b)=1$.
    
    \item Rooted. For $R(c:c)=1$, we would need to have that $c \leq y$ for all $y$ in $U$ and $c \geq x$ for all $x$ in $E$. Assume we had another rational such that $R(d:d) = 1$. Then we also have $d \geq x$ and $d \leq y$ for all $y$ in $E$. Since both $c$ and $d$ are upper bounds of $E$, we have that each are in $U$. So $c \leq d$ and $d \leq c$. This implies that $c = d$. 
    \item Closed. Assume $c$ is in all Yes intervals. Then given any upper bound $y$ in $U$ and element $x$ in $E$, we have $c$ is in $x:y$ since $R(x:y)=1$ by definition. We therefore have that $c \leq y$ and $c \geq x$. Since $x$ and $y$ were arbitrary elements of $E$ and $U$, respectively, we have $c$ satisfies the conditions such that $R(c:c)=1$.
\end{enumerate}

If the non-empty set $E$ is bounded below by $K$, then we can define the set $L$ of lower bounds of $E$, namely, $z \in L$ if $z < x$ for all $x$ in $E$. Then the greatest lower bound (glb), denoted by $\mathrm{inf} E$, is the least upper bound of $L$ which exists since $L$ is bounded above by elements of $E$ which is assumed to be non-empty. 

We have defined the lub and glb in terms of sets of rationals. We can extend this to sets of oracles. Assume we are given a nonempty set $F$ of oracles bounded above, i.e., each oracle in $F$ is less than some given oracle $M$. Let $V$ be the set of upper bounds, that is, oracles $s$ such that $s > r$ for all $r$ in $F$. Let $U$ then be the set of rationals that are upper bounds of the $s$-Yes intervals for all elements $s \in U$. Similarly, let $E$ be the set of rationals that are lower bounds of $r$-Yes intervals in $F$. Then $g = \mathrm{sup} E$ defined above is also the least upper bound of $F$.  Indeed, given an element $r \in F$, $g$ is greater than all of the lower bounds of the $r$-Yes intervals. Thus, $g \geq r$. Similarly, $g \leq s$ for all $s \in V$ as it is less than the upper bounds of all $s$-Yes intervals. 

We have established

\begin{theorem}\label{th:lub}
Any set of oracles bounded from above has a least upper bound. 
\end{theorem}

An alternate approach is to say that $a:b$ is a Yes interval if $a$ is a lower bound of an oracle in $F$ and $b$ is an upper bound of an oracle which is an upper bound of F. This may be closer in spirit to the oracle notion than the above treatment. We do so in Appendix \ref{app:sup}. The purely oracle approach adds complications and suggests that relying on rationals may be a better strategy when possible. 

\subsubsection{The Distance Function}

We can now define the distance function between two oracles. We could also do this using oracle arithmetic, but the distance function is both useful and instructive to do at this stage. 

Given two oracles $r$ and $s$, we define the distance set, $D_{r,s}$ to be the set of rational values generated by looking at each pairing of $r$-Yes intervals with $s$-Yes intervals, say  $a:b$ and $c:d$, respectively, and computing the interval distance by $d(a:b,c:d) = \mathrm{max}(|a-c|, |a-d|,|b-c|,|b-d|)$. The \textbf{distance between $r$ and $s$, denoted by $d(r,s)$,} is then defined to be the greatest lower bound of $D_{r,s}$, which is bounded below by 0. 

Note that this means that $d(r,s) \leq d(a:b, c:d)$ for any $r$ and $s$ Yes intervals. We also have that the interval distance function has the property that $d(e:f, c:d) \leq d(a:b, c:d)$ for the situation where $a:b$ contains $e:f$ since $e, f$ will be closer than the farther of $a,b$ to $c,d$. For example, if $a < e < f < b < c< d$, then $d(e:f, c:d) = d-e < d-a = d(a:b, c:d)$. 

If $r<s$, then for sufficiently small $r$ ($a\lt b)$ and $s$ ($c\lt d$) Yes intervals, we have $a\leq b<c \leq d$ so that $d(a:b,c:d) = d-a$ and $D_{r,s}$ will be bounded below by $c-b$. That is, $(d-a):(c-b)$ is a Yes interval for $D_{r,s}$.

The distance function is always non-negative. If $r=s$, $d(r,s)=0$ as we can choose $a<b$ as the same interval for both and compute $d(a:b,a:b)= b-a$. Since these are the same, $b-a$ can be chosen arbitrarily small via bisection approximation (Proposition \ref{pr:short}) and hence the greatest lower bound is 0. 

The distance function also satisfies $d(r,t) = d(r,s) + d(s,t)$ whenever $r < s < t$. Indeed, let $a<b<c<d<e<f$ with $a\lt b$ being a $r$-Yes interval, $c\lt d$ a $s$-Yes interval, and $e\lt f$ a $t$-Yes interval. Then we have: 
\begin{enumerate}
\item $c-b \leq d(r,s) \leq d-a$
\item $e-d \leq d(s,t) \leq f-c$
\item $e-b \leq d(r,t) \leq f-a$
\item Adding the first two, we have $c-b + e-d \leq d(r,s) + d(s,t) \leq d-a + f-c$.
\item Rearranging, we have $e-b + (c-d) \leq d(r,s) + d(s,t) \leq f-a + (d-c)$.
\end{enumerate}
We have not yet covered arithmetic, but narrowing on interval addition is how we define adding oracles. What we have shown here is that the interval $(e-b + (c-d)): (f-a + (d-c)$ is a $[d(r,s) + d(s,t)]$-Yes interval. Since $c-d$ is negative and $d-c$ is positive, the interval $(e-b):(f-a)$ is contained in it. Since we can shrink the intervals arbitrarily, by Proposition \ref{pr:fonsi-inter}, we know their oracles are the same. 

From this, we also get the triangle inequality. For any oracles $r, s, t$, we have $d(r,t) \leq d(r,s) + d(s,t)$.  To argue this, if $s = r$ or $s=t$, then we have equality. If $r=t$, then we have $0 \leq 2 d(r,s)$ which is true. We can assume, without loss of generality, that $r < t$. We then have three cases: $r< s< t$, $s < r < t$, and $r< t  < s$. If $r < s< t$, then we have equality as above. If $s < r < t$, then $d(s,t) = d(s,r) + d(r,t)$ as above and thus $d(r,t) = d(s,t) - d(s,r) < d(s,t) + d(s,r)$. The same can be said for $r < t < s$. Indeed,  we have $d(s,r) = d(r,t) + d(t,s)$ which leads to $d(r,t) \leq d(s,t) + d(s,r)$.

\subsection{Cauchy Sequences}

Closely related to nested intervals are the Cauchy sequences. We will first define the Cauchy sequence and then describe the associated fonsi which yields an oracle. The basic idea is the an interval is a Yes interval if it contains the tail of the sequence. 

A sequence $a_n$ of oracles is Cauchy if given a rational distance $\varepsilon$, there exists an $N$ and an interval $I_N$ whose length is less than or equal to $\varepsilon$ such that for $n \geq N$, the interval $I_N$ is an $a_n$-Yes interval. That is, $I_N$ contains the oracles later in the sequence. 

This is equivalent to the condition of the more usual formulation of requiring for any $n, m \geq N$, $d(a_n,  a_m) < \varepsilon$ where $d$ is the oracle distance function. 

Going from our definition to the usual one is very easy. Let such a sequence be given with $I_N$ having length less than $\varepsilon$ and for all $n \geq N$, we have $I_N$ is a $a_n$-Yes interval. Then consider $d(a_n, a_m)$ for $n, m \geq N$. Since $I_N$ is a Yes interval for both, we have $d(a_n, a_m) \leq d(I_N, I_N) < \varepsilon$ as the distance of an interval from itself is just it's length. 

The other direction requires a little care in the choosing of the $\varepsilon$'s. Let's assume that $d(a_n, a_m) < \frac{\varepsilon}{3}$ for all $n, m \geq N$. Take an $a_N$-Yes interval whose length is less than $\frac{\varepsilon}{3}$; let's say that is $a \lt b$. Then define $I_N = a-\frac{\varepsilon}{3} \lt b + \frac{\varepsilon}{3}$. Given $n \geq N$, we have $d(a_n, a_N) < \frac{\varepsilon}{3}$. This means that there are $a_n$ and $a_N$ Yes-intervals such that the distance between the two intervals is less than $\frac{\varepsilon}{3}$. 

Let $e:f$ be that $a_n$-Yes interval and $c:d$ be the $a_N$ Yes interval. Let $d$ and $e$ be the farthest away from one another. The condition is that $|d-e| < \frac{\varepsilon}{3}$. Because $d$ is the farthest, that means $c$ is closer. And because $a:b$ and $c:d$ intersect as they are Yes intervals to the same oracle, either $a$ or $b$, perhaps both, are closer to $e$ than $d$. Let's say it is $a$ that is closer. Then we know that $|a-e| < |d-e| < \frac{\varepsilon}{3}$ and $e:f$ is within $I_N$ and $I_N$ is an $a_n$-Yes interval as was to be shown. 

Consider the collection of $I_N$. They all intersect one another as they all contain the latter elements of the sequence. Specifically, if we have $I_N$ and $I_M$, take $n \geq \max(N, M)$. Then $I_N$ and $I_M$ must intersect as they are both $a_n$-Yes intervals. We also can find an $I_N$ which is less than any given length as that is the condition for choosing $N$ based on a given $\varepsilon$. Therefore, the collection of $I_N$ is a fonsi and it generates an oracle, one in which the tail of the sequence is as close to the oracle as we care to prescribe. 

We have established

\begin{theorem}\label{th:cauchy}
Any Cauchy sequence of oracles converges to an oracle. 
\end{theorem}



\subsection{The Collatz Number}

There is an open mathematical problem, called the Collatz conjecture, which postulates that a certain process stops for every natural number.\footnote{\url{https://en.wikipedia.org/wiki/Collatz_conjecture}} We will use that process to define a couple of oracles whose ultimate nature can only be settled by someone solving the Collatz conjecture. 

We define one Oracle of Collatz $R$ to be such that $R(-\tfrac{1}{n}:\tfrac{1}{n})$ is 1 if the $k$-Collatz sequence terminates at 1 for all $k \leq n$ and 0 otherwise. For all other intervals $a:b$, $R(a:b) = 1$ if $a:b$ contains such a Collatz Yes interval. If there is a $n$ which does not satisfy the Collatz conjecture, then, taking $n$ to be the first such $n$, we define $R(\tfrac{1}{n}:\tfrac{1}{n}) = 1$. If there is no such $n$, then $R(0:0) = 1$.

This is a rule which is currently known to be $-2^{-68}:2^{-68}$ compatible with the Oracle of 0. But unless it gets proven or falsified, we cannot establish equality or inequality with respect to 0. 

In the ultimate form of a known result for the conjecture, this will be an Oracle of 0 or an Oracle of $\tfrac{1}{N}$ where $N$ is the first number where the conjecture fails to hold. Until that happens, we cannot practically use the Separating or Rooted properties in all possible cases. 

An alternative approach to using this conjecture is to define an oracle that implies the $n$-th digit in decimal approximations is $1$ if the Collatz conjecture fails on it and $0$ otherwise. We do this in the following way. Let $C(n)$ be an indicator function which is 1 if $n$ does not satisfy the Collatz conjecture and 0 otherwise. Define the following function as follows: $f(1) = 0$,  $f(n) = \sum_{i=1}^n C(i)*10^{-i} $. Define $p_n =\sum_{i=n+1}^{\infty} 10^{-i}$ which obviously approaches $0$ as $n \to \infty$. The set of $f(n): f(n) + p_n $ define a fonsi and therefore an oracle. This is assuming, of course, that one can compute out what $C(i)$ is. This is also compatible with the 0 oracle at the present time, but even if we establish that it is not the 0 oracle, we may still not be able to compute $C(i)$ for all $i$. 

This example is an issue for all definitions of real numbers, but it feels as if the oracle approach accommodates this a little better as the incompleteness of our information is naturally incorporated into the framework using the language of compatibility.

\subsection{Coin Tosses}

We want to model an oracle that is probabilistic in nature and explore how that might work. 

The first version is to create a fonsi by a bisection method. We start with an initial interval, say $I_1 = 0:1$. Then, given $I_n = a:b$, we let $c = \tfrac{a+b}{2}$ and then use a random function that yields 1 with probability $p$ and 0 with probability $1-p$. If it is 1, then $I_{n+1} = a:c$. Otherwise, $I_{n+1} = c:b$. These intervals are clearly shrinking and overlapping, hence we can define a family $F_n$ of oracles compatible up to $I_n$ for any given $n$. We will never have a single, final oracle as it can only be defined fully after this infinite subdividing process completes. 

A process closer to defining an oracle directly is the following; we will use $R$ for the rule. Let $I$ be a given starting interval and we set $C=I$ where $C$ stands for current. Let $a:b$ be the interval asked about. If $a:b$ contains $C$ (or is $C$), then $R(a:b) = 1$. If $a:b$ and $C$ are disjoint, then $R(a:b) = 0$. If neither, then $a:b$ and $C$ intersect. Let $c:d$ then be that intersection. If the interval $c:d$ divides $C$ in two, then we use a random process to determine if $c:d$ is a Yes interval or a No interval; the complement interval in $C$ is then the opposite. Then $a:b$ is a Yes or No interval if $c:d$ is Yes or No, respectively. We also redefine $C$ to be $c:d$ or its complement, depending on which one is Yes. It is possible for $c:d$ to divide $C$ into three intervals in the case that $a:b=c:d$ is contained in $C$. We check $a:b$ first; if it is Yes, then the other two are No. If $c:d$ is No, then we do the random process to decide which of the two remaining intervals making up the complement are Yes. Whichever one is Yes, becomes the new $C$ for future Rule consultations.  

This oracle will satisfy consistency, existence, and separating all by definition. Rooted will apply as well. As for closed, $R(c:c)=1$ can only happen if we ask about it specifically and it comes up with a 1 in which case we have finished our process. 

This is an example of a rule which is guaranteed to give an answer for any question we ask even if the answer cannot be known in advance. In fact, the very nature of what is possible is based on what we ask. For example, if we never ask about  $c:c$, then it will not happen. But if we do ask, then it could come up as Yes. 

In a certain sense, our rule here is not ``complete''. An infinite being looking at it would see the finiteness. But from our limited perspective, it works just as much as any ``complete'' rule. In contrast, the Collatz example is one which we might not get an answer to. It is ``incomplete'' on a practical level. 

Comparing both of these random processes, the first seems to give an air of incompleteness which the second lacks. In particular, the first one's design looks like an infinite process that should go on until the completion, something which can never be accomplished. In contrast, the second one requires an interaction. It feels more like an answer given just in time. While it is also incomplete, it does not feel incomplete. 
 
Part of it is that we get to ask the second process directly the question of interest, namely, ``is this interval that we care about a Yes interval?'' In the first process, we need to keep computing the bisected intervals until we can definitively answer the question about any given interval. 

\section{Interval Arithmetic}

This section is not novel, but rather a review of applying arithmetic to intervals. We will need this in defining the arithmetic of oracles. This material can be seen, for example, in the videos by NJ Wildberger.\footnote{\url{https://youtu.be/xReU2BJGEw4}} Intervals are of interest as they help propagate error bounds in scientific computations. The oracle approach reflects the usefulness of this thinking. 

The guiding idea of interval arithmetic is to have the arithmetic operation operate on each pair of elements from the two intervals. We then deduce the minimal interval that contains all those results. We could try to define it that way and then prove the following. We will, instead, define these operations below and then establish that given any two elements in the operated-on intervals, the result will fall in that resultant interval. 

This is not the same as the eventual oracle arithmetic. Here, for example, subtracting $a<b$ from itself results in the interval $a-b:b-a$ while subtracting an oracle from itself will result in $0$, coming from the ability to shrink that $a-b:b-a$ result arbitrarily and noting that $0$ is always contained in it. 

\subsection{Definition of Interval Arithmetic}

Let $a \leq b$ and $c \leq d$, all of them being rational numbers. Then we define:
\begin{enumerate}
    \item Addition. $a:b \oplus c:d = (a+c):(b+d)$
    \item Negation. $\ominus\ a:b = -b:-a$
    \item Subtraction. $a:b \ominus c:d = a:b \oplus (-d:-c) = a-d:b-c$
    \item Multiplication. $a:b \otimes c:d = \min(ac, ad, bc, bd): \max(ac,ad,bc,bd)$. For $0<a<b$ and $0<c<d$, this is equivalent to $a:b \otimes c:d = ac:bd$. 
    \item Reciprocity. $1 \oslash (a:b) = \frac{1}{b}:\frac{1}{a}$ as long as $a:b$ does not contain 0. If 0 is contained in $a \lt b$, then the reciprocal is undefined as it actually generates the split interval of $-\infty:\frac{1}{a}$ and $\frac{1}{b}:\infty$.\footnote{We could define the interval $0 \lt b$ to have a reciprocal as $\frac{1}{b}:\infty$. This could be useful if we wanted to introduce one-sided oracles, such as having a $0^+$ oracle which would consist of $0$-Yes intervals of the form $0\lt b$. This would allow us to define the reciprocal of the Yes intervals as $\frac{1}{b}:\infty$ and would represent the oracle of $+ \infty$. We will not pursue that here.  }
    \item Division. $(a:b) \oslash (c:d) = a:b * \frac{1}{d}:\frac{1}{c}$ where $c:d$ does not contain 0. Applying the multiplication rule, we find that we can view it as:
    
    $\min(\frac{a}{c}, \frac{a}{d}, \frac{b}{c}, \frac{b}{d}): \max(\frac{a}{c},\frac{a}{d},\frac{b}{c},\frac{b}{d})$. 
    \item Natural Powers. Let $n$ be a natural number. $(a:b)^n = a^n:b^n$ if $a$ and $b$ have the same sign, 0 inclusive. If exactly one of them is negative, then let $c = \max (|a|, |b|)$ and $d=-\min(|a|, |b|)$. Then $(a:b)^n = c^n: c^{n-1}d $. Note this is repeated interval multiplication and not the application of $n$ directly to a number as a power in the interval. 
    \item Negative powers ($a:b$ not containing 0). $(a:b)^{-n}$ for natural $n$ is defined as $(\frac{1}{b}:\frac{1}{a})^n$. They must have the same sign and this is therefore $a^{-n} : b^{-n}$.
\end{enumerate}

\subsection{Containment}\label{containment}

We now want to show that each of the above operations applied to pairings of number in the intervals  does lead to the an number in the defined interval above. 

Let $a \leq p \leq b$ and $c\leq  q \leq  d$. Then from normal inequality arithmetic, we have: 

\begin{enumerate}
    \item Addition.   $a +c \leq  p + q \leq  b +d$ thus yielding $(a+c):(b+d)$.
    \item Negation.  $-b \leq -p \leq -a$ thus yielding $-b:-a$.
    \item Subtraction.  $a - d \leq p-q \leq b -c$  thus yielding $a-d:b-c$.
    \item Multiplication. Signs can lead to a number of cases to check. We will avoid this by  applying our colon notation to three pieces, namely,  $x:y:z$ means that $y$ is between $x$ and $z$. This is helpful since we do not need to track the inequality directions. 
    
    For $a:p:b$, we can multiply by a number and containment is maintained. So $ca:cp:cb$, $qa: qp: qb$ and $da:dp:db$ all hold true. We also have $c:q:d$ which leads to $ca:qa:da$. $cp:qp:dp$, and $cb:qb:db$. This means that $qp$ is contained within the bounds of $cp$, $qa$, $qb$, and $dp$. Those bounds are contained within $ca$, $cb$, $da$, and $db$. Therefore, $qp$ is contained within $\mathrm{min}(ca, cb, da, db):\mathrm{max}(ca, cd, da, db)$. 
    
    A table form of the inclusion would be 
    
    \begin{tabular}{ccccc}
        $ca$ &$:$& $cp$ &$:$& $cb$ \\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
        $qa$ &$:$& $qp$ &$:$& $qb$\\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
         $da$ &$:$& $dp$&$:$& $db$
    \end{tabular}
    
    Let us demonstrate with some examples. 
    
    A fully positive example is $2:p:3$ and $5:q:7$ leading to 
    
     \begin{tabular}{ccccc}
        $10$ &$:$& $5p$ &$:$& $15$ \\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
        $2q$ &$:$& $qp$ &$:$& $3q$\\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
         $14$ &$:$& $7p$&$:$& $21$
    \end{tabular}
    
    with the result of $10:21$ being the multiplication of $2:3$ with $5:7$
    
    Let's try $-2 : p : 7$ and $3: q : 5$ leading to
    
     \begin{tabular}{ccccc}
        $-6$ &$:$& $3p$ &$:$& $21$ \\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
        $-2q$ &$:$& $qp$ &$:$& $7q$\\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
         $-10$ &$:$& $5p$&$:$& $35$
    \end{tabular}
    
    and thus $-10:35$ is the result of multiplying $-2:7$ with $3:5$.

    Let's try $-2 : p : 7$ and $-3: q : 5$ leading to
    
     \begin{tabular}{ccccc}
        $6$ &$:$& $-3p$ &$:$& $-21$ \\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
        $-2q$ &$:$& $qp$ &$:$& $7q$\\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
         $-10$ &$:$& $5p$&$:$& $35$
    \end{tabular}
    
    and thus $-21:35$ is the result of multiplying $-2:7$ with $-3:-5$.

    For our final example, let's do all negatives: $-2 : p : -7$ and $-3: q : -5$ leading to
    
     \begin{tabular}{ccccc}
        $6$ &$:$& $-3p$ &$:$& $21$ \\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
        $-2q$ &$:$& $qp$ &$:$& $-7q$\\
        $\cdots$ & & $\cdots$ & & $\cdots$ \\
         $10$ &$:$& $-5p$&$:$& $35$
    \end{tabular}
    
    and thus $6:35$ is the result of multiplying $-2:-7$ with $-3:-5$.
    
    \item Reciprocity. Let $0 < a \leq p \leq b$, then $1/a \geq 1/p  \geq 1/b > 0$. Similarly, $a \leq p \leq b< 0$ has $1/a \geq 1/p \geq 1/b$. What fails is if, say,  $a \leq p < 0 < b$, we would have $1/b > 0 > 1/a \geq 1/p $ and similarly if $p$ was positive, it would flip over $1/b$ but not $1/a$.
    \item Division. This follows from Multiplication and Reciprocity. 
    \item\label{natpow} Natural Powers. We could go to basic principles and play around with inequalities of the elements of the products, breaking into cases and dealing with various sign flippings. Instead, we can consider what happens under iterative multiplication. For squaring, we have that we need to find the maximum and minimum of $a^2, ab, b^2$. If they are the both positive, then $a^2 \leq ab \leq b^2$. If they are both negative, then $a ^2 \geq ab \geq b^2$. If they are different signs, then $ab < 0 < a^2, b^2$ and we need to compare the size of $-a$ and $b$.  In general, if they are of the same sign and $n$ is odd or they are both positive, then $a^n \leq a^{n-1} b \leq \cdots \leq ab^{n-1} \leq b^n$. For $n$ even and both are negative, then $a^n \geq a^{n-1} b \geq \cdots \geq ab^{n-1} \geq b^n$. If they are of different signs, then let $c = \max( |a|, |b|)$ and $d=\min(|a|, |b|)$. Then  $c^n \geq d c^{n-1} \geq d^{i}c^{n-i}$  for $i > 1$.  Since the signs are different, we have the products are negative when the power of $a$ is odd and positive for even powers of $a$. Thus, $c^n$ and $d c^{n-1}$ are the two endpoints. We have three cases: $c=b$ in which case $b^n$ will be the largest product and we have $b^n > 0 > ab^{n-1}$; $c=|a|$ and $n$ is even in which case $a^n > 0 > a^{n-1} b$; $c=|a|$ and $n$ is odd in which case $a^{n-1} b > 0 > a^n$.  

    As an example of the powers, consider $(-2:3)^4$. All of the products of the endpoints are: $16, -24, 36, -54, 81$. We therefore have the interval being $-54:81$ which is the product of $ab^3$ and $b^4$. 
     
    \item Negative powers are defined by combining reciprocity with natural powers. 
\end{enumerate}


We also want to point out that the above pointwise containment then extends so that if $a:b$ and $c:d$ are contained in $e:f$ and $g:h$, respectively, then $a:b \oplus c:d $ is contained in $e:f \oplus g:h$ and similarly for the various other operations, with the understanding of the appropriate restrictions on not containing 0 for the division and reciprocals. 


\subsection{Verifying the rules}\label{sec:rules}

The associative and commutative rules of arithmetic apply to intervals. The distributive rule somewhat applies. Each of these is a distinct computation, but very straightforward. We will do the distributive property separately. 

\begin{enumerate}
    \item Interval addition is closed, namely, the sum of two intervals is another interval by definition. 
    \item Addition is Commutative. $a:b \oplus c:d= a+c : b+d = c+a:d+b = c:d \oplus a:b$. We used the commutativity of rational addition in the middle step. 
    \item Addition is Associative. $(a:b \oplus c:d) \oplus e:f = (a+c:b+d) \oplus e:f = ((a+c)+e):((b+d)+f) = (a+c+e):(b+d+f)$ where the last step is the associative property of rationals.  On the other hand, $a:b \oplus (c:d+e:f) = a:b \oplus (c+e:d+f) = (a+(c+e)):(b+(d+f)) = (a+c+e):(b+d+f)$ again by associativity of addition of rationals. Since they are equal to the same quantity, we have the associative rule of addition applying to intervals and we can comfortably write $a:b \oplus c:d \oplus e:f$ without requiring parentheses. 
    \item The singleton $0:0$ is the additive identity as $a:b \oplus 0:0 = a+0:b+0 = a:b$. 
    \item There is no additive inverse for neighborly intervals since subtraction leads to the length of the new interval being the sum of the lengths of the two given intervals. The singleton intervals do have additive inverses, namely $a:a \oplus -a:-a = 0:0$. 
    \item Interval multiplication is closed, namely, the product of two intervals is another interval by definition. 
    \item Multiplication is Commutative. This follows from the product interval being defined in terms of the products of the boundaries and those individual products commute. 
    \item Multiplication is Associative. If we are multiplying $a:b$, $c:d$, and $e:f$, then the product interval of the three is formed from the max and min of the the set $\{ace, acf, ade, adf, bce, bcf, bde, bdf\}$. Since the underlying final product is not changed by reordering, we have multiplication is associative. In terms of the square approach to multiplication, we can imagine extending that to a cube of 27 entries and seeing that the ordering is nothing but an irrelevant reorientation of the cube. 
    \item $1:1$ is the multiplicative identity as $a:b \otimes 1:1$ has the form $\max(1*a, 1*b):\min(1*a, 1*b) = a:b$. 
    \item There is no multiplicative inverse as multiplication has a non-zero length for neighborly intervals. The non-zero singleton intervals do have multiplicative inverses, namely $c:c  \otimes  \frac{1}{c} : \frac{1}{c} = 1:1$.
\end{enumerate}

For the distributive property, we do not have equality of the intervals. But we do have that one contains the other, which will be sufficient for our purposes to have the distributive rule apply to oracles. 

\begin{proposition}
We have the subdistributive property: $I = a:b\otimes(c:d \oplus e:f)$ is contained in $J = (a:b \otimes c:d) \oplus (a:b \otimes e:f)$. 
\end{proposition}

\begin{proof}
We can compute the interval limits. The interval $I$ has boundaries from the max and min of the set 
\[
\{a(c+e), a(d+f), b(c+e), b(d+f)\} = \{ac+ae, ad+af, bc+be, bd+bf\}
\] 
The interval $J$ is the interval 
\[
(\max(ac, ad, bc, bd) + \max(ae, af, be, bf) ) : (\min(ac, ad, bc, bd) + \min(ae, af, be, bf) )
\]
Since the boundaries of $I$ are contained in the possibilities of $J$, we do have $J$ containing $I$.
\end{proof}

Let us do an example demonstrating this. Consider $I = 2:3 \otimes ( 4:7 \oplus -6:-3)$ versus $J = (2:3 \otimes 4:7) \oplus (2:3 \otimes -6:-3)$. Computing out $I$, we have $2:3 \otimes -2:4 = -6:12$. For $J$, we have $8:21 \oplus -18:-6 = -10: 15$. We do indeed have $I$ contained in $J$.

As we have seen, the arithmetic of intervals has some common properties with normal number arithmetic, but it is not the same.

\section{Oracle Arithmetic}

We can now define oracle arithmetic. The basic idea is that if an interval contains the result of combining the Yes intervals of the oracles being combined, then it is a Yes interval itself. 

We will prove a general statement about creating an oracle out of other oracles based on map that have the property that shrinking intervals of the inputs lead to shrinking the interval of the output. We will then apply it to the various forms of arithmetic operators. The maps under consideration take in rationals and yield rationals. 

This shrinking is what allows us to go from the arithmetic of intervals, which does not have a mechanism to use this property, to an arithmetic of oracles, which can use it since we can shrink the intervals of interest for oracles. 

A good example to keep in mind is that of multiplication. Let's assume, to avoid cases in this example, that  $0 < a < b < c < d$ and we are computing $a:b \otimes c:d$. Then we have that the length of that product interval is $bd-ac = bd-ad+ad - ac= (d(b-a) + a(d-c))< d ( ( b-a) + (d-c) )$. We can replace this with $2dL$ where $L = \max(b-a, d-c)$. If $e<f$ and $g<h$ are contained in the intervals $a:b$ and $c:d$ respectively, then the length of the product of the two intervals is bounded above by $2d\max(f-e, h-g)$. We can therefore see that the length of the product interval goes to 0 as the lengths of the subintervals go to 0. Notice that the bound for this does involve the original intervals, but once that initial choice is made, then we can bound the lengths down to 0. This is the key property we are abstracting out in what follows. 

\subsection{Narrowing of Intervals}

A rational \textbf{interval operator} $f$ is a mapping that takes in a finite number of rational intervals and outputs a rational interval. An \textbf{oracle operator} $F$ is a mapping that takes in a finite number of oracles and produces another oracle.

We will use $|I|$ to denote the length of the intervals which for the rational interval $a<b$ is $b-a$. We shall consider $n$-tuples of intervals by which we mean an ordered collection of $n$ rational intervals. The $n$-tuple $\vec{J}$ is contained in the $n$-tuple $\vec{I}$ if the $i$-th interval in $\vec{J}$ is contained in the $i$-th interval of $\vec{I}$ for each $1 \leq i \leq n$. For our purposes, we will define the length of the $n$-tuple $\vec{I}$ as $|\vec{I}| = \max_{i=1}^n (|I_i|)$.

An interval operator has the \textbf{narrowing property} if the following holds. Let $\vec{I}$ be any $n$-tuple of intervals and define the interval $K$ as $f(\vec{I}) = K$. Let $\vec{J}$ be an $n$-tuple contained in $\vec{I}$ and take $L= f(\vec{J})$. Then the narrowing property is the assertion that $L$ is contained in $K$ and $|L| \leq M_{\vec{I}} |\vec{J}|$ where $M_{\vec{I}}$ is a constant that depends only on $\vec{I}$. We also require that $L$ is a non-empty interval though it is allowed to be a singleton whose length would be 0. With the narrowing property, the image of a tuple with all singletons must be a singleton. 

The narrowing property reflects the shrinking nature rooted within the interval tuples that contain the inputs. The narrowing property implies that $f$ should be defined on all contained tuples. If $f$ was undefined on an $n$-tuple $\vec{J}$, then $f$ should be undefined on any $n$-tuple $\vec{I}$ that contains $\vec{J}$. We use the terminology that $\vec{I}$ is in the domain of $f$ if $f(\vec{I})$ is defined. 

The intersection of two $n$-tuple intervals is the $n$-tuple formed by intersecting their respective components. They are disjoint if at least one of the intersecting components is disjoint. 

We can now prove an essential property of narrowing operators. 

\begin{proposition} \label{pr:op-nrw}
Let $f$ be an operator on $n$-tuples with the narrowing property. Then if $f(\vec{I})=K$ and $f(\vec{J}) = L$ with $K$ and $L$ disjoint, then $\vec{I}$ and $\vec{J}$ are disjoint.
\end{proposition}

\begin{proof}
Assume $\vec{I}$ and $\vec{J}$ are not disjoint. Let $\vec{A}$ be the intersection. Since $\vec{A}$ is contained in both, we have $f(\vec A)= B$ is contained in both $K$ and $L$. By assumption of the narrowing property, $B$ is not an empty interval and therefore the intersection of $K$ and $L$ is non-empty, contradicting our assumption. 
\end{proof}

For an $n$-tuple $\vec{\alpha}$ of oracles, we say that the $n$-tuple $\vec{I}$ is a $\vec{\alpha}$-Yes tuple if for each of the $I_i$ intervals, we have $I_i$ is an $\alpha_i$-Yes interval. 

\begin{theorem}
If $f$ is an interval operator with the narrowing property, then there is an associated oracle operator $F$. For any $\vec{\alpha}$ such that there is an $\vec{\alpha}$-Yes interval tuple $\vec{I}$ that is in the domain of 
$f$, then $\vec{\alpha}$ is considered to be in the domain of $F$ and the family of intervals of the form $f(\vec{I})$ for all $\vec{\alpha}$-Yes intervals $\vec{I}$ in the domain of $f$ is a fonsi. We write $F(\vec{\alpha})$ to denote the unique oracle associated with that fonsi. 
\end{theorem}

We could define an oracle directly, but the proof would mimic that of the fonsi. Arithmetic operators inherently produce fonsis and only secondarily produce oracles. This seems to be an essential part of the difficulty of doing arithmetic with real numbers. 

For the relevance of domain, the operator to keep in mind is the reciprocal operator. It is undefined on the Oracle of 0 as any 0-Yes interval will contain 0 and thus the reciprocal interval operator is undefined on it. 

Also note that because of the narrowing property, once there is an $\vec{\alpha}$-Yes tuple for which $f$ is defined on, then all contained ones are also defined. Again, the reciprocal is a good one to keep in mind as say the $2$-Yes interval $-2:5$ is not defined for the reciprocal, but $1:3$ is defined (and it is $1:\frac{1}{3}$) and all subintervals of $1:3$ are defined as well, leading to the Oracle of $\frac{1}{2}$. One should also note that, say, the interval $-1:1$ is also a $\frac{1}{2}$-Yes interval. That is, while the interval operator is exclusionary as one gets more expansive $n$-tuples, the oracle version is inclusionary of the larger intervals, being a maximalized fonsi. 

\begin{proof}
To prove that the family of intervals is a fonsi, we need to demonstrate that any two such intervals intersect and that given a rational $\varepsilon > 0$, we can find an interval in the family smaller than that. 

By Proposition \ref{pr:op-nrw}, since any pair of $\vec{\alpha}$-Yes tuples intersect, we must have that their images intersect. Thus, we do have that the family is an overlapping family. In fact, because of the Narrowing Property, the intersection of the two tuples, which is also a $\vec{\alpha}$-Yes tuple, has its image under $f$ defined and contained in both of the images of the original Yes tuples. 

For the other part, let rational $\varepsilon >0$ be given. Part of the theorem is that there exists an $\vec{\alpha}$-Yes tuple $\vec{I}$ such that $f(\vec{I})$ is defined. Let $N =|\vec{I}|$. By the narrowing property, we have a constant $M_{\vec{I}}$, which we will just call $M$, such that for every $\vec{J}$ contained in $\vec{I}$, the length of $|f(\vec{J})| < M |\vec{J}|$. Because each $\alpha_i$ is an oracle, we can find $\alpha_i$-Yes intervals $J_i$ whose length is less than $\frac{\varepsilon}{M}$ and $J_i \subseteq I_i$. Let $\vec{J}$ be the $\vec{\alpha}$-Yes interval tuple whose $i$-the component is $J_i$. Then $f(\vec({J})$ is in the fonsi and $|f(\vec{J})| < M |\vec{J}| < M \frac{\varepsilon}{M} = \varepsilon$ as was to be shown. 

For a given $\vec{\alpha}$ in the domain of $F$, we have a fonsi and, therefore, an associated oracle.
\end{proof}


\subsection{Arithmetic Operators}

We can now establish the arithmetic of oracles by defining the arithmetic operators via interval arithmetic and establishing that they have the narrowing property.

The interval arithmetic operators all have the property that subintervals of inputs lead to subintervals of the output as we were motivated to make sure all rationals in an interval were mapped into the output interval by the given operation. 

In what follows, $\alpha$ and $\beta$ are two oracles and we will use $A=(a\lt b)$ for a generic $\alpha$-Yes Interval and $B=c\lt d$ for  a $\beta$-Yes interval. For binary operators, we take $L = |A,B| = \max(b-a, d-c)$ while for a unary operator, we take $L = |A|$. 


\begin{enumerate}
    \item $\alpha+\beta$ is based on interval addition, namely $A \oplus B = a:b \oplus c:d = (a+c):(b+d)$ which has length $(b+d) - (a+c) = (b-a) + (d-c) \leq 2L$, establishing the narrowing property. 
    \item $\alpha * \beta$ is based on interval multiplication. If the interval endpoints are all the same sign, $a:b \otimes c:d$ is $bd-ac = bd -bc + bc -ac =  b(d-c) + c(b-a)$ though it is also equal to $bd - ad + ad - ac = d(b-a) + a(d-c)$. For mixed signs, we have the maximum of $|a(d-c)|$, $|b(d-c)|$, $|c(b-a)|$, $|d(b-a)|$, $|d(b-a)+a(d-c)| = |b(d-c) + c(b-a)|$. 
    
    For a simple bounding estimate on the multiplicative length, we can take the maximum $M$ of $|a|, |b|, |c|, |d|$ and multiply that by the maximum length $L$ of $b-a$ and $d-c$ and then double that. So $2*M*L$. This satisfies the narrowing property since this $M$ can bound all sub-interval length computations.
    \item $-\alpha$ is based on interval negation. Negation does not change the interval length so that the bound is $1*L$, establishing the narrowing property. 
    \item $\alpha - \beta$ is based on interval subtraction. Subtraction has length $b-c - (a-d) = (d-c) + (b-a)$, the same as addition. Thus, $2L$ is the bound to establish the narrowing property. 
    \item $\frac{1}{\alpha}$ is based on the reciprocity of intervals and $\alpha$ cannot be $0$. The length of a reciprocated interval is $\frac{1}{b} - \frac{1}{a} = \tfrac{b-a}{ab}$. Note $a$ and $b$ must be the same sign to avoid having 0 in there, which was part of the definition. Let $m = \min(|a|, |b|)$. Then $\tfrac{b-a}{ab} \leq \tfrac{L}{m^2}$. Letting $M = \tfrac{1}{m^2}$, this is a bound that holds for all subintervals since a given $a < p < q < b$ will have the property that $|p| > m$ and $|q| > m$. Hence, $\frac{q-p}{qp} \leq \frac{L}{m^2}$. This very much depends on $0$ not being in that interval. 
    \item $\tfrac{\alpha}{\beta}$ for $\beta \neq 0$ is defined based on multiplication and reciprocity. Using the multiplication bound on the reciprocated $\beta$, we have the bound as $M = \max(|a|, |b|, |\frac{1}{c}|, |\frac{1}{d}|)$ and $K= \max(b-a, \frac{1}{c} - \frac{1}{d}= \tfrac{d-c}{cd} )$ so that the length of the operated interval is bound by $2MK \leq 2*M^3*L$.
    \item Raising to a power is repeated multiplication, but we can be explicit here. For $\alpha^n$ for a given natural number $n>1$, and $\alpha$-Yes interval $a:b$, define $f = \max(|a|, |b|)$ and $e=\min(|a|,|b|)$.  We have two cases. If $a$ and $b$ are the same sign, then $a^n:b^n$ is the power interval and the length is $b^n - a^n = (b-a)\sum_{i=0}^{n-1} a^i b^{n-1-i} < (b-a)n f^{n-1}$. So a bound of $M= nf^{n-1}$ suffices for the narrowing property of same sign intervals. For differing signs, we have the power interval is $f^n:-ef^{n-1}$. The difference is $f^{n-1} (f+e)$. Note that $f+e$ is $|b-a|$ as they have opposite signs. Therefore, our bound for the opposite signs is $f^{n-1} L$. For a single bounding constant, we can use $M = n f^{n-1}$.
    \item For negative powers, this is positive powers combined with reciprocity. Note that there is no 0 allowed which allows us to focus on the same sign cases and we will assume $0 < a < b$ as the negative version changes only by a sign which vanishes in the computation of lengths.  Taking $a:b$ to be our enclosing $\alpha$ interval, then $\frac{1}{a^n} : \frac{1}{b^n}$ is our power interval and the difference is $\frac{b^n-a^n}{a^n b^n} \leq (b-a) \frac{n b^{n-1}}{a^n b^n} = \frac{n}{a^n b} L$. So taking $\frac{n}{a^n b}$ as our bounding constant $M$ gives us the narrowing property. 
\end{enumerate}

\subsubsection{$\sqrt{2}*(e + \pi)$}

Let us demonstrate this arithmetic by computing $x = \sqrt{2}(e + \pi)$. 

What we are asserting that this computation yields is an oracle that says yes or no as to whether the number is contained in it. Let's show how we would compute that out given a few intervals:  $8:9$, $8.1:8.2$, and $8.2871:8.2872$.

We start off with some simple bounds on the constants: $1 < \sqrt{2} < 2$, $2<e<3$, and $3 < \pi<4$. We do the indicated operations to get $1*(2+3) < x < 2*(3+4)$ or $5 < x< 14$. This fully includes our intervals and thus provides no answer about them. But it would rule out, $20 < x< 21$, for example. 

We increase our inputs by a decimal place to get $1.4 < \sqrt{2} < 1.5$, $2.7<e<2.8$, and $3.1 < \pi<3.2$. This leads us to $8.12 < x < 9$ which tells us $8:9$ is a $x$-Yes interval, but does not give us enough clarity for the next one. 

For that one, we will continue onto the next decimal place: $1.41 < \sqrt{2} < 1.42$, $2.71<e<2.72$, and $3.14 < \pi<3.15$ leading to $8.2485 < 8.354$. This rules out $8.1:8.2$, so that is a $x$-No interval. But we still need to see about $8.286:8.288$.

For that, we can use our formulas. For the square root of 2, we have that the error is bounded by $r(n) = 2\big(\frac{1}{4}\big)^{2^n-1}$. For $e$, we have the error $s(n) = \frac{1}{n!n}$. And for $\pi$, we have $t(n) = \frac{1}{15 * 16^n}$. We also have for addition, that the error is bounded by twice the largest error. For multiplication, we have that but also times the maximum of the endpoints of the intervals. We want to be less than $\frac{1}{1,000}$. 

Doing some computations, we have $r(5) < \frac{1}{130,000}$, $s(7) < \frac{1}{35,000}$, and $t(3) < \frac{1}{60,000}$. For multiplication, the bound $M$ can be taken as 6 since that is an upper bound on adding $e$ and $\pi$ and that addition is what dominates the endpoint estimates. So our error estimate is $2*6*\max(\frac{1}{130,000}, 2*\max(\frac{1}{35,000}\frac{1}{60,000})) \leq \frac{12}{17,000} \leq \frac{1}{1000}$. We now compute the intervals.  

\begin{itemize}
    \item $\pi$ is between $3.141592:3.141609$
    \item $e$ is between $2.71827:2.718294$
    \item Their sum is therefore between $5.859862:5.859903$
    \item $\sqrt{2}$ is between $1.414088:1.414214$
    \item The product is therefore between $8.28636:8.287157$
\end{itemize}

Since the interval is contained in $8.286:8.288$, that is a Yes-interval. 

Admittedly, the exercise of asking if something is a Yes interval is less useful when answering that question involves computing other intervals. We typically would just compute the intervals directly in that case, looking for a given error tolerance. But this is an exercise in showing what the oracle definition does involve.


\subsection{Fielding the Oracles}

We have already established that addition and multiplication of oracles is an oracle. 


Now we can establish that this arithmetic of oracles is a field. We will mostly rely on the established rules of interval arithmetic. To do that, we need to make the link between interval rules and oracle rules. 


\begin{proposition}
Let $f$ and $g$ be interval functions with the narrowing property such that $f(\vec{I}) \supseteq g(\vec{I})$ for all $\vec{I}$, where we also assume they are mutually defined on the same intervals. Then the corresponding oracle functions, $F$ and $G$, are equal.  
\end{proposition}

\begin{proof}
Let $\vec{\alpha}$ be given. We need to show that $\beta = F(\vec{\alpha})$ is equal to $\gamma =  G(\vec{\alpha})$. Let $A$ and $B$ be $\beta$-Yes and $\gamma$-Yes intervals, respectively. Then there exists intervals $I \subseteq A$ and  $J \subseteq B$  such that $f(\vec{I}) = I$ and $f(\vec{J}) = J$ with both  $\vec{I}$ and $\vec{J}$ being $\vec{\alpha}$ $n$-tuples. As we have noted before, $\vec{\alpha}$ $n$-tuples have non-empty intersections leading to the existence of a $\vec{\alpha}$ $n$-tuple $\vec{K}$ contained in both $\vec{I}$ and $\vec{J}$ with the property that $K = f(\vec{K})$ is defined and contained in $J$ and $I$ by the narrowing property. Thus, $I$ and $J$ overlap and thus so do $A$ and $B$. Since $A$ and $B$ were arbitrary Yes intervals of the two oracles, Proposition \ref{pr:overlap} tells us that $\beta = \gamma$. Since $\vec{\alpha}$ was arbitrary, $F = G$, as was to be shown.
\end{proof}

We apply this proposition for five of the field properties and the conclusions from Section \ref{sec:rules} as follows: 

\begin{itemize}
    \item Addition is Commutative:  Use the interval equation $+(I_1, I_2) = +(I_2, I_1)$.
    \item Addition is Associative: Use the interval equation $+(I_1, +(I_2, I_3)) = +(+(I_1, I_2), I_3)$.
    \item Multiplication is Commutative: Use the interval equation $*(I_1, I_2) = *(I_2, I_1)$.
    \item Multiplication is Associative: Use the interval equation $*(I_1, *(I_2, I_3)) = *(*(I_1, I_2), I_3)$.
    \item Distributive Property: Use the interval containment $*(I_1, +(I_2, I_3)) \subseteq +(*(I_1, I_2), *(I_1, I_3)$.
\end{itemize}

We need to now establish the identity and inverse properties. 

\begin{itemize}
    \item The additive identity is the Oracle of the singleton $0:0$. This follows from the interval equation $+(I, 0:0) = I$.
    \item The multiplicative identity is the Oracle of the singleton $1:1$. This follows from the interval equation $*(I, 1:1) = I$.
    \item The additive inverse for an oracle $\alpha$, denoted $-\alpha$, is defined by the rule that $a:b$ is a $-\alpha$-Yes interval exactly when $-a:-b$ is a $\alpha$-Yes interval. We need to establish that this is an oracle and that it does indeed satisfy $\alpha + -\alpha = 0$. 
    It is useful to point out that if $c:d$ is a $-\alpha$-Yes interval, then $-c:-d$ is a $\alpha$-Yes interval. This is because $c:d$ must be of the form $-a:-b$ for some $\alpha$-Yes interval $a:b$, by definition and the endpoints are the same, meaning the set $\{c,d\}$ is the same as $\{-a, -b\}$ which implies $\{-c, -d\}$ is the same as $\{a, b\}$.
    
    To establish this is an oracle, we simply apply the above observation to translate the various properties to that of $\alpha$. Let $R$ be the rule for $-\alpha$ and $S$ be the rule for $\alpha$. Therefore, $R(a:b)=S(-a:-b)$ for all intervals $a:b$.
    
    \begin{enumerate}
        \item Consistency. Let $c:d \supseteq a:b$ and $R(a:b)=1$ be given. Therefore $S(-a:-b) = 1$ and $-c:-d \supseteq -a:-b$ so $S(-c:-d)=1$ by consistency of $S$ implying $R(c:d) = 1$
        \item Existence. Since $\alpha$ is an oracle, there exists $a:b$ such that $S(a:b)=1$. Thus, $R(-a:-b)=1$ and we have existence. 
        \item Separating. Given $R(a:b)=1$ and $a:c:b$, then we have $S(-a:-b)=1$ and $-a:-c:-b$. If $S(-c:-c)=1$, then $R(c:c)=1$ and we are done. If not, then $S(-a:-c) \neq S(-c:-b)$ which then implies $R(a:c)\neq R(c:b)$ as was to be shown. 
        \item Rooted. Assume $c$ and $d$ satisfy $R(c:c)=R(d:d)=1$. Then $S(-c:-c)=S(-d:-d)=1$. By the rooted property, $-c = -d$ and thus $c=d$ as was to be shown. 
        \item Closed. Assume $c$ is contained in all $R$-Yes intervals. Then $-c$ is contained in all $S$-Yes intervals. By $S$ being closed, $S(-c:-c)=1$ which implies $R(c:c)=1$.
    \end{enumerate}
    
    To see this is the inverse, we start by considering the general $\alpha$-Yes interval $a:b$ and $-\alpha$-Yes interval $c:d$. We need to add them together. The interval $a:b$ generates the $-\alpha$-Yes interval $-a:-b$. We can then take the intersection of $c:d$ and $-a:-b$ which exists and is a $-\alpha$-Yes interval; let's call it $e:f$. Now, we have $-e:-f$ is an $\alpha$-Yes interval. When we add them, we get $f-e:e-f$ and $0$ is clearly contained in that interval. Since addition has the narrowing property and we had $e:f$ contained in $c:d$ and $-e:-f$ contained in $a:b$, then $0$ is also in the sum of $a:b$ with $-c:-d$. Since $0$ is contained in every summed interval, the sum is the singleton Oracle of $0$. 
    
    \item The multiplicative inverse for an oracle $\alpha$ is similar, but has the complication that we can only consider reciprocating intervals that do not include 0. 
    
    The multiplicative inverse for an oracle $\alpha$, denoted $\frac{1}{\alpha} = \alpha^{-1}$, is defined by the rule that $a:b$ is a $\frac{1}{\alpha}$-Yes interval if either 
    
    \begin{enumerate}
        \item  $a*b > 0$  and $\frac{1}{a}:\frac{1}{b}$ is a $\alpha$-Yes interval; we call this a same-sign $\alpha$-Yes interval.
        \item If $a*b<0$, then it is only an $\frac{1}{\alpha}$-Yes interval if it contains a same-sign $\frac{1}{\alpha}$-Yes interval. 
    \end{enumerate}
    
    We need to establish that this is an oracle and that it does indeed satisfy $\alpha * \frac{1}{\alpha} = 1$.
    
    It is useful to point out that if $c:d$ is a same-sign $\frac{1}{\alpha}$-Yes interval, then $\frac{1}{c}:\frac{1}{d}$ is a $\alpha$-Yes interval. This is because $c:d$ must be of the form $\frac{1}{a}:\frac{1}{b}$ for some $\alpha$-Yes interval $a:b$, by definition and the endpoints are the same, meaning the set $\{c,d\}$ is the same as $\{\frac{1}{a}, \frac{1}{b}\}$ which implies $\{\frac{1}{c}, \frac{1}{d}\}$ is the same as $\{a, b\}$.
    
    To establish this is an oracle, we simply apply the above observation to translate the various properties to that of $\alpha$. Let $R$ be the rule for $\frac{1}{\alpha}$ and $S$ be the rule for $\alpha$. Therefore, $R(a:b)=S(\frac{1}{a}:\frac{1}{b})$ for all same-sign intervals $a:b$.
    
    In what follows, we will assume the intervals are the same-sign except for the few places where we need to remark on the alternative strategy. One key fact is that if $a<p<b$ and all three are the same sign, then $\frac{1}{a} > \frac{1}{p} > \frac{1}{b}$.\footnote{Since we are using rationals, a quick proof starts with the rational form $\frac{p}{q} < \frac{r}{s}$, multiplying by $qs$ to get $ps < qr$, and then dividing by $pr$ to get the reciprocated and flipped inequality $\frac{s}{r} < \frac{q}{p}$, assuming that $pr$ and $qs$ are positive, i.e., the rationals are of the same sign. If they are of opposite sign, then for the points in between, we have $a < p < 0< q< b$ leading to $\frac{1}{p} < \frac{1}{a} < 0 < \frac{1}{b} < \frac{1}{q}$ which means an interval gets mapped to two infinite intervals instead of one finite one.} That is, $a:p:b$ if and only if $\frac{1}{a}:\frac{1}{p}:\frac{1}{b}$.
    
    \begin{enumerate}
        \item Consistency. Given $c:d \supseteq a:b$, and $R(a:b)=1$. Therefore $S(\frac{1}{a}:\frac{1}{b}) = 1$ and $\frac{1}{c}:\frac{1}{d} \supseteq \frac{1}{a}:\frac{1}{b}$ so $S(\frac{1}{c}:\frac{1}{d})=1$ by consistency of $S$. Thus, $R(c:d) = 1$. If $a:b$ was an opposite signed interval which is an $\alpha$-Yes interval, then there is a same-sign interval contained in $a:b$ which is $\alpha$-Yes. Thus any interval $c:d$ contains that same opposite signed interval and thus will also be $\alpha$-Yes by definition. 
        \item Existence. Since $\alpha$ is an oracle and not zero, there exists an interval $a:b$ such that $S(a:b)=1$ and 0 is not between $a$ and $b$; they are therefore the same sign. Thus, $R(\frac{1}{a}:\frac{1}{b})=1$ and we have existence. 
        \item Separating. Given $R(a:b)=1$ and $a:c:b$, then we have $S(\frac{1}{a}:\frac{1}{b})=1$ and $\frac{1}{a}:\frac{1}{c}:\frac{1}{b}$. If $S(\frac{1}{c}:\frac{1}{c})=1$, then $R(c:c)=1$ and we are done. If not, then $S(\frac{1}{a}:\frac{1}{c}) \neq S(\frac{1}{c}:\frac{1}{b})$ which then implies $R(a:c)\neq R(c:b)$ as was to be shown. 
        
        The above was in the case of $a:b$ being of the same sign. If $a:b$ was not a same sign interval, then it contains a same sign Yes-interval, $e:f$. If $c$ is outside $e:f$, then it divides $a:b$ into $a:c$ and $c:b$ and whichever one contains $e:f$ is a Yes interval while the other is a No interval. The other case is that $e:c:f$. In the same-sign case that we established above, we have that $c$ separates $e:f$ implying that we can then extend that up to $a:e:c$ and $c:f:b$, assuming without loss of generality that $e$ is closer to $a$ than $f$ is. 
        \item Rooted. Assume $c$ and $d$ satisfy $R(c:c)=R(d:d)=1$. Then $S(\frac{1}{c}:\frac{1}{c})=S(\frac{1}{d}:\frac{1}{d})=1$. By the rooted property, $\frac{1}{c} = \frac{1}{d}$ and thus $c=d$ as was to be shown. 
        \item Closed. Assume $c$ is contained in all $R$-Yes intervals. Then $\frac{1}{c}$ is contained in all $S$-Yes intervals. By $S$ being closed, $S(\frac{1}{c}:\frac{1}{c})=1$ which implies $R(c:c)=1$.
    \end{enumerate}
    
    To see this is the inverse, we start by considering the general $\alpha$-Yes interval $a:b$ and $\frac{1}{\alpha}$-Yes interval $c:d$ and assume both are same-signed since we can restrict our attention to subintervals and $\alpha$ is not the 0 oracle. We need to multiply them together. The interval $a:b$ generates the $\frac{1}{\alpha}$-Yes interval $\frac{1}{a}:\frac{1}{b}$. We can then take the intersection of $c:d$ and $\frac{1}{a}:\frac{1}{b}$ which exists and is a $\frac{1}{\alpha}$-Yes interval; let's call it $e:f$. Now, we have $\frac{1}{e}:\frac{1}{f}$ is an $\alpha$-Yes interval. When we multiply them, we get $\frac{f}{e}:\frac{e}{f}$ and $1$ is  contained in that interval.\footnote{If $\frac{e}{f} <1$, then multiplying by $\frac{f}{e}$ leads to $1 = \frac{fe}{ef} < \frac{f}{e}$. Similarly for $\frac{e}{f} > 1$. Note $e$ and $f$ are the same sign so that $\frac{f}{e}$ and $\frac{e}{f}$ are greater than 0. } Since multiplication has the narrowing property and we had $e:f$ contained in $c:d$ and $\frac{1}{e}:\frac{1}{f}$ contained in $a:b$, then $1$ is also in the product of $a:b$ with $\frac{1}{c}:\frac{1}{d}$. Since $1$ is contained in every multiplied interval, the product is the singleton Oracle of $1$. 
    
\end{itemize}

We have proven that

\begin{theorem}
The set of all oracles with the above defined arithmetic is a field. 
\end{theorem}

\subsection{Ordering the Field of Oracles}

We now turn to how the ordering fits with the field. We have already defined the ordering, with the ordering largely coming down to $R < S$ if there are $R$ and $S$ Yes intervals $a<b$ and $c<d$, respectively, such that $b<c$. 

Is this a total ordering? As we discussed, there are oracles, such as the Collatz Oracle, that we cannot distinguish from 0 and yet also not establish that it is 0 at the current time. Further, there are oracles, such as the coin toss ones we described, that in principle we could only distinguish from all other oracles by engaging in an infinite process. This is true of all definitions of real numbers and it should be kept in mind at least as a practical consequence. We will, however,  ignore that and generally settle on that if we had sufficient abilities, then this would be a total ordering. We did establish that at most one of $<$, $>$, $=$ can hold true. 

We have that the inequality of oracles is transitive from Proposition \ref{pr:transitive} and we have already stated that equality of oracles is reflexive, symmetric, and transitive from Proposition \ref{pr:reflexive}. 

We now need to establish that the ordering plays correctly with the field operations. 

\begin{proposition}\label{pr:addinq}
 $\beta + \alpha< \gamma + \alpha$ for all oracles $\alpha$, $\beta$, and $\gamma$ such that $\beta < \gamma$.
\end{proposition}

\begin{proof}
Since $\beta < \gamma$, there exists $a\leq b<c\leq d$ such that $a:b$ is a $\beta$-Yes interval and $c:d$ is a $\gamma$-Yes interval. By the bisection method, we can choose an $\alpha$-Yes interval $e\lt f$ such that $ (f-e) <  (c-b)$. Then we assert that $a:b \oplus e:f \lt  c:d \oplus e:f$. Indeed, $a\lt b \oplus e \lt f = [(a+e) \lt (b+f)]$ and $c:d \oplus e:f = [(c+e)\lt (d+f)]$. So we need to show that $b+f< c+e$ but this is just $f-e < c-b$ rewritten. We have therefore produced an interval of $\alpha+\beta$ that is strictly less than $\alpha+\gamma$. 
\end{proof}


\begin{proposition}
$\alpha*\beta > 0$ for all oracles $\alpha>0$ and $\beta>0$ 
\end{proposition}

\begin{proof}
Let $0 < a < b$ and $0<c<d$ such that $a:b$ is an $\alpha$-Yes interval and $c:d$ is a $\beta$-Yes interval. Then the product interval $a:b \otimes c:d = ac:bd$ is an $\alpha*\beta$-Yes interval and we have $0 < ac < bd$. Showing the existence of an $\alpha*\beta$-Yes interval $e:f$ satisfying $e:f > 0:0$ is all we need to show that $\alpha*\beta > 0$ and we have done that.  
\end{proof}

We have proven that

\begin{theorem}
The field of oracles is an ordered field.
\end{theorem}

\subsection{The Reals}

The rationals are an embedded field inside of the field of oracles. The embedding map is $q \mapsto q:q$. It is obviously a bijection from the rationals to the singleton oracles. It is also clear that $p<q$ if and only if $p:p < q:q$. For addition, we have $(p:p) \oplus (q:q) = (p+q):(p+q)$ which establishes that the bijection respects addition. For multiplication, we also have $(p:p) \otimes (q:q) = (pq):(pq)$ which establishes that the bijection respects multiplication.  Finally, $p>0$ if and only if $p:p > 0:0$ establishing that the positive rational are positive oracles. 

\begin{theorem}
The ordered field of oracles contains the rationals as a subfield. 
\end{theorem}

We previously established the completeness properties:

\begin{itemize}
    \item  Theorem \ref{th:lub}: All sets of oracles with an upper bound have a least upper bound. 
    \item Theorem \ref{th:cauchy}: All Cauchy sequences of oracles converge to an oracle. 
\end{itemize}

\begin{theorem}
The ordered field of oracles satisfies the axioms of the real numbers and can be considered the real number field. 
\end{theorem}

\subsection{Exploring with oracles}

Here we do a few explorations using oracles directly. Since we have established that the set of oracles with the defined addition, multiplication, and inequality satisfies the axiomatic definition of the reals, we could simply import all of the content of real analysis at this point. 

But that would seem to undercut the point of caring about this approach. We contend that by embracing oracles as fundamental, we can often get a more constructive approach than when we rely on the axiomatic approach. 

\subsubsection{Density of Rationals in the Oracles}

Let us first establish the density of the rationals in the oracles. This is essentially immediate from the definition of being less than. Indeed, let two oracles be given such that $\alpha < \beta$. Then there exist intervals $a\leq b$ and $c\leq d$ which are $\alpha$ and $\beta$-Yes intervals, respectively and that satisfies $b < c$; this is the meaning of the inequality of the oracles. Since $b < \frac{b+c}{2} < c$, the rational singleton $\gamma = \frac{b+c}{2}:\frac{b+c}{2}$ satisfies $\alpha < \gamma < \beta$. Thus, the rational oracles are dense in the real field of oracles. 

\subsubsection{Archimedean Property}

Let us now establish the Archimedean property, namely, that for oracle $\alpha > 0$ and for any oracle $\beta$, we have the existence of an integer $n$ such that $n * \alpha > \beta $. If $\alpha > \beta$, we are done. If $\alpha = \beta$, then $2 \alpha > \beta$. Otherwise, $\alpha < \beta$ and we can take $a\leq b$ be an $\alpha$-Yes interval and $c \leq d$ be a $\beta$-Yes interval such that $b < c$. Let $a = \frac{p}{q}$ and $d = \frac{r}{q}$, where we can take the same denominator by forming common denominators if necessary. It must be the case that $p < r$. By the division algorithm, we know that there exists integers $r = n*p + t$ where $0 \leq  t<p$ and thus $(n+1)p > r$. So $(n+1)*a:b > c:d$ and thus $(n+1)*\alpha > \beta$.

\subsubsection{Uncountability}

A famous part of the lore of real numbers is that they are uncountable unlike the rationals. We will first establish a result on finite collections of reals, namely, that we can always find an oracle distinct from any given finite collection of them. With that established, one can then use the machinery of infinity and contradiction to establish the uncountability of the reals. 

\begin{proposition}\label{pr:notlist}
Given a finite indexed collection of oracles, say $\{a_i\}_{i=0}^n$, we can produce an indexed collection of nested intervals, $\{I_i\}_{i=0}^n$ such that each $a_j$ is not an element of of $I_i$ whenever $j \leq i$.
\end{proposition}

\begin{proof}
Start with $0:1$. If $0:1$ is a $a_0$-No interval, then $a_0$ is not in the interval and we define $I_0 = 0:1$. If $0:1$ is an $a_0$-Yes interval, then consider the intervals $L= 0:\tfrac{1}{2}$ and $R = \tfrac{1}{2}:1$. By separation, either $L$ is $a_0$-No or $R$ is $a_0$-No or $a_0 = \tfrac{1}{2}$. In the first two cases, we take $I_0=L$ or $I_0=R$, respectively. In the third case, we take $I_0 = 0:\tfrac{1}{4}$ which does not contain $\tfrac{1}{2}$ and thus is a No interval for $a_0$.

Now we repeat this, starting with $I_i$ to produce $I_{i+1}$. Let $L_i$ be the left bisection of $I_i$ and let $R_i$ be the right bisection of $I_i$. Let $b_i$ be the bisection point. The one difference is that if $I_i$ is a $a_{i+1}$ No interval, then we take $I_{i+1} = L_i$ as we do want to make sure the intervals narrow. If $I_i$ is a $a_{i+1}$ Yes interval, then we use separation and either $L_i$ or $R_i$ is a No interval, in which case we set $I_{i+1} = L_i $ or $I_{i+1} = R_{i+1}$, respectively. If both are yes, then $a_{i+1} = b_i$ and we then bisect $L_i$ and take the left interval to be $I_{i+1}$ which will be an $a_{i+1}$ No interval. 

By construction, every prior number is excluded from the interval. We do this up through $a_n$.
\end{proof} 

With that proposition established, let us move on to the infinite case. Given an infinite sequence of oracles, we construct the fonsi as above. This leads to an oracle as as explained in Section \ref{sec:ni}. Since by construction, each of the intervals is a No interval for its matching $a_i$, we have that the oracle cannot be any real number on the list. 

The key distinguishment from the rationals is that we are constructing a valid oracle. If we attempted something similar with rational numbers, we would end up with something which is not a rational number. One could apply this construction to the countable list of rationals provided by Cantor's argument. By necessity, this will turn out to not be a rational number. 

\section{Mediant Approximation}\label{sec:mediant}

This section is an exploration of what this framing of real numbers suggests for the computation of a real number. We will start by exploring the use of mediants. We will then compare that to Newton's method. 

An alternative to the bisection method is the mediant method. Given a rational interval $\frac{a}{b} : \frac{c}{d}$, we divide the interval into two pieces by using the mediant $\frac{a+c}{b+d}$ as the ``middle''. This does depend on the particular fraction representative of the rational endpoints. Indeed, by scaling the two rational numbers, we can use the mediant operation to produce any rational number in the interval. If we scale the fractions to have common denominators, then the mediant operation is the same as bisecting. 

The iterative procedure is therefore to start with an interval, compute a mediant, ask the oracle which interval contains it, and then repeat with that interval. This produces the best rational approximations to the real number in the sense of being as close as possible while keeping the denominator small. 

\subsection{Square Roots}

Let's apply this to computing square roots. We will start with the square root of 2. The way we compute the oracle's answer is by computing the squares of the endpoints and seeing if the lower end is less than 2 and the upper one is greater than 2.

We start our procedure with the formal interval of $\tfrac{0}{1}$ and $\tfrac{1}{0}$. For each item, we record whether we choose the left subinterval [L] or the right subinterval [R]. 


\begin{itemize}
    \item[R] $\tfrac{0+1}{1+0} = \tfrac{1}{1}$, squared: $1 < 2$,  $[\tfrac{1}{1},\tfrac{1}{0}] $
    \item[L] $\tfrac{1+1}{1+0} = \tfrac{2}{1}$, squared: $4 > 2$, $[\tfrac{1}{1},\tfrac{2}{1}]$
    \item[L] $\tfrac{1+2}{1+1} = \tfrac{3}{2}$, squared: $\tfrac{9}{4} > 2$, $[\tfrac{1}{1},\tfrac{3}{2}]$
    \item[R] $\tfrac{1+3}{2+1} = \tfrac{4}{3}$, squared: $\tfrac{16}{9} < 2$, $[\tfrac{4}{3},\tfrac{3}{2}]$
    \item[R] $\tfrac{4+3}{3+2} = \tfrac{7}{5}$, squared: $\tfrac{49}{25} < 2$, 
    $[\tfrac{7}{5},\tfrac{3}{2}]$
    \item[L] $\tfrac{7+3}{5+2} = \tfrac{10}{7}$, squared: $\tfrac{100}{49} > 2$, 
    $[\tfrac{7}{5},\tfrac{10}{7}]$
    \item[L] $\tfrac{7+10}{5+7} = \tfrac{17}{12}$, squared: $\tfrac{289}{144} > 2$, 
    $[\tfrac{7}{5},\tfrac{17}{12}]$
    \item[R] $\tfrac{7+17}{5+12} = \tfrac{24}{17}$, squared: $\tfrac{576}{289} < 2$, 
    $[\tfrac{24}{17},\tfrac{17}{12}]$
    \item[R] $\tfrac{24+17}{17+12} = \tfrac{41}{29}$, squared: $\tfrac{1681}{841} < 2$, 
    $[\tfrac{41}{29},\tfrac{17}{12}]$
    \item[L] $\ldots$
\end{itemize}

There is a pattern of R,2L,2R,2L,2R,$\ldots$ which continues with alternating the directional selection every two times. We will explain this in just a moment, but for now, this means that we can skip checking the squaring as well as skip the intermediate steps. Indeed, for the next two steps, we are effectively doing $\tfrac{2*41 + 17}{2*29 + 12} = \tfrac{99}{70}$ as we will be replacing the right endpoint twice, implying the left one gets reused. That is, we have $[\tfrac{41}{29}, \tfrac{99}{70}]$ for our containment of the square root of 2. And then we can do the same thing to figure out our next interval after two steps is $[\tfrac{41+2*99}{29+2*70}=\tfrac{239}{169}, \tfrac{99}{70}]$. We will record the pattern as $[1; \bar{2}]$.

For the square root of 11, we would find the pattern to be dictated by $[3;\overline{3,6}]$. So we would start with $[\tfrac{3}{1}, \tfrac{1}{0}]$ after choosing R 3 times from our starting 0 and $\infty$ representatives. So we then could do $[\tfrac{3}{1}, \tfrac{3*3 + 1}{3*1 + 0} = \tfrac{10}{3}]$. Then we use the 6 on the left:  $[\tfrac{3+6*10}{1+6*3} = \tfrac{63}{19}, \tfrac{10}{3}]$. Next we do 3 on the right:  $[\tfrac{63}{19}, \tfrac{3*63+10}{3*19+3} = \tfrac{199}{60}]$. The decimal value of $\tfrac{199}{60}$ is about $3.31667$ while the square root of 11 is about $3.31662$. If we know the pattern, this becomes quite easy to compute. 

We should also add that one nice feature of the mediant approximation is that if the number being approximated is a rational number, then this procedure will produce it. The details may be found in Appendix \ref{app:med}. This is not true of other methods, such as the bisection method as the range of denominators produced is a multiple of the starting denominator with powers of 2. 

As an example, let's consider the square root of $\frac{4}{9}$. The solution is obviously $\frac{2}{3}$. With our mediant method, the intervals becomes $\frac{0}{1}:\frac{1}{1}$, then $\frac{1}{2}:\frac{1}{1}$, $\frac{2}{3}:\frac{2}{3}$ and we are done. In contrast, the bisection method gives $0:1$, $\frac{1}{2}:1$, $\frac{1}{2}:\frac{3}{4}$, $\frac{5}{8}:\frac{3}{4}$, and so on down the powers of 2 approximations to $\frac{2}{3}$. 

\subsection{Continued Fractions and Best Approximations}


The pattern is that of continued fractions. For square roots, the continued fraction is periodic which is quite nice to handle. For other computations, such as cube roots, the continued fraction is not periodic, but the alternation in computing the intervals still applies. For example, the cube root of 11 has continued fraction [2; 4, 2, 6, 1, 1, 2, 1, 2, 9, 88, ...]. We compute the intervals as:  
\begin{enumerate}
\item Default start: $[\frac{0}{1}, \frac{1}{0}]$, 
\item 2R: $[\frac{0+1*2}{1+0*2}, \frac{1}{0}]$, 
\item 4L:$[\frac{2}{1}, \frac{4*2+1}{4*1+0} =\frac{9}{4}]$, 
\item 2R:$[\frac{2+9*2}{1+4*2} = \frac{20}{9}, \frac{9}{4}]$
\item 6L:$[\frac{20}{9}, \frac{6*20+9}{6*9 + 4} = \frac{129}{58}]$
\item 1R: $[\frac{149}{67}, \frac{129}{58}]$
\item 1L: $[\frac{149}{67}, \frac{278}{125}]$
\item 2R: $[\frac{705}{317}, \frac{278}{125}]$
\item 1L: $[\frac{705}{317}, \frac{983}{442}]$
\item 2R: $[\frac{2671}{1201}, \frac{983}{442}]$
\item 9L: $[\frac{2671}{1201}, \frac{2671*9+983}{1201*9+442} = \frac{25022}{11251}]$
\item 88R: $[\frac{2671+88*25022}{1201+88*11251} = \frac{2204607}{991289}, \frac{25022}{11251}]$
\end{enumerate}

The last mediant computed already has exhausted a typical calculator precision for the cube root of 11, being about $3.7\times 10^{-13}$. It is tempting with this method to think that we could add 1 to the numerator to the more precise endpoint and get a better interval. That is not the case. For example, the quantity $\frac{25022}{11251} - 11^{1/3} \approx 8.9\times 10^{-11}$ while $\frac{2204608}{991289} - 11^{1/3} \approx 1\times10^{-6}$. 

If we have the continued fraction representation of a number, then we can produce as short of an interval as we please. If we have the oracle, but not the continued fraction, we can compute the continued fraction by doing the mediant process and keeping track of when we alternate from one side to the other. 

The switching from replacing one side with the other corresponds to a switch of how good of an approximation it is. The next three paragraphs are based on the excellent ``Continued Fractions without Tears'' \cite{richards}, exact statements being in quotes.  

We have the following theorem: ``Take any irrational number $\alpha$, with $0 < \alpha < 1$. The slow continued fraction algorithm ( the Farey process, zeroed in on $\alpha$) gives a sequence of best left and right approximations to $\alpha$. Every best left/right approximation arises in this way.'' The slow process is taking the mediant at each step, using the oracle to decide which interval applies. The best approximation up to a given denominator $n$ is defined as the rational number $\frac{p}{q}$, $q  \leq n$, that satisfies $|\frac{p}{q} - x | < |\frac{r}{s} -x|$ for all rational numbers $\frac{r}{s}$ such $s \leq n$.


The fast process is what we have described above. It corresponds to minimizing the ultra-distance which is $q|(\frac{p}{q})-\alpha|$. It scales the normal distance by the denominator and is an attempt to counterbalance the basic advantage of larger denominated rationals for being able to get close to $\alpha$.  ``We call $\frac{p}{q}$ an \textbf{ultra-close approximation} to a if, among all fractions $\frac{x}{y}$ with denominators $y < q$, $\frac{p}{q}$ has the least ultra-distance to $\alpha$.''

The paper then establishes the following theorem: ``Take any irrational number $\alpha$, $0 < \alpha < 1$. The fast continued fraction algorithm gives precisely the set of all ultra-close approximations to $\alpha$.''  The slow algorithm is therefore creeping along as a best approximation while not improving the ultra-closeness. Once we hit an ultra-close approximation, we then start creeping along the other side until we get another ultra-close approximation. 

The construction of numbers using these mediants is referred to as the Farey process. The tree of descendants from this process is called the Stern-Brocot Tree. Matt Baker wrote a nice reference for viewing real numbers as paths in the Stern-Brocot tree.\footnote{{\href{https://mattbaker.blog/2019/01/28/the-stern-brocot-tree-hurwitzs-theorem-and-the-markoff-uniqueness-conjecture/}{https://mattbaker.blog/2019/01/28/the-stern-brocot-tree-hurwitzs-theorem-and-the-markoff} \\ \hspace*{10px}  \href{https://mattbaker.blog/2019/01/28/the-stern-brocot-tree-hurwitzs-theorem-and-the-markoff-uniqueness-conjecture/}{-uniqueness-conjecture/} }} The tree, restricted inclusively to the interval $0:1$, is a convenient way of constructing a list, without redundancies, of rationals between $0$ and $1$. 

We can create an analogous process to that of Proposition \ref{pr:notlist} where instead of bisection, we use the mediant. If we start with a Farey pair, \footnote{$\frac{a}{b} < \frac{c}{d}$ are Farey pairs if $bc-ad=1$. The interval of a Farey pair is a Farey interval. The two intervals created by the mediant are Farey intervals. We can also reverse the mediant process to get the Farey partner. For any integer $n$, the interval $n:n+1$ is a Farey interval and is an excellent place to start the process.} then we can apply the above theorems. In particular, if we are given an interval $[\frac{a}{b}, \frac{c}{d}]$ for the oracle to evaluate, then if we do the mediant process starting with a Farey interval, then we can be assured of an answer once we encounter a mediant whose denominator is greater than that of $b$ and $d$. This, of course, only works if we can also determine the result on any give singleton. Note that we have no guarantee of when other methods will have decided on a given interval. 

Note that the pattern of selecting the intervals also corresponds to selecting which descendant of the mediant we will be selecting. Given an interval, we compute the mediant without choice. But then after that computation, we get to select which pathway to go down. 


\subsection{Newton's Method}

While Newton's Method has nothing to do with mediants, it is interesting to compare and contrast the method above with the standard root finding of Newton's method. Essentially, mediants are much easier to compute with a goal of getting simple rational approximations while Newton's method requires a bit more computational complexity but it yields a rapid convergence. 

As a quick review, Newton's method takes in a differentiable function $f$ and attempts to solve $f(x)= 0$ when given an initial guess of $x_0$. The method is based on the first order approximation $f(x) \approx f(a) + f'(a) (x-a) $ where we view $f(x) =0$ and solve for $x =0$, leading to $x = a - \tfrac{f(a)}{f'(a)}$. We can therefore define an iterative method of $x_{n+1} = x_n - \tfrac{f(x_n)}{f'(x_n)}$.

When Taylor's theorem applies, we have $f(\alpha) = f(x_n) +f'(x_n)(\alpha - x_n) + \frac{1}{2} f''(u_n) (\alpha - x_n)^2$ where $u_n$ is between $x_n$ and $\alpha$. If we take $f(\alpha) = 0$ and rearrange terms, we have $\alpha - x_{n+1} = \alpha - (x_n - \frac{f(x_n)}{f'(x_n)}) = \frac{-f''(u_n)}{2 f'(x_n) } (\alpha - x_n)^2$.

Let's take an interval $I$ which represents where we expect to be close to the root $\alpha$. Let $M$ be the largest that $|f''|$ will be on $I$ and let $N$ be the smallest that $|f'|$ is on $I$. Then we have 
\begin{flalign*}
|\alpha - x_{n+1}| & \leq \frac{M}{2N} |\alpha - x_n|^2 & \\
  & \leq \frac{M}{2N} (\frac{M}{2N}(|\alpha-x_{n-1}|)^2)^2 & \\
  & = (\frac{M}{2N})^3 |\alpha-x_{n-1}|^4 & \\
  & \leq (\frac{M}{2N})^7 |\alpha-x_{n-2}|^8 
\end{flalign*}
and so forth. The error gets quadratically smaller and smaller. 

Since we did the cube root of 11 above in detail with the mediants, let's try it with Newton's Method. We will start with an initial guess of $x=2$ and we know that the cube root of 11 is between 2 and 2.25. For Newton's method, we need a function which we will take to be $f(x) = x^3 - 11$. If it is 0, we have found a cube root of 11. $f'(x) = 3x^2$ and $f''(x) = 6x$. To keep our bounds simple, we will bound the derivatives on the interval $[2,3]$ which yields $M = 18$ and $N = 12$. So the factor in front can be bounded by $\frac{18}{24}$. The initial error is less than $1/4$. We therefore have error estimates for the first few guesses of $\frac{18}{24}(\frac{1}{4})^2 < .047$, $(\frac{18}{24})^3(\frac{1}{4})^4 < .00165$, $(\frac{18}{24})^7(\frac{1}{4})^8 < 2.04\times 10^{-6}$, and $(\frac{18}{24})^{15}(\frac{1}{4})^{16} < 3.12 \times 10^{-12}$. That is, we will have exhausted a typical calculator precision in four guesses. 

Let's do it. Our iteration is $x_{n+1} = x_n - \frac{x_n^3 -11}{3 x_n^2}$ 
\begin{enumerate}
\item $x_0 = 2 \pm \frac{1}{4}$
\item $x_1 = 2 - \frac{8- 11}{12} = \frac{9}{4} \pm .047$
\item $x_2 = \frac{9}{4} - \frac{ 729/64 - 11 }{243/16} = \frac{2162}{972}\approx 2.2243 \pm .00165$
\item $x_3 = \frac{1894566349}{851880969} \approx 2.2239801 \pm 2.04\times 10^{-6}$
\item $x_4 = \frac{20400964697239818757748038397}{9173177756288897151620391507} \approx 2.22398009056931625 \pm 3.12 \times 10^{-12}$
\end{enumerate}


The last two computations were done with WolframAlpha.  WolframAlpha also reports the cube root of 11 as approximately 2.22398009056931552. 

As one can see, Newton's Method converges quickly, but the fractions are quite complex. With the mediant method, the fraction $25022/11251$ is a closer approximation than $x_3$ above while being far smaller in the digits. One should also keep in mind that the computations for the mediant method requires nothing more than multiplication and addition and the fractions are always in reduced form. It is also worth mentioning that this iteration did start with an interval in common with the mediant method. 

\subsection{Example: Geometrically Computing $\sqrt{2}$}

In this section, we are going to explore computing the square root of 2 with right triangles whose sides are Pythagorean triples and whose legs are almost identical. This will allow us to get rational intervals that bound the square root of 2. 

As a simple and not great example, consider the classic $3-4-5$ right triangle. By dividing the sides by 3, we get a $1-\frac{4}{3}-\frac{5}{3}$ right triangle whose hypotenuse has length $\frac{5}{3} = 1 \frac{2}{3}$. Dividing by 4 leads us to a $\frac{3}{4}-1-\frac{5}{4}$ with hypotenuse  length $\frac{5}{4} = 1.25$. Notice that $1.25 < \sqrt{2} < 1.\bar{6}$.  The ordering occurs in this way because we can imagine lining up the $1-1-\sqrt{2}$ triangle with the other two that have a side whose length is 1. One of the triangles is taller and the other is shorter than a height of 1. The hypotenuse lengths correspond to that height ordering. 

How do we find good Pythagorean triples for this? It just so happens that a well known rational parametrization of the unit circle is  $r(t) = (\frac{1-t^2}{1+t^2}, \frac{2t}{1+t^2})$.  If we have rational $t$ such that those two coordinates are nearly equal, then we will end up with triangles that will be good approximations for the square root of 2. In fact, the interval is $\frac{1+t^2}{1-t^2}:\frac{1+t^2}{2t}$ where the order will flip depending on whether $t$ is greater than or less than the $t$ which brings equality. 

We can use Newton's method to produce good rational approximations of the $t$ by using the function $f(t) = 1-t^2 - 2t$, but we will demonstrate using mediants and the intermediate value theorem procedure. To start off with, $f(0) = 1 > -2 = f(1)$. The mediant between them is $\frac{1}{2}$ and $f(\frac{1}{2}) = -\frac{1}{4}$. So we select $0:\frac{1}{2}$ for our next interval. By the way, $r(\frac{1}{2}) = (\frac{3}{4}, 1) / \frac{5}{4} = (\frac{3}{5}, \frac{4}{5})$ which leads to the $3-4-5$ right triangle we discussed above.  The next interval has mediant $\frac{1}{3}$ and $f(\frac{1}{3}) = \frac{2}{9}$ leading to selecting $\frac{1}{3}:\frac{1}{2}$. We also have $r(\frac{1}{3}) = ( \frac{8}{9}, \frac{2}{3}) / \frac{10}{9} = (\frac{8}{10}, \frac{3}{5})$ which is the same triangle again. Notice how we shifted the direction of the interval selection and the legs flipped the ordering as well.

Our next interval's mediant is $\frac{2}{5}$ with $f(\frac{2}{5}) = \frac{1}{25}$ which tells us to select the interval $\frac{2}{5}:\frac{1}{2}$. And then $r(\frac{2}{5}) = (\frac{21}{25}, \frac{4}{5})/\frac{29}{25} = (\frac{21}{29}, \frac{20}{29})$ leading to $\frac{29}{21}:\frac{29}{20}$ as the interval approximation for the square root of 2 using the right triangle $20-21-29$. The next mediant is $\frac{3}{7}$ and we would select the interval $\frac{2}{5}:{3}{7}$ leading to a mediant of $\frac{12}{5}$.  Note that because we switched directions, we end up with the a scaled version of the same right triangle; here it is $40-42-58$. 

We can continue in this fashion, alternating the interval selection every two times as the positive solution to $1 - t^2 - 2t = 0$ is $\sqrt{2}-1$ with continued fraction $[0;\bar{2}]$ which does tell us to flip the selection direction every two selection. It also tells us that adding $1$ to the $t$ values gives us direct approximations to the square root of 2. 

If we did want to use Newton's method on this to quicken the pace, we would be computing the formula $x_{n+1} = x_n - \frac{ t^2  + 2t -1}{2t + 2}$. If we started with $\frac{2}{5}$, then the next one would be $\frac{29}{70}$. Computing out its right triangle, we get $4059-4060-5741$ with estimates $\frac{5741}{4059}\approx 1.4143: \frac{5741}{4060} \approx 1.41403$. 

\subsection{The Continued Fraction of $\pi$}

We can do a similar method using the intermediate value process for computing out the continued fraction of $\pi$. Let us assume that we can compute the sign of $\sin(x)$ for any rational $x$ and also assume that we know that $\sin(x)$ has exactly one zero in the interval $3:4$. This zero is, of course, $\pi$. Then the oracle of $\pi$ restricted to intervals in $3:4$ is the set of intervals $a:b$ such that $\sin(a):0:\sin(b)$ is true. That is, we can compute the Yes or No of intervals by testing out the sign of sine. 

If we start out with the interval  $3:4$ and use the mediant process, we will be working with a Farey pair. The first mediant is $\frac{7}{2}$. Note the signs of sine are  $\sin(3) : +$, $\sin(4): -$, $\sin(7/2): -$. So our next interval is $3:\frac{7}{2}$ with mediant $\frac{10}{3}$ whose sine value is negative. As we proceed, we generate the mediants $\frac{13}{4}$, $\frac{16}{5}$, $\frac{19}{6}$, and finally $\frac{22}{7}$. All of these had negative sine values and thus we were choosing the left sub-intervals. We did this 7 times so the continued fraction so far is $[3;7,1]$ representing the mediant $\frac{25}{8}$ whose sine value is positive. We now start selecting the right subintervals, namel those with $\frac{22}{7}$. If we proceed, we will find we do this 15 times before switching leading to $[3; 7, 15]$ which leads to $\frac{333}{106}:\frac{22}{7}$ as the interval of containment before we start selecting the left subintervals again.

This is a method, perhaps a slow one, which allows one to compute the continued fraction of any solution to an equation of the form of $f(x) =0$ where the sign of $f$ changes near the solution. For an alternative direct method of computation using a variant of Newton's Method, see \cite{shiu95}.\footnote{I found this reference at an excellent MathStackExchange overview of computing out continued fractions: \url{https://math.stackexchange.com/questions/716944/}.  It also gives some references for doing arithmetic with continued fractions.} 

We could do something similar for $e$, where we look at whether the function $\ln(x)$ is greater or less than 1 to determine if we switch the intervals. The basic starting point will be $2:3$ leading to a sequence of mediants being $\frac{5}{2}, \frac{8}{3}, \frac{11}{4}, \frac{19}{7}$ where the last one is accurate to within $0.004$ with the bounding interval giving a bound of $0.036$. 

The viewpoint of oracles seems naturally to lead into mediants which then leads into continued fractions. 

\section{Function Oracles as Families of Narrowing Rational Rectangles}\label{sec:funora}

The oracles are equivalent to the axiomatic real numbers and we could, therefore, just do the usual story of functions being maps from oracles (reals) to oracles. But that is discarding the idea and usefulness of oracles. In particular, what we want to highlight is the difference between rationals and irrationals which is that rationals can be given precisely while irrationals always rely on intervals of rationals. The idea is that we want to be able to deduce the rest of the function by what it does solely at the rationals. 

The natural structure to look at providing a basis for functions is that of rational rectangles. One side will represent the valid inputs and the other side represents the possible outputs. The family of rectangles will have the property that we can narrow the range of the outputs with a possible narrowing of the input range. A basic requirement will be that if an oracle $\alpha$ is in the domain of the function with supposed value $\beta$ at that point, then given a $\alpha$-Yes interval $a:b$ and a $\beta$-Yes interval $c:d$, then there is a Yes rectangle contained in $a:b \times c:d$. 

We could imagine that the rectangle $a:b \times c:d$ just needs to be an $(\alpha, \beta)$-Yes interval for a given $\alpha$ and $\beta$. This would be essentially the way to recover the usual set of functions that we discuss in real analysis as we would have each collection of rectangles tied to a given pair. But we have in mind the desire that these Yes rectangles cover all the inputs for which the $x$-interval of the rectangle is a Yes-interval. This implies that over that $x$-interval, the rectangle is a bounding rectangle for our function. 

For rationals, we do allow singletons which enables them to be independent of the surrounding regions. For irrationals, we are requiring them to be in line with their neighbors. The model to have in mind is the difference between discrete probability (probability mass function) and a continuous probability (probability density function). Just as we can mix these in probability, we can have that here. The functions that get defined by this should be continuous on the irrationals, but can be discontinuous on the rationals. Thomae's function is an example of this, as discussed below. 

We have not done the careful working out of the arithmetic of functions, including composition, but it should be similar to the work done with oracles. Also not pursued is exploring the practical implications of this definition. We content ourselves with a definition from which we prove that these are equivalent to functions continuous everywhere except possibly at the rational numbers. We also give a few examples of how common functions are modeled with function oracles. 

\subsection{Definitions}

A \textbf{rectangle} with sides $a \leq b$ and $c \leq d$ will give the property to an ordered pair $(u, v)$ of being in the rectangle if $a \leq u \leq b$ and $c \leq v \leq d$. It has $x$-side $a:b$ and $y$-side $c:d$. We denote the rectangle by $a:b \times c:d$. Note that we will only consider rational rectangles, that is, those such that $a, b, c, d$ are all rational numbers. 

A rectangle $M = a \leq b \times c \leq d$ is contained in another rectangle $N = A \leq B \times C \leq D$ if $A \leq a \leq b \leq B$ and $C \leq c \leq d \leq D$. They are $x$-same if $a=A$ and $b=B$, $y$-same if $c=C$ and $d=D$. $M$ $x$-contains $N$ if $a \leq A \leq B \leq b$ and $M$ $y$-contains $N$ if $c \leq C \leq D \leq d$.

Given a rectangle $R = a \leq b \times c \leq d$, we take $R_x = a:b$ and $R_y = c:d$. 

The intersection of two rectangles $a \leq b \times c \leq d$ and $A \leq B \times C \leq D$ is the rectangle formed from $\max{a,A} \leq \min{b,B} \times \max{c, C} \leq \min{d, D}$; the intersection is empty if the inequality on either side is not satisfied. The container of the two rectangles is the rectangle $\min{a,A} \lt \max{b,B} \times \min{c, C} \lt \max{d, D}$. The container always exists. 

Two rectangles $R$ and $S$ $x$-intersect if their $x$-sides intersect as intervals. Similarly for $y$. 

We say that the rectangle $R$ $x$-contains $\alpha$ if the $x$-side of $R$ is an $\alpha$-Yes interval. Similarly, $R$ $y$-contains $\beta$ if the $y$-side of $R$ is a $\beta$-Yes interval.

We will call a rectangle $R$ whose $x$-side is $a:a$ a singleton. We do consider the singletons to be rectangles.

A \textbf{function oracle} $f$ is a rule that, given any rectangle $R$, either says Yes or No and satisfies: 
\begin{enumerate}
    \item Elongating Consistency. If a rectangle $M$ $y$-contains rectangle $N$ with $N$ and $M$ being $x$-same, then $M$ is a $f$-Yes rectangle if $N$  is an $f$-Yes Rectangle. 
    \item Narrowing Consistency. If a rectangle $M$ $x$-contains rectangle $N$ with $N$ and $M$ being $y$-same, then $N$ is a $f$-Yes rectangle if $M$ is. 
    \item Intersection. If two $f$-Yes rectangles intersect, then the intersection is also an $f$-Yes rectangle. 
    \item Single-valued. Given two disjoint $x$-same rectangles $M$ and $N$, at most one of them can be a Yes-rectangle for $f$. 
    \item Separating. Given an $f$-Yes rectangle $M$, an oracle $\alpha$ contained in the $x$-side of $M$, and two $y$-values $r$ and $s$ contained in the $y$-side $M$, then there exists an $f$-Yes rectangle not containing at least one of those values and that contains $\alpha$ in the $x$-side.
\end{enumerate} 

Here are a few consequences: 

\begin{enumerate}
    \item Narrowing Elongating Consistency (NEC). If a rectangle $M$ $y$-contains rectangle $N$ and $N$ $x$-contains $M$, then $M$ is a $f$-Yes rectangle if $N$  is an $f$-Yes Rectangle. This implies that if $M$ is $f$-No then $N$ is $f$-No. This property is a combination of the Elongating and Narrowing conditions. 

    \item Given an interval $I$ in the $x$-side of the $f$-Yes rectangle $R$, there exists a $f$-Yes rectangle $S$ such that $I$ is the $x$-side of $S$. One such rectangle is $I \times R_y$ which is $f$-Yes by Narrowing Consistency. 

    \item If $M$ and $N$ are both $f$-Yes rectangles and they $x$-intersect, then they intersect as rectangles. This follows from first narrowing them to be $x$-same and then using the single-valued property. Since they intersect as rectangles, the intersection property yields that the intersection is a Yes rectangle as well. 

\end{enumerate}

To allow for expansive ranges in the elongation property and in order to support jump discontinuities, we do not require that every value in a $y$-side is imagined to be a value of the function. This is a key reason why the separating property does not require one of the values to be in the Yes rectangle. 

\subsection{Being a Classical Function}

We now look at this giving rise to a classical function, namely, the ability to write $f(\alpha) = \beta$. Essentially, the sides of the rectangle are the intervals defining these oracles.  

\begin{proposition}
If an oracle $\alpha$ has a Yes-interval which is an $x$-side of a Yes rectangle for a function oracle $f$, then $f(\alpha)$ is defined as the oracle $\beta$ defined by the rule that an interval is a $\beta$-Yes interval if it is the $y$-side of a $f$-Yes rectangle whose $x$-side is an $\alpha$-Yes interval. In addition, we add in the closed property, namely, that if a rational $c$ is contained in all the $\beta$ intervals, then $c:c$ is also $\beta$-Yes.  
\end{proposition}

\begin{proof}
We need to show both the existence and uniqueness of $\beta$.

To show uniqueness, assume $\beta$ and $\gamma$ are oracles with the stated property in the proposition. Consider a $\beta$-Yes interval and a  $\gamma$-Yes interval. Each of the intervals are, by definition, $y$-sides of $f$-Yes rectangles $R$ and $S$, respectively, containing $\alpha$. Since both contain $\alpha$, the $x$-sides intersect and therefore they intersect as rectangles, as stated above. The intersection's $y$-side is the intersection of the $y$-sides of $R$ and $S$. These intervals therefore intersect. This applies to each pair of Yes intervals for $\beta$ and $\gamma$. By Proposition \ref{pr:inter}, these must therefore be equal as oracles. 

To show existence, we need to establish the Oracle properties. 

\begin{enumerate}
    \item Consistency. Assume $c:d$ contains the $\beta$-Yes interval $a:b$. Then by the definition of $\beta$, there is a $f$-Yes rectangle $R$ with $y$-side $a:b$. The $x$-same rectangle with $y$-side $c:d$ contains $R$ and thus is $f$-Yes as well by the Elongation property. 
    \item Existence. By assumption, there exists a Yes-rectangle whose $x$-side is an $\alpha$-Yes interval. The $y$-side of that rectangle is therefore a $\beta$-Yes interval. 
    \item Separating. Let $a \lt b$ be a $\beta$-Yes interval and $R$ be the associated $f$-Yes $\alpha$ rectangle. Let $c$ be a rational such that $a \lt c \lt b$. We need to show that either $c$ is contained in all $f$-Yes $\alpha$-rectangles or that there is a $f$-Yes $\alpha$-rectangle $S$ whose $y$-side is either $a \lt c$ or $c \lt b$. If $c$ is not contained in all $\beta$-Yes intervals, then there must be a a $f$-Yes $\alpha$-rectangle $S$ that does not include $c$. By necessity, the $y$-side is either below $c$ or above $c$. If the $y$-side goes below $a$ or above $b$, we can use the intersection property to cut it to $a$ or $b$, respectively. We can also elongate, if needed to include $a$ or $b$.  That is, we can either expand or restrict to get a rectangle whose $y$-side is either $a:c$ or  $b:c$. The other one does not intersect the $y$-side of $S$ and, therefore, by the single-valued property, the other interval must be a No interval.\footnote{Let's say $a:c$ was the Yes interval. If we had a a $f$-Yes $\alpha$-rectangle $T$ whose $y$-side was $b:c$, then the intersection with $S$ would have to be non-empty, but it cannot be since the $y$-side of $S$ is strictly contained in $a:c$.  }  
    \item Rooted. This is what the function Separating property is essentially demanding. In particular, given two rational numbers in a $f$-Yes $\alpha$-rectangle, then there exists another $f$-Yes $\alpha$-rectangle which does not contain at least one of them and thus that excluded rational is not in all $\beta$-intervals. 
    \item Closed. By assumption, we include such rational point intervals if needed.  
\end{enumerate}

\end{proof}


We say that an oracle $\alpha$ is in the domain of the function oracle if there is at least one $R$-Yes rectangle $M$ whose $x$-side is a $\alpha$-Yes interval. By the proposition above, being in the domain does imply that the function will have a value at $\alpha$ in the classical sense. 

By the above proposition, we also have that if there exists a rational tuple $(u,v)$ contained in every $f$-Yes rectangle whose $x$-side contains $u$, then the value of the function at $u$ is $v$.


Oracle functions, as we shall see, are the functions that are constrained by their values on the rational numbers. In particular, we need what happens on the rationals to be, in a certain sense, close to what is happening on the irrationals. 

In what follows, we will establish that elementary functions can be modeled as function oracles. But we start with exploring Thomae's function and related functions.


\subsection{Thomae's Function}

First, let us look at a couple of functions with jumps that come to the opposite conclusions. 

Define the function oracle $f$ with the following rules for rectangles $R$: 

\begin{itemize}
    \item If 2 is not $x$-contained in $R$, then it is a $f$-Yes rectangle if and only if the $y$-side contains 0. 
    \item If 2 is $x$-contained in $R$ and it is not a singleton, then it is a $f$-Yes rectangle if and only if it contains both 0 and 1.
    \item If it is a singleton whose $x$-side is $2:2$, then it is $f$-Yes if and only if the $y$-side contains 1. 
\end{itemize}

This leads to the classical function which is everywhere 0 except at 2 for which its value is 1 at that point. 

A very similarly defined Yes/No rule on rectangles can be obtained by replacing 2 with $\pi$. This does not work as we cannot have the $\pi$ singleton. Without the singleton, we fail to satisfy the separating property as there does not exist a $\pi$ $x$-containing Yes rectangle separating 1 and 0.  

This exemplifies that the rationals have more privileges than the irrationals, corresponding to the fact that we can specifically address any given rational number while we cannot do so with irrationals. The behavior of irrationals can only be specified in a general location and thus we must have continuity there for this to make actual sense. 

The characteristic function of the rationals cannot be modeled by a function oracle, again by the lack of a way to separate the values of 0 and 1. 

We can, however, model Thomae's function which is the classic example of a function continuous on the irrationals, but not the rationals. 

Define the function oracle $T$ as giving a Yes result on neighborly rectangles $p/q : r/s \times c\lt d$ exactly when $c \leq 0 \lt 1/n \leq d$ is satisfied where $n$ is the smallest denominator for all rationals in $p/q \lt r/s$. The number $n$ is well-defined since we know it will be bounded above by $q$ and $s$.  We should also say we ignore $0$ for the rational denominators. For singletons, if the $x$ value is $p/q$ in reduced form, then it is a Yes rectangle exactly when it contains $1/q$. If the $x$ value is $0$, then it must include $0$ in the $y$-side.

Thanks to the singletons, this does satisfy the Separating property. The other properties follow quickly. 

It should also be easy to see that this is Thomae's function. At a rational $\frac{p}{q}$, we have $1/q$ as common to all the rectangles while for any irrational, $0$ is common for all of them. 

It is also worthwhile to think about graphing this function. In the classical presentation, it would be a bit of quandary. Our graphing tools technically only work with rational numbers. So any graph of the rational points would never have 0 in the range. From a probabilistic point of view, however, the rationals are a set of measure zero. This implies that if we were to randomly sample the interval, then the function should be identically zero. 

Our approach suggests graphing rectangles. As we narrow the base, we end up with more varied rectangles of various heights. If we were to narrow in a irrational number, say using the mediant process, then we progressively get past the lower denominators and the bar heights do go to zero. For a rational, we can use a singleton to get its precise value. 

Notice that for the classical characteristic function of the rationals, no amount of zooming changes the rectangles. The graph is simply a rectangle whose $y$-side is at least the interval $0:1$, regardless of the $x$-side. 

I take it to be a merit of this approach that it brings this out. These rectangles are also guarantees that the values will be in the rectangle. This means that if we want to know if a value is less than a given number, we can say with confidence that it is if the rectangle's upper boundary is below that number. 


\subsection{Monotonic Functions}

For any monotonic rational function, $Q$, such as $x^3$, the rectangle approach works quite well. The minimal rectangle for a given interval $a \lt b$ would be $a:b \times Q(a):Q(b)$. The intersection of two such minimal rectangles, say with $x$-sides satisfying $A \lt a \lt B \lt b$ leads to $a \lt B  \times  Q(a):Q(B) $. We add in the appropriate rectangles containing these minimal rectangles for the consistency properties. The disjoint and separating property can be handled using the monotonic properties. 

We also need to consider monotonic functions whose values on rationals may not be rational. Examples include $\pi x$ and $\sqrt{x}$. For both of these, setting $x=2$ leads to non-rational oracles, specifically, $2 \pi$ and $\sqrt{2}$. We thus need to expand the minimal set of rectangles to be those whose $y$-side has that extra bit of oracle interval room. 

Specifically, given a monotonically increasing function $F$ defined on the rationals whose outputs are possibly oracles, a rectangle is a Yes rectangle if it is of the form  $a \lt b \times F\_(a):F\string^ (b)$  where $F\_(a)$ is any rational that is the lower limit of a $F(a)$-Yes interval and $F\string^ (b)$ is the upper limit of a $F(b)$-Yes interval. We also require that all rationals in $a:b$ have defined values. 

Monotonically decreasing functions are handled the same way, but with a reversal of the upper and lower limits. 

This gives us all $x^r$ functions for rational $r$, quite explicitly. We can extend this to all $x^{\alpha}$ for oracles $\alpha$ by using intervals for $\alpha$ and then applying the upper and lower limits. 

We can also do exponential functions of the form $\alpha^{x}$, by considering intervals for $\alpha$ and combining them with intervals of $x$. For example, if we are considering $e^{\pi}$, then one interval of interest would be taking $2.71:2.72$ and $3.14:3.15$ and forming the rectangle whose $x$-side is $3.14:3.15$ while the $y$-side is $2.71^{3.14}:2.72^{3.15}$. As we consider all such intervals containing $e$ and $\pi$, the $y$-sides will form the intervals of the oracle of $e^{\pi}$.

The final function to consider in this section is that of logarithms. By considering the compounding interest formula, $(1+ \frac{x}{n})^n \to e^x$, we can invert this to obtain $n (x^{1/n} - 1) \to \ln(x)$. While this is a slow convergence, it does suffice for a definition. For a fixed $n$, the function is monotonically increasing, just as the logarithm is. For fixed $x$, the sequence of values is monotonically decreasing to $\ln(x)$. Since they are all above the logarithm, we need a lower bound. One candidate is  $n (x^{1/n} - 1) - \frac{x}{n} $ which does suffice but is not great as for large $x$, it becomes quite a poor lower bound.\footnote{An alternative bounding strategy can be found in Appendix \ref{app:e}.} It is below the natural logarithm of x for all $x > 0.41$. Since we can define the property $\ln(x^{-1}) = - \ln(x)$, we can focus on constructing the values of the logarithm for $x\geq 1$. We can therefore take bounding boxes using the lower bound and upper bound functions appropriately, with a distinct preference for the upper bound as an approximation.  



\subsection{Continuous Combinations}

Many functions are not, of course, monotonic. What we want is to compose the function oracles with uniformizable continuous rational functions and claim that these are again function oracles. 

A uniformizable continuous rational function is a function such that for any given rational interval $a:b$ in its domain and $n$ we can find an $m$ such that $|f(q) - f(r)| < \frac{1}{n} $ whenever $|q-r| < \frac{1}{m}$ for any $a:q,r:b$. If we have a function oracle $g$, then we define a new function oracle, $h$, by applying the rule $f$ to each of the $y$-sides of the $g$-Yes rectangles and those are the $h$-Yes rectangles. 

It is, unfortunately, not as easy as inserting the endpoints of the $y$-intervals into $g$. The function $g$ can scramble what is the largest and smallest values of the interval. For example, $x^2$ takes the interval $-1:1$ to $0:1$ with the minimum value coming from a value in the middle of the interval. Note that if we used the interval arithmetic for $x^2$, then the interval is $-1:1$. We might also have an undefined interval such as using $1/x$ on the interval $-1:1$.

Formally, we say that a rectangle $R$ is a $h$-Yes interval if there exists a $g$-Yes rectangle $Q$ with the same $x$-side and that the $y$-side of $Q$ is mapped into the $y$-side of $R$. We need to check the function oracle properties: 

\begin{enumerate} 
\item Elongating. This is immediate because the containing rectangle will still contain the mapped $y$-side. 
\item Narrowing. This requires the existence of the narrowing property for $g$. 
\item Intersection. Let $a:b$ be the common $x$-side of the intersection $h$-Yes rectangles. Then the $g$-Yes pre-image rectangles intersect on $a:b$ as well. Their common intersection's $y$-side gets mapped under $f$ and must be contained in both of the $h$-Yes rectangles. By NEC, we can elongate if necessary. 
\item Single-valued. Consider two $h$-Yes rectangles and the rectangles that map into them, respectively. They have the same $x$-side and the $g$-Yes rectangles must therefore intersect due to the intersection property on $g$. The intersecting rectangle maps into both $h$-Yes rectangles and they are therefore not disjoint.  

\item Separating. This is where the (uniformish) continuity comes into play. Let a $h$-Yes rectangle $S$ be given and let $T$ be a $g$-Yes rectangle that maps into $S$; this can be done by definition of $h$-Yes rectangles. Let $r$ and $s$ be two points in the $y$-side of $S$ and $\alpha$ an oracle in the $x$-side of these rectangles. We need to show that there exists an $h$-Yes rectangle whose $x$-side contains $\alpha$ but does not contain at least one of those points. We will do this by producing a rectangle whose $y$-side is smaller than the distance between those two points. 

Let $L = |r-s|$. By the continuity of $f$, we can find $m$ such that when $|x-y| < \frac{1}{m}$, we have $|f(x) - f(y)| < L$. By Proposition \ref{pr:fshrink}, we can find a $g$-Yes rectangle $M$ whose $x$-side contains $\alpha$ and that the $y$-side of $M$ has length less than $\frac{1}{m}$. This means that when it is mapped under $f$, the length of $y$-side is less than $L$. This means that $M$ cannot contain both $r$ and $s$.

Note that it is quite possible that the rectangle $M$ has a singleton as an $x$-side and the $y$-side is a single value. This is not a problem. 

\end{enumerate}

With this established, polynomials can be represented by function oracles as well as classically continuous functions. Note that our input intervals are always inclusive of the endpoints. We can also apply functions to discontinuous functions as long as every $g$-Yes rectangle contains a $g$-Yes rectangle whose $y$-side does not contain the points of discontinuity. For example, we can have $1/x$ as a function oracle by taking the modified function oracle of $x$ where the modification is to remove all rectangles whose $x$-side contains 0. 

As a questionable example, we can also apply this to the tangent function as it is continuous everywhere on its domain. When we consider the function rectangles, we simply need to ensure that the intervals do not include odd multiples of $\frac{\pi}{2}$. The questionable part of this is that we would need to have a reliably defined tangent function, but we put it here to illustrate that discontinuous functions at irrationals are not a problem if the function is not defined at that irrational. 


\section{The Calculus of Function Oracles}

We now investigate various properties of function oracles and how they compare to standard caclulus topics. 

\subsection{Almost Everywhere Continuous}

Function oracles are almost everywhere continuous on the domain. In particular, the only places where they can be defined and discontinuous are at the rationals. This is what we shall establish. 

We start by arguing that the separating property implies that we can establish rectangles as small as we wish. 

\begin{proposition}\label{pr:fshrink}
Given a function oracle $f$, an oracle $\alpha$ in its domain, and an $\varepsilon > 0$, then we can find an $f$-Yes rectangle $x$-containing $\alpha$ such that its $y$-side has length less than $\varepsilon$
\end{proposition}

\begin{proof}
    Let $f$, $\alpha$, and $\varepsilon$ be given. As $\alpha$ is in the domain, there exists an $f$-Yes rectangle $R_0$ which $x$-contains $\alpha$. Let $d_0$ be length of the $y$-side. If $d_0$ is less than $\varepsilon$, then we are done. If not, we can pick two values in the $y$-side, say dividing the interval into thirds. By the Separating property, there exists an $f$-Yes rectangle $R_1$ which excludes at least one of those values. This leads to a $y$-side length of less than $\frac{2}{3} d_0$. Repeat this until the $y$-side is less than $\varepsilon$. This will occur at the latest for $n$ times where $n$ satisfies $(\frac{2}{3})^n d_0 < \varepsilon$.  
\end{proof}

We now can argue for continuity at the irrationals. Note that in the above argument it is quite possible to have a rectangle whose $x$-side is a singleton. This is how we get around the Thomae's-style function example. 

We will call an oracle $\alpha$ in the domain of the function oracle \textbf{mass-free} if we can find Yes rectangles containing $\alpha$ whose $x$ side's length is greater than 0 and whose $y$-side is as small as please. That is, if we are given $\varepsilon > 0$, then there exists a Yes rectangle $M$ such that $|M_x| > 0$, $\alpha \in M_x$, and $|M_y| < \varepsilon$.
 
 A function oracle is mass-free if it is mass-free across its domain.  

\begin{proposition}
Let $\alpha$ be in the domain of the function oracle $\alpha$ and mass-free. Then $f$ is continuous in the classical sense at $\alpha$.
\end{proposition}

\begin{proof}
    We need to establish that given an $\varepsilon > 0$, we can find a $\delta > 0$ such that $|f(x) - f(\alpha)| < \varepsilon$ whenever $0 < |x - \alpha| < \delta$. This is essentially a restatement of the mass-free definition where $\delta$ is taken to be $|M_x|$, perhaps shrunken to be centered on $\alpha$. 
\end{proof}

We should note that all neighborly $\alpha$ (irrationals) in the domain of $f$ are mass-free since Proposition \ref{pr:fshrink} applies to give us our $M$ and we note that $M_x$ cannot be a singleton since it contains $\alpha$ which is neighborly and cannot be contained in a singleton.

We have established:

\begin{theorem}
    Function oracles are continuous at all irrational values on their domains and at mass-free rational points. 
\end{theorem}

\begin{corollary}
If a function oracle is mass-free, then it is continuous in the classical sense on its domain. 
\end{corollary}

\begin{corollary}
Function oracles are Riemann-integrable. 
\end{corollary}

This follows as all almost-everywhere continuous functions are Riemann-integrable. 


\subsection{Taylor Polynomials}

Functions that can be written as Taylor polynomials can be modeled as function oracles. The setup is to have a family of polynomials with $x$-based error bars where any pair of polynomials has a relationship of one being wholly contained within the error envelope of the other. In addition, one should be able to find at least one polynomial with an error as small as one wants specified for a given $x$. 

We can then define the function oracle as the collection of rectangles defined by each polynomial's rectangles with error bars extending the rectangles appropriately. One should be able to readily establish the function oracle properties and argue that the function value is indeed what one gets from the usual Taylor polynomial setup. 



\subsection{Intermediate Value Theorem}

The usual Intermediate Value Theorem states that if a function $f$ is continuous, then for any $y$ in $f(a):f(b)$, there exists a $c$ in $a:b$ such that $f(c) = y$. We have a slightly different statement.

\begin{theorem}[Intermediate Value Theorem for Function Oracles]
Let $f$ be an oracle function. Given $a:b$ such that all oracles in $a:b$ are in the domain of $f$, then given an oracle $v$ satisfying $f(a):v:f(b)$, we can generate an oracle $c$ such that all neighborly $f$ rectangles $R$ whose $x$-side contains $c$ will have the property that $v$ is contained in the $y$-side of $R$.
\end{theorem}

\begin{proof}
Take a rational number strictly between $a$ and $b$, say $m$. Look at $f(m)$. If it is $v$, then we are done. If not, then we have several cases: 
\begin{enumerate}
\item $f(m):f(a):v:f(b)$. Choose $b:m$ for the next interval.
\item $f(a):f(m):v:f(b)$. Choose $b:m$ for the next interval. 
\item $f(a):v:f(m):f(b)$. Choose $a:m$ for the next interval.
\item $f(a):v:f(b):f(m)$. Choose $a:m$ for the next interval. 
\end{enumerate}
In all cases, we have chosen the interval so that $v$ is between the images of the endpoint. 

We iterate this. If the lengths of the intervals go to zero, then we have a fonsi. We can ensure this by choosing the midpoint of each interval. Once we have a fonsi, then we have an Oracle, say $c$. 

Now let us assume that $R$ is a neighborly $f$-Yes rectangle containing $c$. We need to show that $v$ is contained in its $y$-side. Let $p:c:q$ be the $x$-side of $R$. By construction of $c$, $p:q$ contains a $c$-Yes interval $r:s$ such that $f(r):v:f(s)$. Since $f$-Yes rectangles include all the images of the $x$-side, we have $f(r):f(s)$ is contained in the $y$-side of $R$ and thus it contains $v$ as well as was to be shown. 
\end{proof}

Another $m$ that we could choose is the mediant. We can also set it up so that we have a Farey pair as we can always enclose an interval in such a pair and choose the starting interval subinterval of the mediant if the mediant is not within the starting interval. In any event, by using the Farey construction, given an interval of interest to the oracle, say $u:v$, we can be assured that once the mediant denominator is past the denominator size of $u$ and $v$, then the narrowed interval will be either strictly inside or outside of $u:v$ and, hence, we will have an answer to our query. 

\begin{corollary}[Intermediate Value Theorem for Continuous Functions]
If $f$ is mass-free on the interval $a:b$, then for each oracle $v$ in $f(a):f(b)$, we have an oracle $c$ in $a:b$ such that $f(c)=v$.
\end{corollary}

\begin{proof}
$c$ exists by the above theorem. Let's assume $d(f(c), v) = L > 0$. By being mass free, there exists a $f$-Yes rectangle $M$ such that $c$ is contained in $M_x$, $|M_x| > 0$ and $|M_y| < L$. But that means $v$ cannot be in $M_y$ which contradicts the previous theorem. 
\end{proof}
    
We should note that all neighborly oracles $c$ will automatically be mass-free. 


\subsection{Derivatives}

It is not clear how to have a useful perspective of derivatives with this approach. It would be nice to say something in relation to defining functions relative to differential equations, perhaps some words about lower and upper bounds arising from different approximation techniques. 

\subsection{Integrals}

These functions seem to be very much in the spirit of integrable functions. We will pursue this angle from the point of view of Darboux integration, which is equivalent to Riemann integration. Darboux integration is taking a partition of the interval in question and then computing the upper and lower area sums of the function (height of each rectangle being the supremum, respectively, infimum). As the partitions get smaller, if the upper and lower sums converge, the limiting value is the integral value. Here we consider bounded functions on an interval. 

It is tempting to assert that Darboux integrable functions are function oracles. Indeed, each partition is essentially giving the rectangle that the function oracles require. The ability to shrink the partitions and have it be integrable on arbitrary intervals strongly conforms to the spirit of function oracles. Unfortunately, the integrable functions allows for discontinuity at irrationals which function oracles do not tolerate. 

Since we established previously that function oracles are continuous at any irrational point that they are defined on, they they are Darboux / Riemann integrable on any interval for which they are bounded and defined on. 

To do it from first principles, we need to discuss partitions of the domain, but once we have that sorted, the rectangles of the oracles provides the areas. We presumably would want to discuss the minimum rectangle covering an interval, perhaps with an $\varepsilon$ cut-off to avoid an infinite regress. 

We can also include the singletons as a probability-style mass function if we wish. We could add them up as a discrete sum, assuming the sum converges. 

This may be also a good point to mention that our function oracles are defined by their behavior on what is classically a set of measure zero, namely, the rationals. We cannot arbitrarily redefine these functions on rationals even though we do have some freedom thanks to singletons. But those changes are constrained on the infinite set of rationals. 

Let us define the integral oracle. Given a $f$-Yes rectangle, $R$, a partition of $R$ is a finite set of $f$-Yes rectangles that cover the base of $R$ and intersect only at the endpoints of their bases. A lower sum of $R$ is a sum of the product of the minimum of the walls times the length of their bases for a partition of $R$ while an upper sum of $R$ is the same but considering the maximum of the walls. The integral oracle of $R$ is defined as the rule that a Yes interval is an interval whose lower endpoint is a lower sum and the upper endpoint is an upper sum. We also add in a singleton if there is a rational contained in all such intervals. 

We need to establish that this is an oracle. Closed was added in by definition. Consistency follows from our ability to elongate the rectangles so that we can always make lower lower sum or a higher upper sum. Existence is given by the interval $|R_x|*\underline{R}: |R_x|*\overline{R}$ where $|R_x|$ is the length of the base of $R$, $\underline{R}$ is the minimum value in the wall of $R$, and $\overline{R}$ is the maximum value of the wall of $R$. 

For the other two properties, we will use the fonsi approach. The fact that they are overlapping intervals is easy to see as given two Yes intervals, each has their own partition. We can refine the partitions by taking intersections. These refined partitions will have a lower sum which is greater than or equal to the lower sums of the two coarser partitions which the upper sum will be less than or equal to the upper sums of the coarser partitions. Thus, the new interval is contained in both of the previous partitions and the Yes intervals intersect. 

The hard part of the proof is to show that there exists an interval that is less than or equal to a given length. Let $\varepsilon > 0$ be given. Let $\delta = \frac{\varepsilon}{2|R_y|}$. We want to have an almost partition of $R$ such that the bases have length at least $|R_x| - \delta$. We will have the length of the walls over those partitions be less than $m = frac{\varepsilon}{2|R_x|}$. This would then mean that the lower and upper sum difference will be less than $\frac{\varepsilon}{2|R_x|} * |R_x| = \frac{varepsilon}{2}$. The rest of the partition can be whatever and the sum difference will be bounded by $\delta * |R_y| = \frac{\varepsilon}{2}$.

To argue for the existence of such a partition, we would like to pick a sequence of $\alpha_k$'s such that we have rectangles $R(k, m)$  whose walls have height less than $m$ and such that the bases $R_x (k, m)$ sum up to be at least $|R_x|-\delta$. Our approach will be a classical approach involving extracting a finite cover from an infinite cover. We first need to exclude the uncooperative points. 

Consider the set of rational points $q$ in $R_x$ such that there is no non-singleton rectangle whose base contains $q$ and whose height is less than $m$. Since these are rationals, we can enumerate them, e.g.,  by their ordering on the Stern-Brocot tree. Let $q_n$ denote the $n$-th one. Let $\alpha_n$ and $\beta_n$ be irrational oracles that satisfy $q_n - \frac{\delta}{2^{n+1}} \leq \alpha_n < q_n < \beta_n < q_n + \frac{\delta}{2^{n+1}}$ and are in $R_x$; if $q_n$ is an endpoint of $R_x$, then we just use the one side that is in $R_x$. Since the $\alpha_n$ are irrational oracles, there exists rectangles $A_n$ and $B_n$ whose base side contains $\alpha_n$ and $\beta_n$, respectively and whose heights are less than $\epsilon$. Let $r_n$ and $s_n$ be the upper and lower endpoints of $A_n$ and $B_n$, respectively. We have that $r_n < q_n < s_n$ is an open interval which contains $q_n$. If we take the union of such intervals, we get an open set whose length is less than $\sum_{i=0}^\infty \frac{\delta}{2^{n+1}} = \frac{\delta}{2} * 2 = \delta$ and, when we remove it from $R_x$, we are left with a closed and bounded set. In what remains, we can cover it with rectangles (the open interiors of the bases) all of whose height is less than $m$ since we have removed all points that could not be so covered. By the Heine-Borel Theorem, there is a finite cover of such rectangles. We then know that their upper and lower sum differences are bounded by $|R_x|*m < \frac{\varepsilon}{2}$. The other portion has rectangles bounded in height by $|R_y|$ and the length is less than $\delta$. So those height differences are bounded by $|R_y|*\delta = \frac{\varepsilon}{2}$. Because of the finite cover by the rectangles, the removed open set can be covered by the finite number of intervals in between the bases of the finite cover. We can thus cover that set with a finite number of rectangles with wall $R_y$. Combined, the two sum to $\varepsilon$ and we have established that we have a finite partition whose upper and lower sums are with $\varepsilon$ of each other. 



\section{Relation to other definitions}\label{sec:others}

It is useful to compare our oracle approach with other common approaches and some nearby alternatives to this. 

What are some good properties of a definition of real numbers? This is subjective, of course, but I was guided by the following: 

\begin{itemize}
    \item Uniqueness. Given a target real number, there should be only one version of that in the real number system and its form should be indicative of what the number is. 
    \item Reactive. This is a key feature. Real numbers generally have an infinite flavor to them. It was important to me to not pretend we could present the infinite version of that, but rather to present a method of answering queries. 
    \item Rational-friendly. Ideally, rationals would be easily spotted, treated reasonably, and arithmetic with them would be easy to do. 
    \item Supportive. The definition should be in line with and, ideally, supportive of standard practice of numbers. In particular, it should conform to how numbers are used in science, applied mathematics, and numerical analysis. 
    \item Arithmeticizable. It should feel like the arithmetic laws are approachable and computable. That is, one can take an action to a certain level of precision and be confident in the result.
    \item Resolvability. We have concrete examples of real numbers whose fundamental nature is unknown. Does the approach give language or a setup that can respect that? 
\end{itemize}

The Oracle approach fits the first four of these quite easily. The last two are pretty subjective and perhaps the best way forward on those is to contrast them with the other definitions. 

Much of what follows was heavily inspired by NJ Wildberger's excellent videos, such as ``Real numbers as Cauchy sequences don't work!''\footnote{\url{https://www.youtube.com/watch?v=3cI7sFr707s}}


\subsection{Infinite Decimals}

This is a natural and old attempt at defining real numbers and is the approach of early mathematics education. It originated in the 1500s with Simon Stevin. 

The idea is to write the decimal expansion of irrational numbers as we do with rationals, but we can never adequately express the decimal form and can only produce up to a certain level. 

Ordering is very easy with this presentation as long as we can go as far as needed for numbers that are different. Establishing equality by comparing digits is not directly possible since we cannot write out infinitely many digits. 

We can view this as describing intervals whose width is a power of 10. For example, writing $1.41$ can be taken as $1.41:1.42$. 

Let us run through our criteria. 

\begin{itemize}
    \item Uniqueness. It has the issue of trailing 9's. Otherwise, there is only one representative. 
    \item Reactive. This can be viewed as answering the question of ``What is a decimal approximation up to $n$?'' where $n$ is some given number. It is even possible for some numbers to just produce the desired $n$-th place decimal value. The standard presentation, however, is misleading. As an example, $\sqrt{2} = 1.4142...$ gets presented as if there is some definite number being presented there. 
    \item Rational-friendly. Sort of. Rationals are the ones with repeating decimal expansions and can therefore be spotted. Those that terminate, however, should technically have 0's appended which is just odd. The arithmetic is not tenable. Compare multiplying $\tfrac{1}{9}*\tfrac{1}{9} =? .\bar{1} * \bar{1}$. Actually try that multiplication in decimal form. As one continues on, one has to carry (modify) digits many places away. Even multiplying 1 by itself in the form of $.\bar{9}*.\bar{9}$ takes a bit of effort. 
    \item Supportive. We certainly use numbers in decimal form to do computations. But we need to have error bars added, that is, we need to write these as decimal intervals. 
    \item Arithmeticizable. Not that easy, as indicated even in the simple case of the rationals multiplying. The most straightforward way is probably an interval or limiting kind of application of the arithmetic operators on the partial decimal approximations. 
    \item Resolvability. We can state how much we know of a number with the decimals and leave it as an error bar. But it would not be particularly convenient to write out $2^{68}$ 0's in the number associated with the Collatz conjecture. 
\end{itemize}

Infinite decimals are a natural attempt and it is a very common presentation of what we know of a number. But it is often not a convenient form and strongly suggests intervals instead. 

\subsection{Nested Intervals}

One can think of expanding the concept of infinite decimals as being a sequence of nested intervals where the length goes down by a tenth at each level. We could generalize this to be a more arbitrary sequence of nested and shrinking intervals. From the Oracle point of view, we could use the mediant method to define such a sequence of intervals. A sequence of such intervals is a fonsi that gives rise to an Oracle. These are closely related concepts. 

Let us run through our criteria. 

\begin{itemize}
    \item Uniqueness. This clearly fails. We can have two entirely distinct nested interval sequences describing the same real number in addition to arbitrarily changing a given sequence (cut out half of them, double their lengths, ...)
    \item Reactive. Not at all. The sequence of intervals is given. We could recast this as a function that, given an $n$, we generate the $n$-th nested interval based on what came before. We would probably want a function of length that gives us a shorter, nested interval from what came before. 
    \item Rational-friendly. The rationals are those whose nested intervals converge to a rational number. There does not seem a particularly clear property that establishes this. Depending on the definition, we could have a finite nested interval sequence that ends in the singleton $q:q$ if it is allowed. 
    \item Supportive. On a practical level, we do like shrinking intervals. But it is not generally predefined intervals. Mostly, it is intervals that are generated when working and we would want to know that the given interval has a non-zero intersection with all the nested intervals. 
    \item Arithmeticizable. Interval arithmetic works. If we tried to build in a constrained size, such as the $n$-th interval has to be no longer than $1/n$ in length, then the arithmetic would become difficult to manage. 
    \item Resolvability. The smallest intervals we can inspect in the sequence will tell us the resolution we have on a number and the difference. 
\end{itemize}

To address the uniqueness issue, one could pursue an equivalence class approach as one does with Cauchy sequences as discussed below with the same difficulties. But one could also take the nested intervals as inspiration and expand to have all the intervals that contain one of the nested intervals. This is a maximal fonsi which is equivalent to the set of all Yes-intervals for an oracle. 

It also has the issue, similar to the Cauchy sequence, though less severe, that the nesting intervals can be quite wide for a very large portion of the sequence.  For example, we could have a nested interval sequence which has an initial trillion intervals that are all wider than the known universe. 


\subsection{Cauchy Sequences}

A Cauchy sequence is a set indexed by natural numbers such that for any given rational $\varepsilon > 0$, we can find an index such that all later elements of the sequence will be within $\varepsilon$ of each other. We can consider these as the real numbers. 

We can apply one of our algorithms to a given Oracle to generate a Cauchy sequence that represents that real number. Given a Cauchy sequence, we can generate an Oracle by the rule that an interval is a Yes if it contains all of the tail of the Cauchy sequence. 

Let us run through our criteria. 

\begin{itemize}
    \item Uniqueness. This fails utterly here. We can say that a Cauchy sequence represents a real number. But there are infinitely many such sequences. So then we can consider an equivalence class of them, but this then becomes a very different kind of object. In addition, we have the problem that the initial part of the sequence can be anything. Given an equivalence class, we can expect that the finite portion of all Cauchy sequences will look the same. We could require that each term must be within the latter ones by a given precision based on the index, such as $|a_n - a_m| < \tfrac{1}{n}$ whenever $n < m$, but this makes the arithmetic portion of this more difficult in addition to actually computing such a sequence in practice may require more work for no practical gain. 
    \item Reactive. Given a desired precision, we can ask the Cauchy sequence for the $n$ and then for an element of the sequence. The given element is chosen by a mechanism not directly essential to the real number. 
    \item Rational-friendly. Rationals can have a constant sequence which is different. But one can also have a sequence for an irrational which is constant for a trillion to the trillion terms and then starts changing. The arithmetic between two constant sequences is easy, but the representative of the rational may or may not be constant in which case there is no difference from the irrationals.   
    \item Supportive. This is used by analysts in many theoretical arguments. For numerical work, we may be generating a sequence of approximate values that get closer and closer. But we need to pair the sequence value with a $\varepsilon$ to have it be actually useful. That is, to be useful, we need an interval lurking around. 
    \item Arithmeticizable. This is the arithmetic of the individual sequence elements. This gets a little messy with the equivalence classes. If we try to weed out the initial garbage by specifying some specific sequence of $\varepsilon$'s to satisfy, then the arithmetic operations become more difficult to handle since we need to play around with ensuring that constraint.  
    \item Resolvability. This is difficult. One can produce a Cauchy sequence for the unknown numbers up to a point, but a finite segment of the Cauchy sequence is not useful. So without the rest, it is not clear what it is saying or how to approach using it. A better view is that we are producing an interval in which all future sequence members need to be within. This leads us inevitably back to the oracles. 
\end{itemize}

Cauchy sequences are very appealing as a next step past the decimal expansions, which themselves can be viewed as a very nice Cauchy sequence where each step along $n$ leads to a $\frac{1}{10}$th shrinking of the future variability. But they are a collection of somewhat arbitrary choices in the representation of a number. 
  
\subsection{Dedekind Cuts}

The idea of a Dedekind cut is to divide the rational numbers into two pieces, one of which is below the real number and one which is above. The cut is where the real number is. If the cut happens to be a rational number, then one has to decide which set it ought to be in. The recasting below puts the rational in its own space. 

The approach of Dedekind cuts is a common construction of real numbers in beginning analysis courses. They have a very nice convincing example of the square root of 2 and the ordering, based on subsets, is quite nice. The arithmetic gets messy in detail, but conceptually it is not problematic. 

To align it more with our approach of Oracles, we would recast the set aspect into having a rule $T$ which decides whether a given rational number is less than, equal to, or greater than, the target real number. It can be codified by giving a -1, 0, or 1,  respectively, something in line with how one might code these kind of inequality tests in a programming environment. 

To convert to intervals, we see that the less than side of a cut is the set of lower bounds of intervals that contain the real number while the greater than side is the upper bound. Given a lower and upper bound, we can proceed with the algorithms we discussed and use our rule to decide whether the new middle point is a lower bound, the number itself, or an upper bound. 

We can also view the Separation Property as being very similar to the $T$ function. If we had a $T$ function, then we could use it to answer whether to accept the left interval ($T(c) = -1$), the right interval ($T(c)=1)$, or accept the singleton $(T(c) = 0$). We could also use the existence of an interval and the Separation property to construct the $T$ function.

The arithmetic for our version is fairly straightforward. The new rule for the sum  $z = x+y$ is that a given rational $s$ is less than $z$ if $s$ can be written as $p+q$ for two rationals that are less than $x$ and $y$, respectively. It is greater, if we can find two rationals summing to it that are respectively greater. Equality is a little tricky unless we are actually adding two known rationals. Otherwise, we need to work to find a gap one way or the other. 

Let us run through our criteria. 

\begin{itemize}
    \item Uniqueness. For each cut, we have a unique representative. This is based on deciding to exclude the rational number if the Dedekind cut represents a rational number. In essence, taking the representatives of $0.\bar{9}$ and excluding $1$ as representing itself. 
    \item Reactive. The standard presentation of the cut sets is not reactive. Technically, one would need to specify the set entirely. This works for the square root of 2, but not for something like $\pi$. But reformulated as above, one can ideally compute it out for any given rational that we wish to ask about the relation to the real number. 
    \item Rational-friendly. The standard presentation is awkward with rationals and does not highlight them. If we were take the viewpoint of the ternary function $T$ above, then rationals are exactly the $T$ functions where $0$ is in the range. 
    \item Supportive. Somewhat. Producing the Dedekind cut is not something typically needed or done, but figuring out whether one is below or above a given target is certainly useful and not an entirely wasted effort. 
    \item Arithmeticizable. This gets a little messy for negatives and multiplication since directions get reversed. The actual computable action in our presentation is roughly equivalent to the Oracle arithmetic, but the standard presentation demands the whole set be produced which is not possible.
    \item Resolvability. It is obscured, particularly in the standard formulation. For our formulation, it basically suggests there is a gap between the less thans and the greater thans. This more or less suggests using the interval approach of our paper to get into this. 
\end{itemize}

The idea of Dedekind cuts, properly formulated, is a solid candidate for constructing the reals, but it feels slightly tangential from the main desire of what we want to know with a real number. It feels like the remains after someone tore apart the intervals of interest. 

The $T$ function certainly comes very close to our rule $R$, but, as we shall discuss, we can generalize oracles easier than we could this approach. In particular, if we use the Two Point Separation property, then that generalizes almost instantly to any metric space. 

It is also useful to point out that while the Separation property can be resolved with the help of the $T$ function, we do have instances of the Separation property being answered without one. Namely, the process behind the Intermediate Value Theorem is very much one of considering Yes or No on intervals and not a question of whether the given point is less than or greater than the target. Indeed, in that example, if we have multiple possible answers in that interval, then a $T$ would not exist a priori. But given any interval to test on and an internal separation point, the oracle answer would be answered. 

As an example, modify the Thomae's function $t$ to be, for the rationals in reduced form $\frac{p}{q}$, $\frac{(-1)^p}{q}$. We still would have $0$ as the value on the irrationals and we would have continuity just the same on the irrationals. Given $1:2$ as a starting interval for the IVT, we would have $0$ is between the $t(2) = -1$ and $t(1) = 1$. If we take the mediant, we are looking at $t(\frac{3}{2}) = \frac{-1}{2}$ and so we choose the interval $1:\frac{3}{2}$. That mediant's value is $t(\frac{4}{3}) = \frac{1}{3}$ and so we choose $\frac{4}{3}:\frac{3}{2}$ leading to a mediant of $\frac{7}{5}$. And so on. This will converge to some neighborly oracle (irrational) whose value is $0$. But it is hard to see how we could construct a $T$ function directly. This example is intimately tied to intervals. 

By the way, if we looked at a value $v$ that was not on the list of outputs for $t$, then we would certainly fail to achieve a $c$ such that $t(c) = v$. We would still generate a $c$ that maintains $v$ being in the interval and that $c$ would end up being a rational number. For example, if took $v = \frac{1}{\sqrt{2}}$, then it is in $t(1):t(2)$ as before, but now all the subsequent values are going to be less than or equal to $\frac{1}{2}$ since that is the smallest denominator. Thus, we always choose the subinterval with $1$ as the endpoint. This leads to $c$ being the oracle of $1$. 

The oracle framework handles this with ease. The Dedekind cuts do not seem to be as natural in this example. 

\subsection{Minimal Cauchy Filters}

I obtained this from a paper which does not seem to be published but can be found on the arxiv under the title ``The reals as rational Cauchy filters''.\footnote{\url{https://arxiv.org/abs/1503.04348v3}} A filter is very similar to what we have used here. It is a collection of sets with pairwise intersections being a part of the collection and that any set that contains a set in the filter is also in the filter. A minimal filter is one which does not contain any other filter. A Cauchy filter is one which has arbitrarily small sets. The paper goes through constructing the real numbers as the collection of all minimal Cauchy rational filters. 

A useful case to focus on is that of a rational number in this viewpoint. The maximal filter of $q$ is the one consisting of all sets that contain $q$. The minimal Cauchy filter is generated by the base of $q_{\varepsilon}$ intervals, namely, the intervals centered at $q$ with a length of rational $\varepsilon>0$.

One could liken the approach of the oracles as taking the minimal Cauchy filter and restricting that to only sets which are intervals. We do use intervals more general than the $q_{\varepsilon}$ intervals in part to be able to use the Separating property which generally would not result in a $q_\varepsilon$ interval. 

In any event, it should be clear how to map the two. Given an Oracle, the Yes intervals are the base for the filter which generates the real number (excluding the singleton if it is rational). One would need to verify that it is a minimal Cauchy filter. Given a minimal Cauchy rational filter, we generate an Oracle on intervals by a Yes being given if the interval is in the filter. We add in the singleton if it happens to be a rational real. 

Let us run through our criteria. 

\begin{itemize}
    \item Uniqueness. The filter is unique with no need for equivalence classes. But for every interval containing the real number, we have infinitely many sets that are added to that interval to generate the various sets. This is analogous to the arbitrary changing of the head of a Cauchy sequence. In particular, it would be very difficult to take a random set from a filter and figure out anything useful to say about which real number we were talking about. The ``garbage'' portion is away from the real number in question, but it would be hard to determine from a randomly chosen member of the filter which real number was under consideration. 
    \item Reactive. We can recast this as a query setup, namely given a set, we can say Yes or No depending on if it is in the filter or not. Unfortunately, given the almost random nature of the sets, it can be difficult to even present the set to be asked about. 
    \item Rational-friendly. Rationals are singled out by being the filters with a non-free core, that is, all the sets in the filter have $q$ as an element. The arithmetic, however, is not particularly improved. In particular, singleton sets $q$ are not actually part of the filter as that would generate the filter of all sets containing $q$. This means that it is slightly unnatural to focus on the singleton arithmetic though one can always do that and then generate the $\varepsilon$ intervals from that which form the base. 
    \item Supportive. This has a bit of the core idea of wanting to say ``the number is in there'', but similar to the Cauchy sequences, it gets derailed by the large variety of useless set baggage that gets brought in with the filters. 
    \item Arithmeticizable. The arithmetic laws are easy to state, basically, being nothing more than the set generated by applying the operator to all of the elements. Unfortunately, this simplicity of statement does not translate into something easy to compute since we have to deal with essentially arbitrary sets. If one focuses on the base of the filter, namely, $\varepsilon$ intervals, then that is essentially the same as the arithmetic in our approach. 
    \item Resolvability. It does not seem to be particularly useful in dealing with uncertainty in what the real number is. It would be presumably appealing to $0_{\varepsilon}$ intervals and stopping when we got to the level of our current knowledge. We could talk about the smallest sets that the two filters have in common. 
\end{itemize}

Filters are generally concerned with arbitrary sets. I do not see how this is particularly useful over just being concerned with intervals. If we restrict our attention to only sets that are intervals, then the minimal Cauchy filter approach and our approach would coincide, with the exception of the singletons. We should note, however, that if we are only considering intervals, then adding in a singleton into the rational interval filter would not lead to any other additions.

\subsection{Other constructs}

The survey paper \cite{ittay-2015} informs the rest of our analysis of other constructions. 

Many of them are sequences of sums or products, which are rather interesting different representations, but they can be viewed as specialized cases of Cauchy sequences. They bear significant resemblances to the infinite decimal approach as they generally involve stand-ins for digits in the construction of each term, but they generally avoid the carry problem. They all seem to suffer from the idea that as a general scheme for representing real numbers, they are not generally useful except in particular cases. They may complicate some arithmetic operation or, more commonly, the ordering relation. They also may just take a great deal more of computation to accomplish without necessarily having any advantage. Some of them also create non-unique representatives and thus require an equivalence class. Most of them avoid the garbage header associated with Cauchy sequences. 

Most of them seem quite amenable to producing intervals in which the number can be seen. One of the approaches is continued fractions which we have touched upon previously. Related to that is the mediant Farey process. Both of these are not arithmetic friendly. 

The survey paper is an enjoyable and enlightening read for those interested in other constructions of the reals. 

\subsection{Extended Reals}

We can also extend the Oracles to include an extended version of the real numbers that includes $\pm \infty$. We need to include infinite intervals in our definition and with an understood updating of our existence clause to include being 1 on an unbounded interval.

For unbounded intervals, we could write that as $a:$ or $a:\infty$ for all rationals greater than or equal to $a$ and write $:a$ or $-\infty:a$ for all rationals less than or equal to $a$. The special interval $-\infty:\infty$ consists of all rationals and is a Yes interval for all oracles in this extended framework. 

If we changed the Existence property to the assertion that $R(-\infty:\infty)=1$, we could then define the Oracle of $-\infty$ as the rule $R(:a) = 1$ for all rational $a$ and 0 otherwise. The Oracle of $\infty$ is similarly defined as $R(a:)=1$  for all rational $a$ and 0 otherwise. 

Arithmetic of these intervals should largely work out as one would expect. Certain combinations, such as $\infty-\infty$, do not lead to useful results. 

What this allows us to do is to then include infinite limits. Indeed, the definition of $\lim_{n\to \infty} f(n) = \infty$ would mean that the collection of intervals that contain the tail of $f$ would coincide with the intervals $a:$. If we were considering $\lim_{x \to \infty} f(x) = L$, we would interpret this as saying that the collection of intervals that contain the image of $a:$ under $f$, would be the oracle of $L$, which could be infinite.  Finally, $\lim_{x \to \alpha} f(x) = \infty$ would be saying that the image of the intervals of $\alpha$, possibly excluding $f(\alpha)$, are all contained in the intervals of $a:$. 


\section{Reflections}



Our definition is designed to be a tool for using a real number. Some of the other definitions are designed at giving the approximations as the number. This definition resists doing so because of the issue of uniqueness and not having to actually compute the infinite amount required by other definitions. 

An alternative definition could have been to have a function that given a rational $\varepsilon$, we get an interval. Again, this would be problematic for us having to define the interval amongst many choices. A unique oracle per real number is very useful. It also helps with defining the arithmetic. 

One of the salient features that comes from this point of view is that rational numbers are the numbers we can see explicitly while irrational numbers are those that we can only get a sense of their presence from their rational neighbors. They are distinctly different kinds of numbers with very different properties. 

We have given a suggestion for a function definition that goes along with the oracle notions. It very much embraces this difference, emphasizing the separate roles of rational and irrational. The rational can take on any values independent of those around them while the irrational can only take on the values compatible with those around them. This is largely because we can directly use a rational number in a computation while the irrationals we cannot except in symbolic form. 

Whether these ideas have any practical import is not clear to me. To the extent that they do, it is presumably already being used in applied areas. This approach may simply provide a clean and useful language to describe what is being done. It may also inspire more useful versions of classical theorems, such as a more prescriptive Fundamental Theorem of Algebra. 

\subsection{Critiquing Oracles}

Let us apply our selective criteria to our Oracle definition. 

\begin{itemize}
    \item Uniqueness. For each real number, there is only one oracle that represents it. We have chosen a maximal representation of the number in terms of intervals that contain it. While it contains many intervals of enormous size that we would never be interested in, it also provides a mechanism for starting from any initial Yes interval and going down to an interval of a length we do care about, at least in theory. 
    \item Reactive. The choice of presenting this as an oracle was specifically to have this flavor. An alternative perspective of having a set that contains all the intervals that ``contain'' the real number, feels less reactive and draws the attention to many intervals that we would not care about. The oracle approach highlights exactly the intervals we care about as those are the ones being asked about. 
    
    We also do not need to make arbitrary choices. In a Cauchy sequence, for example, each value is randomly chosen from an interval of what could have been chosen instead. For the oracles, no choice was made. The choice is made by the questioner. 
    \item Rational-friendly. Rationals are exactly those oracles that contain a singleton. That is very distinguishable in theory. In practice, it can be hard to decide whether a rational is the oracle or not. Arithmetic with rational oracles is no different than arithmetic with rationals. If we have the singletons, we can operate entirely on those singletons. Even if we are operating with an irrational and a rational, we can still use the singleton version to minimize the computations involved. Finally, for rational oracles, the mediant method, strongly supported by the oracle point of view, will stop at the rational that the oracle represents.
    \item Arithmeticizable. We can easily do the interval arithmetic and we have bounds for forcing the narrowing of the intervals. Answering an oracle's question does require a bit of figuring out how to narrow the intervals and then try to produce an interval which is either contained in the one we care about or disjoint from it. That is, our arithmetic is a little indirect for answering the question, but it can arrive at it.
    \item Resolvability. The interval nature of an oracle is giving exactly how well we have resolved a number. 
\end{itemize}

If we think of real numbers as something that we can never hold in our hands, but can only tell bits about based on their shadows, it feels that the oracle approach has the most complete and direct shadow. Dedekind cuts can be thought of as taking the lower bounds of Yes intervals. It feels as if they are minimizing the information needed.  Nested sequence of intervals can be thought of the result of taking a particular pathway through an oracle line of questioning. Cauchy sequences can be very roughly thought of as taking centers from the Yes-intervals on along that pathways. Infinite decimals can be thought of in a similar way, but with a much more constrained pathway.  Other approaches with representing the numbers as sums can be seen in a  similar light. Filters can be thought of as dressing up the intervals with extra elements.


\subsection{Oracles vs fonsi}

The idea of using rational intervals to represent real numbers is not new. From Bachmann, a sequence of nested shrinking intervals was contemplated. More recently, the idea of a fonsi defining a real number is popular among constructivists though they do not use this name nore have a good.  (fine, consistent).  

The concept of a family of overlapping notionally shrinking intervals seems to be more in line with how we are typically presented a real number in contrast to the oracle style. A maximal fonsi, that is, one which includes all intervals that contain a member of the family, is equivalent to the set of Yes intervals for an oracle.  So why did we choose our oracle definition rather than the fonsi definition as our primary definition? 

The basic answer is that the oracle definition, particularly the separating property, is exactly what we need to construct further approximations. It feels more in line how we would actually explore a given real number as we explored with the bisection and mediant methods. The family of shrinking intervals feels as if we ought to already have this whole construct and that we should complete the maximality of it given something like an infinite series. All of this seems distracting from how real numbers are generally used. We cannot list out the explicit details of a real number. What we can do is to get in the neighborhood of a real number and use that neighborhood in deducing further information. I feel that focusing on exactly the information we want in our customary use of a number is very important. It is a very nice fact that we can get oracles from a fonsi as that greatly aids the initial starting points for the real number inputs into a calculation, but that is just the beginning of our journey. 

Another reason to go with the oracles is that it suggests that we want some kind of rule or algorithm for determining whether an interval is a Yes interval. It does not demand all the intervals at once, but, rather, it demands that we be able to produce an answer when we are given an interval. This makes it more in line with what we can do as humans and highlights where the difficulties could be. There are oracles, as we have seen, for which we cannot give a definitive answer yet with our current knowledge. But the oracle approach gives us a tool, the resolvability, to make that limitation known. 

A fonsi, on the other hand, promotes the idea of a choice point of view. It suggests having the entire set of intervals already known. It obscures what we actually know versus what we assume we know. It also obscures the role of how to choose the intervals. It is, however, a very convenient mental model when trying to visualize what we are talking about. 

Fundamentally, it feels that it is theoretically possible to have a rule that does say Yes or No for any given interval. Furthermore, that if we had such a rule, we would very much be able to use the number quite effectively, particularly with the narrowing down methods, such as bisection or the mediant method. With a fonsi, we could never really have an infinite collection of intervals. At best, it could be a mechanism that given an $\varepsilon$, we get a Yes interval of that size. But we can get that from an oracle without pretending that we actually have this full set. And there is no unique way of producing an interval for a given $\varepsilon$; that choice goes beyond what is encoded by the real number. 

Oracles avoid much in the way of irrelevant claims and choices. The main difficulty with oracles is that it can be hard, possibly impossible, to produce directly a rule that will always be able to produce an answer. That difficulty should not prevent us from trying to come up with such rules. In many practical instances, the current best methodology is to compute a tiny interval and hope that it will not contain either of the endpoints of the given interval in question. 

\subsection{Completing Metric Spaces}

The idea of oracles can be generalized to metric spaces. Instead of closed intervals, we use closed balls. The Separation Property fails to be relevant, but we can use the Two Point Separation Property. It can be shown that the set of oracles of a metric space forms a closed metric space with the induced metric.  We can also generalize the function oracles to that space where the base and the walls of the rectangles are closed balls. Intersections no longer create the same kind of thing so the intersections are required to contain Yes balls. We can then apply the metric spaces to derive the arithmetic of function operators, generalize integrals, and differentiation given extra structures. While this is not that different from standard presentations, it does offer extensions of the ideas in this paper. For details, see \cite{taylor23metric}. 


\section{Conclusion}

We have given a new definition of real numbers in terms of oracles. We established that these are, indeed, the real numbers with all of the necessary properties proven. We gave some examples of arithmetic with them. We discussed some methods for obtaining good rational representations for such objects. We also explored a new definition of function based on oracles. We compared and contrasted with other definitions of real numbers. 

The advantage of oracles is that it should be quite approachable to understanding the definition, the goal, and the use of these objects. The basic idea is just that we want to know whether a given interval contains the real number. Interval representations then become very natural as are the bisection and mediant methods for obtaining new intervals. 

Oracles also push the idea of interval manipulation which is something that would be very useful in making numbers more understandable. Though I have no scientific evidence, my experiences in teaching over the past two decades is that a useful precision can help much in the confusion of students learning material. In the current state of education, it is highly problematical to talk about what the square root of 2 actually is. Students know what it should be used for and know a few of its first digits, but there is the mystical notion of it being an infinite string of digits. An interval approach, even if it is simply using the decimal intervals, can bring a more comfortable understanding. Specific suggestions for basing mathematics education on rationals will be presented in \cite{taylor23edu}. Also, the website, under current development, \url{https://ratmath.com} is an online calculator and exploration tool for rational mathematics. 

Oracles avoid the ambiguity of which representative to use for the Cauchy sequence definition. In contrast to Dedekind cuts, oracles have a wide, immediate practical purpose. Some of the other approaches such as nested intervals, ultrafilters, and Cauchy sequences, feel as if one has to choose between a definition that is too thin or one which has been maximized to such an extent that the core identity of the number has been entirely lost in the noise. I feel that oracles are at just that correct level of maximality to avoid non-uniqueness and yet not so large that one loses sight of the number. 

The specific approach advocated here emphasizes a dynamic approach to the number. The person asking about the number ought to have a particular purpose that can then be met by the tools available. The other approaches often have a shadow of that in the definition, such as the $\varepsilon$ in a nested sequence, but the presentation pushes that aside. This approach with the rule highlights the dynamism even while we acknowledge the equivalence to a more static view. 

Finally, this approach highlights the core difficulty of a real number, namely, that it is an indirect way of knowing a number. We are seeking information about a real number, but we can never have it precisely in our hands as we do with rational numbers. We just know what neighborhood it is in. It is as if we are looking for a person and we know enough details to rule out billions of people, but we cannot narrow it down to just a single person. It is a merit of this approach that it brings this out as the central issue of dealing with real numbers as well as giving us tools to deal with it. It is hoped that the example of function oracles helps illuminate the fundamental difference between rationals and irrational numbers, with the more limiting nature of what we can do with the irrational numbers. 

\appendix

\section{Technical Lemmas}\label{app:A}

This is a place to collect some technical facts that are commonly known, but that we would like to have collected proofs of. In particular, these do not rely on the results of any real number analysis. 

\begin{lemma}
$x^n$ is monotonic for $x>0$. That is, if $0 < a < b$, then $0 < a^n<b^n$.
\end{lemma}

While this is very basic, we rely on monotonicity of $x^n$ repeatedly so it seems prudent to include it. 

\begin{proof}
$b^n-a^n= (b-a)\sum_{k=0}^{n-1} b^k a^{n-1-k}$. Since both $a$ and $b$ are positive, the sum is positive. The sign is therefore determined by $b-a$. If $b>a$, then $b^n-a^n > 0$ as was to be shown. 
\end{proof}

This also demonstrates that $ n m^{n-1} (b-a) \leq  b^n -a^n \leq n M^{n-1} (b-a)$ for $0 < m < a< b< M$ by replacing the placing the products in the sum with $m^{n-1}$ and $M^{n-1}$, respectively. 

\begin{lemma}\label{app:lesser}
Let $r \geq 0 $ and $q > 0$ be rational numbers such that $r^n < q$. Then there exists a rational number $s$ such that $r < s$ and $s^n < q$.
\end{lemma}

The basic idea is to find $N$ for $s = r + \tfrac{1}{N}$ such that $s^n < q$. We use the completely rational binomial theorem.  

\begin{proof}
Define $a = q - r^n$. Define $N =  \max(1,\tfrac{3}{a}n r^{n-1}, \tfrac{3}{a}(r+1)^n$.  Take $s = r + \tfrac{1}{N}$. Then $s^n = (r+ \tfrac{1}{N})^n = r^n + \tfrac{n r^{n-1}}{N} + \sum_{k=2}^{n} \binom{n}{k} \tfrac{r^k}{N^{n-k}}$. We can factor out a $\tfrac{1}{N}$ in the sum and, since $N > 1$, we have $\tfrac{b}{N^i} < b$ for all $b$ and natural number $i$. Thus, $\sum_{k=2}^{n} \binom{n}{k} \tfrac{r^k}{N^{n-k}} < \tfrac{1}{N} \sum_{k=2}^{n} \binom{n}{k} r^k$  But that sum is part of the expansion of $(r+1)^n$ and is therefore bounded by it since those are all positive terms thanks to $r$ being positive. Thus, we have $s^n < r^n + n \tfrac{r^{n-1}}{N} + \tfrac{ (r+1)^n }{N}$.  By definition, we have $N > \tfrac{3}{a} n r^{n-1}$ implying $\tfrac{a}{3} > \tfrac{ r^{n-1}}{N}$. We also have $N > \tfrac{3}{a} (r+1)^n$ implying $\tfrac{a}{3} > \tfrac{(r+1)^n}{N}$. Therefore $s^n < r^n + \tfrac{2 a}{3} < q$. Since $r<s$, we have shown our result. 
\end{proof}

\begin{lemma}\label{app:greater}
Let $r \geq 0 $ and $q > 0$ rational numbers such that $r^n > q$. Then there exists a rational number $s$ such that $r > s$ and $s^n > q$.
\end{lemma}

The trick here is to consider $(r-\tfrac{1}{N})^n$ instead. 

\begin{proof}
Define $a = r^n - q$. Define $N =  \max(1,\tfrac{3}{a}n r^{n-1}, \tfrac{3}{a}(r+1)^n$.  Take $s = r - \tfrac{1}{N}$. Then $s^n = (r- \tfrac{1}{N})^n = r^n - \tfrac{n r^{n-1}}{N} + \sum_{k=2}^{n} \binom{n}{k} \tfrac{ (-1)^{n-k} r^k}{N^{n-k}}$. We can factor out a $\tfrac{1}{N}$ in the sum and, since $N > 1$, we have $\tfrac{b}{N^i} < b$ for all $b$ and natural number $i$. Since we are looking to prove $s^n > q$, making the expression smaller is what we are set to do. If we replace any positive terms in the sum with negative terms, we will make it smaller. So $s^n > r^n - \tfrac{n r^{n-1}}{N} - \sum_{k=2}^{n} \binom{n}{k} \tfrac{r^k}{N^{n-k}}$. As before, $\sum_{k=2}^{n} \binom{n}{k} \tfrac{r^k}{N^{n-k}} < \tfrac{1}{N} \sum_{k=2}^{n} \binom{n}{k} r^k$  But that sum is part of the expansion of $(r+1)^n$ and is therefore bounded by it since those are all positive terms thanks to $r$ being positive. Thus, we have $s^n > r^n - n \tfrac{r^{n-1}}{N} - \tfrac{ (r+1)^n }{N}$.  By definition, we have $N > \tfrac{3}{a} n r^{n-1}$ implying $\tfrac{a}{3} > \tfrac{ r^{n-1}}{N}$. We also have $N > \tfrac{3}{a} (r+1)^n$ implying $\tfrac{a}{3} > \tfrac{(r+1)^n}{N}$. Therefore $s^n > r^n - \tfrac{2 a}{3} > q$. Since $r>s$, we have shown our result. 
\end{proof}

\section{Detailed $e$ computations}\label{app:e}

These are supporting computations for Section \ref{sec:e}. While not required in the sense that these computations exist elsewhere, it is nice to give the flavor of some of the work that can be involved in doing it in the more explicit fashion we favor here. 

For this section, let $S_n = \sum_{i=0}^n \frac{1}{i!}$, $a_n = (1+\frac{1}{n})^{n}  $, and $b_n = (1+\frac{1}{n})^{n+1}$

We will use the Arithmetic-Geometric Mean Inequality in the form that states that the $n$-power of the average of the sum of $n$ numbers is greater than the product of those $n$ numbers, assuming at least one of the numbers is different from the others. 

The next two lemmas come from \cite{mend}.

\begin{lemma}
  $ a_n < a_{n+1}$ 
\end{lemma}

\begin{proof}
Consider the collection of $n+1$ numbers consisting of $1$ and $n$ copies of $1+1/n$. We need to compute the average and product to apply the AGMI. The sum is $1 + n* (1 + \frac{1}{n} ) = n+2$. If we take the average of the $n+1$ terms and raise it to the $n+1$ power, we have $(\frac{n+2}{n+1})^{n+1} = (1 + \frac{1}{n+1})^{n+1} = a_{n+1}$. The product of the numbers is $1*(1+\frac{1}{n})^n = a_n$. The AGMI then is exactly the statement of $a_n < a_{n+1}$.
\end{proof}

\begin{lemma}
 $b_{n+1} < b_n$
\end{lemma}

\begin{proof}
This is similar to the previous proof but we use the collection $1$ and $n$ copies of $1 - \frac{1}{n}$. The sum is $1 + n*(1-\frac{1}{n}) = n$. The average of the $n+1$ numbers raised to the $n+1$ power is then $(\frac{n}{n+1})^{n+1}$. Since the reciprocal of $\frac{n}{n+1}$ is $\frac{n+1}{n} = 1+\frac{1}{n}$, we have the powered average is the same as $\frac{1}{b_n}$. The product of the terms is $(1-\frac{1}{n})^n$. But $1 - \frac{1}{n} = \frac{n-1}{n}$ has reciprocal $\frac{n}{n-1} = \frac{ (n-1) + 1}{n-1} = 1 + \frac{1}{n-1}$. Therefore, the product is the same as $\frac{1}{b_{n-1}}$. The AGMI then tells us that $\frac{1}{b_n} > \frac{1}{b_{n-1}}$. Since both terms are positive, we can reciprocate, flipping the inequality leading to $b_{n-1} > b_n$ for all $n$ which is the same statement as $b_{n+1} < b_n$ for all $n$. 
\end{proof}

The reference for the next two lemmas is \cite{rudin}, page 64. The second lemma differs from that of Rudin's presentation in that Rudin uses a limiting infimum argument to avoid computing the explicit values necessary for achieving the desired inequality. 

\begin{lemma}\label{lem:ansn}
$a_n < S_n$
\end{lemma}

\begin{proof}
The binomial expansion of $a_n$ is $\sum_{i=0}^n \frac{1}{i!} \prod_{j=1}^{i-1} (1-\tfrac{j}{n})$ (for $i=0$ and $i=1$, we take the product to be 1). By replacing each factor in each product with 1, we are making the expression larger. When done to completion, we have turned the sum into $S_n$. So $a_n < S_n$.
\end{proof}

\begin{lemma}\label{lem:snam}
For a given $m$, there exists an $n$ such that $S_m < a_n$.   
\end{lemma}

\begin{proof}
 We want to find $n$ such that $\sum_{i=0}^m \frac{1}{i!} < (1+\frac{1}{n})^n$. Our $n$ will be larger than $m$ so we can truncate the binomial expansion at $m+1$: $\sum_{i=0}^{m+1} \frac{1}{i!} \prod_{j=1}^{i-1} (1-\tfrac{j}{n})$, making a smaller quantity which is okay since we want this to be an upper bound. By choosing $n$ large enough, the products should be near enough to 1 that the $\frac{1}{(m+1)!}$ term should be large enough to make the expanded sum larger than the sum to $m$. 

 Specifically, we choose $\varepsilon < \frac{1}{(m+1)! S_{m+1}  }$ and from this we choose $n > \frac{m}{ 1 - \sqrt[m]{1-\varepsilon}}$.\footnote{This inequality is equivalent to, and generated from, $(1-\tfrac{m}{n})^m > 1 - \varepsilon$. Also, $\ln(x) \approx m (\sqrt[m]{x} -1)$. This suggests the inequality can be viewed as $n > \frac{m}{1 - \sqrt[m]{1-\epsilon}} \approx \frac{m}{-\ln(1 - \epsilon)/m} \approx \frac{m^2}{\varepsilon} > m^2 (m+1)! S_m$. So $n$ is quite large for large $m$.} With these choices, let us prove that $S_m < a_n$. 
 
 With our choices, we claim that $\prod_{j=1}^{i-1} (1-\tfrac{j}{n}) > 1-\varepsilon$ for all $i \leq m+1$. Observe that $1-\tfrac{j}{n} > 1 -\tfrac{m}{n}$ for all $j < m$. Then rearranging the inequality we have for choosing $n$, we have $(1 - \tfrac{m}{n})^m > 1 - \varepsilon $. By possibly replacing factors of 1 with $1-\tfrac{m}{n}$, we can view all of the products as being greater than $(1 - \tfrac{m}{n})^n > 1-\varepsilon$.  Thus, we have 
 $a_n >  \sum_{i=0}^{m+1} \frac{1}{i!} \prod_{j=1}^{i-1} (1-\tfrac{j}{n}) > (1-\varepsilon) S_{m+1} = S_m + \frac{1}{(m+1)!} - \varepsilon S_{m+1}$.  Now, $\varepsilon$ was chosen so that $\varepsilon < \frac{1}{(m+1)! S_{m+1}}$ which is equivalent to $- \varepsilon S_{m+1} > -\frac{1}{(m+1)!}$. We therefore have $a_n > S_m + \frac{1}{(m+1)!} - \varepsilon S_{m+1} > S_m + \frac{1}{(m+1)!} - \frac{1}{(m+1)!} = S_m$. We have established our result. 
\end{proof}


\subsection{Exponential and Logarithmic Function}

We can use this framework to inform the function oracle construction for the base $e$ exponential and natural logarithm. We will cheat a little and use some calculus. Specifically, we will use Taylor's theorem in the form $\ln(1+x) = x - \frac{x^2}{2} + \frac{2u^3}{6}$ for $x$ in $-1:1$ and for some $u$ in $x:0$. We will also use some properties of the logarithm. 

The claim is that $(1+\frac{x}{n})^n \leq e^x \leq (1+\frac{x}{n})^{n+1}$ for $0 \leq x \leq 2$. Note that we established above that $x=1$ satisfies this. At $x=0$, all three become $1$. 

In that inequality, we have the left one holds for all $x$. This is the same argument as the generalized AGM inequality, with $\frac{1}{n}$ replaces with $\frac{x}{n}$, showing that this is an increasing sequence. We do need to show that this converges to $e^x$ which means defining that. In the function oracle section, we did so by essentially defining $e^x$ as $(1+\frac{1}{n})^{nx}$. To show the limit is the same, we will just sketch the plausibility using the binomial theorem. 

In particular, we are working with rationals and so we let $x=\frac{p}{q}$. Take $n = kq$ where we can make $k$ as large as we like, while fixing $p$ and $q$. Then we want to show that the first terms of the binomial expansion are almost the same. Indeed, $(1+\frac{x}{n})^n = (1+ \frac{a/b}{kb})^{kb} = \sum_{r=0}^{kb} \binom{kb}{r} (\frac{a}{kb^2})^r$ and $\binom{kb}{r} = \frac{\prod_i=0^r (kb-i)}{r!}$. For the small $r$, the summation terms become approximately $\frac{(kb)^r}{r!} \frac{a^r}{k^rb^{2r}} = \frac{a^r}{r! b^r}$.  On the other hand, $((1+\frac{1}{n})^{n})^x = (1+ \frac{1}{kb})^{ka} = \sum_{r=0}^{ka} \binom{ka}{r} (\frac{1}{kb})^r$ which leads, for small $r$ to  be approximately $\frac{(ka)^r}{r!} \frac{1}{k^r b^r} = \frac{a^r}{r! b^r}$. Thus, as we let $k$ get large, the two sums are approximately the same and, indeed, approach the classic sum of $\sum_{i=0}^\infty \frac{x}{i!}$.

Our real goal here, however, was to show that $(1 + \frac{x}{n})^{n+1}$ is an upper bound for $e^x$. Unfortunately, this is only true for $0 < x < 2$. To see why, consider $e^x = (1+\frac{x}{n})^{n+1}$. Taking the natural logarithm and using the power rule, we have $x = (n+1) \ln (1 + \frac{x}{n} ) = (n+1) (\frac{x}{n} - \frac{x^2}{2n^2} + \frac{2u^3}{6})$; note $u$ is smaller than $\frac{x}{n}$. As we looking for a non-zero solution, we can multiply both sides by $\frac{n}{x (n+1)}$ to get $1- \frac{1}{n} = 1 - \frac{x}{2n} + s$ where $s = \frac{2u^3 n}{6 x (n+1)}$. Solving for the main $x$, we get $x = 2 + 2n s$. This establishes that we are safe to use $x < 2$. The term $2n s$ is at least bounded by a factor of $\frac{1}{n}$ and so as $n$ gets large, $2$ will become a sharp bound.  

In any event, we have by the Intermediate Value Theorem, that $e^x < (1+\frac{x}{n})^{n+1}$ for $0 < x< 2$. 

The interesting part of this is for using this to define bounds for the logarithm. Inverting monotonic functions that are all increasing with $x$ will lead to flipping the inequality.\footnote{If $f(a)=g(b)$, and $f(x) < g(x)$ generally, then $f(a) < g(a)$ and we must have $a > b$ if $g$ is an increasing function. Thus, $g^{-1} (y) < f^{-1} (y)$.}  The inversion of the least one is $n(\sqrt[n]{ x }- 1)$ while the greater one inverts to $n(\sqrt[n+1]{x} - 1)$. We therefore have $n(\sqrt[n+1]{x} - 1) \leq \ln(x) \leq n (\sqrt[n]{x}-1$ for $1 < x < e^2$. This gives us a bounding rectangle. Because they cross, the lower one is a better approximation.  While this only applies for a limited region, we can use the properties of the logarithm to compute any of the values we like. For example if a number is written in the form $x=a\times 10^b$ for $1 \leq a < 10$ and $b$ an integer, then $ln(x) = 2 ( ln( \sqrt{a} ) + b ln(\sqrt{10}) )$ where both square roots will be between $1$ and $4$. We have already discussed bounding the square roots of numbers and so we can combine this with the bounds found above to produce a bounding rectangle for the logarithm for any given $x>0$. 

\section{Direct Oracle Construction of the Supremum}\label{app:sup}

We are given a non-empty set of oracles $E$ with an upper bound $M$, meaning that if $x \in E$ then $x$ has the property $x < M$. We define the set $U$ to be the set of oracles that are upper bounds of $E$, namely, $y \in U$ if $y \geq x$ for every $x$ in $E$.  Thus, $M \in U$.

We want to create the oracle for the least upper bound of $E$. We define the rule $R$ such that $a\lt b$ is to be a Yes interval exactly when $a$ is a lower endpoint for a Yes-interval of an oracle in $E$ and $b$ is an upper endpoint for a Yes-interval of an oracle which is an upper bound of $E$. We also include $c:c$ as a Yes singleton if $c \geq x$ for all $x \in E$ and $c \leq y$ for all $y\in U$.

We claim that this satisfies the properties of an oracle and we call this the Oracle of $\mathrm{sup} E$, the supremum of $E$ or least upper bound. This oracle is also the greatest lower bound of $U$.

Let us establish the properties: 

\begin{enumerate}
    \item Consistency. Assume $R(a \lt b)=1$ and $c:d$ contains $a:b$. Then there exist oracles $x \in E$ and $y \in U$ with $x$-Yes interval $a:A$ and $y$-Yes interval $B:b$. By consistency of $x$ and $y$ being oracles, $c:A$ is a $x$-Yes interval and $B:d$ is a $y$-Yes interval. Thus, $R(c:d) = 1$.
    \item Existence. By assumption, there is an $x \in E$ and an upper bound $M$ in $U$. Let $a:b$ be an $x$-Yes interval and $c:d$ be a $M$-Yes interval. Then $R(a:d) = 1$ by definition.  
    \item Separating. Let $R(a\lt b)=1$ and $a < c< b$. We need to show that either $R(c:c)=1$ or $R(a:c) \neq R(c:b)$. 

    We proceed by cases.
    \begin{enumerate}
    \item There exists $y$ in $U$ such that $c > y$. This implies $c$ is an upper bound of a Yes-interval of $y$. Thus, $R(a \lt c) = 1$ by definition. Also, $c$ cannot be a lower bound of an $x \in E$ since $y \geq x$ for all $x \in E$ implying all the lower bounds of such $x$ are less than or equal to $y$'s lower bounds and $c$ is strictly greater than them. 

    \item There exists $x$ in $E$ such that $c < x$.  This implies $c$ is a lower bound of a Yes-interval of $x$. Thus, $R(c \lt b) = 1$ by definition. Also, $c$ cannot be an upper bound of a $y \in U$ since $x \leq y$ for all $y \in U$ implying all the upper bounds of such $y$ are greater than or equal to $x$'s upper bounds and $c$ is strictly greater than them. 

    \item $c \geq x$ for all $x \in E$ and $c \leq y$ for all $y \in E$. Then $R(c:c) = 1$ by the definition. 

     \end{enumerate}
    
    \item Rooted. For $R(c:c)=1$, we would need to have that $c \leq y$ for all $y$ in $U$ and $c \geq x$ for all $x$ in $E$. Assume we had another rational such that $R(d:d) = 1$. Then we also have $d \geq x$ for all $x$ in $E$ and $d \leq y$ for all $y$ in $E$. Since both $c$ and $d$ are upper bounds of $E$, we have that each are in $U$. So $c \leq d$ and $d \leq c$. This implies that $c = d$. 
    \item Closed. Assume $c$ is in all Yes intervals. By the definition, $R(c:c) = 1$ unless either there exists an $x \in E$ such that $x> c$ or there exists a $y \in E$ such that $y < c$. If there is such an $x$, then let $a\lt b$ be a $x$ Yes-interval such that $c \lt a$; this exists by the definition of oracle inequality. Therefore, $a:B$ is a Yes-interval of $\mathrm{sup} E$, where $B$ is an upper bound of a $M$-Yes interval. This is a Yes-interval which does not contain $c$. So we ruled out this case. The other case goes similarly.
\end{enumerate}

We also have to establish that for every $x \in E$ and $y \in U$, we have $x \leq \mathrm{sup} E \leq y$. Let us assume this is not true. Then either there exists $x > \mathrm{sup} E$ or $y < \mathrm{sup} E$. Both cases proceed similarly. Take $a \lt b$ to be an $x$-Yes interval such that there exists $c \lt d$, a $\sup E$-Yes interval with $b > c$; this is the meaning of being greater than for oracles. But then $b$, when paired with an upper endpoint from an upper bound, forms a $\sup E$ Yes-interval which is disjoint from $c:d$. This is not allowed for an oracle. Hence, there is no such $x$. Similarly for $y < \sup E$. 

\section{Obtaining a Rational in the Mediant Process}\label{app:med}

We claim that if we are looking for $\frac{e}{f}$ in the interval $\frac{a}{b} \lt \frac{c}{d}$, then the mediant process will produce $\frac{re}{rf}$ where $r$ is some non-negative integer and we take $e$, $f$ to be coprime. 

We shall establish this in two main steps. The first step is to apply the solution to some linear equations to establish the existence of certain integers that form a weighted mediant. The second step is to argue that a integrally weighted mediant can also be realized.  We will rely on the specialized Farey process applied to this more general setting. 

But first, let us explore with some examples. 

If we have two rationals $\frac{a}{b} < \frac{c}{d}$ such that $bc - ad = 1$, then they are a Farey pair and the mediant process preserves this condition. In this case, the mediant process leads to the rational number being achieved in this process and it is in reduced form. This is what Theorem 1 in \cite{richards} states explicitly. The argument is that such Farey pairs always produce a mediant which is the closest rational to any number in the interval with the smallest denominator. Given that, if a rational is the target of the process, then it must be achieved as it will be its own best approximation at that level. 

This theorem does not directly apply to non-Farey pairs. If $bc-ad > 1$,\footnote{This is the only other case since $\frac{a}{b} < \frac{c}{d}$ implies $bc - ad > 0$ and this is an integral quantity.} every rational in the interval will be obtained by a mediant process, but it will not be in reduced form. In general, one will have a scaling factor of $bc-ad$ for the form though it can be less as the example of $\frac{7}{8}< \frac{11}{12}$ with a target of $\frac{9}{10}$ demonstrates; the $bc-ad = 4$, but the process obtains $\frac{18}{20}$ instead of $\frac{36}{40}$. Note that there are some common factors involved here. In contrast, if we used the same interval but wanted to converge to $\frac{8}{9}$, we should end up with the fraction $\frac{32}{36}$ which we do as the sequence of mediants $\frac{18}{20}, \frac{25}{28}, \frac{32}{36}$ establishes. Another random example is  $\frac{1}{4} , \frac{19}{9}$ with target $\frac{2}{1}$. The scaling factor is $67$ and the mediants do indeed become $\frac{134}{67}$  ($\frac{20}{13}, \frac{39}{22}, \frac{58}{31}, \frac{77}{40}, \frac{96}{49}, \frac{115}{58}, \frac{134}{67} = 2$). 


To establish our claim, we want to find non-negative integers $m$, $n$, and $r$, with $m$ and $n$ coprime. When we form our first mediant, we get $\frac{a+c}{b+d}$. As we proceed with the processes, we will in general have the form $\frac{ma + nc}{mb + nd}$ for integers $m$ and $n$. One can prove this by seeing that taking the mediant of two numbers of this form will produce another number of that form. Since we start off with two numbers in this form, specifically, $m=1, n=0$ for $\frac{a}{b}$ and $m=0, n=1$ for $\frac{c}{d}$, we will stay with this form. 

Therefore, we need to find non-negative integers $m$ and $n$ such that $\frac{ma+nc}{mb+nd} = \frac{e}{f}$. This is equivalent to finding non-negative integers $m$ and $n$
satisfying the equations
\begin{align*}
    am + cn &= re & \\
    bm + dn &= rf & 
\end{align*}
This has solution, $m = \frac{r}{bc-ad} (cf-de)$ and $n= \frac{r}{bc-ad} (be-af)$. When $\frac{r}{bc-ad}$ is an integer, then $m$ and $n$ will be integers. We also need these to be non-negative. Since $\frac{a}{b} < \frac{e}{f} < \frac{c}{d}$, we have that $cf>de$ or $cf - de > 0$ and we have $be>af$ or $be - af > 0$. Thus, all the quantities are positive assuming we take $r$ to be as well. 

The next question is whether we can actually achieve any combination of $m$ and $n$ from the mediant process. The answer is no, we cannot. The final condition we need is that $m$ and $n$ are coprime. This is what prevents us from claiming that we can achieve multiple forms of the rational number from this process, something we cannot do. In fact, the requirement of it being coprime is what changes the conclusion of the example above with the target of $\frac{9}{10}$. While we will establish why we need the coprimeness, let us first show that we can ensure that there do exist $m$ and $n$ satisfying these equations that are coprime. 

Let $cf-de = st$ and $be-af = su$ where $t$ and $u$ are coprime and $s, t, u$ are integers.  Then mutliplying the first equation by $a$, the second equation by $c$, and then combining, we end up with $e (bc -ad) = s (at  + cu)$. Multiplying the first equation by $b$ and the second by $d$ leads to $f (bc - ad) = s(bt + du)$. This means $s$ divides both $e(bc-ad)$ and $f(bc-ad)$. Since $e$ and $f$ are coprime, this means that $s$ must divide into $bc-ad$. If we take $r = \frac{(bc-ad)}{s}$, then we have that $m=t$ and $n=u$ implying they are corpime. 

The final part of our proof is to establish that we can construct a mediant process given coprime $m$ and $n$. This is where we use Theorem 1 from \cite{richards}. The form $\frac{ma + nc}{mb+nd}$ for coprime $m$ and $n$ is obtained in the exact same way as $\frac{m}{n}$ is in the Farey process where $\frac{a}{b}= \frac{0}{1}$ and $\frac{c}{d}=\frac{1}{0}$ are the starting points. Since the Farey process always results in a fraction without common factors, we have to have $m$ and $n$ coprime for this to work.  

We need to establish comparative ordering for fractions of the form $\frac{ma + nc}{mb + nd}$. So let's consider such a fraction with $m,n$ as one pair and $p,q$ representing another pair. The numerator of their difference is 
\begin{flalign*}
(ma+nc)(pb+qd) & - (pa+qc)(mb+nd)  & \\
 & = pmab + pnbc + qmad + qncd -  mbpa - mqbc -  ndpa -ndqc & \\
 & = pnbc -pnad +qmad- mqbc & \\
 & = pn(bc-ad) + qm(ad-bc) & \\ 
 &= (pn-qm)(bc-ad) & 
\end{flalign*}
The denominator is $(mb+nd)(pb+qd)$.  Since we assume $m,n,p,q$ are non-negative, and we can take the denominators $b$ and $d$ to be positive, and we have $bc-ad > 0$ due to $\frac{a}{b} < \frac{c}{d}$, we can see that the difference of these two forms is entirely based on the computation of $pn - qm$. This implies that the sequence of choices about which subinterval to choose will always be decided in the same way. Specifically, $pn - qm > 0$ if and only if $\frac{p}{q} > \frac{m}{n}$.

Furthermore, we always start with $m=0, n=1$ and $m=1, n=0$. The next mediant will always be $m=1, n=1$. After that, we need to start comparing with our target. Let's say it is $\frac{Ma + Nc}{Mb + Nd}$. Then if $\frac{M}{N} > \frac{1}{1} = 1$, then we will go right and be looking at the interval $[\frac{a+c}{b+d}, \frac{c}{d}]$ leading to the next mediant being $m=1, n=2$. If $\frac{M}{N} < 1$, then we go left and look at the interval $[\frac{a}{b}, \frac{a+c}{b+d}]$ leading to the next mediant being $m=2, n=1$. We proceed in a similar fashion, comparing the target $\frac{M}{N}$ to the current $\frac{m}{n}$ and deciding which interval to select from that. When we achieve equality, we stop the process.

What we have just established is that we can start with any interval $[\frac{a}{b}, \frac{c}{d}]$ and use the Stern-Brocot tree to obtain any rational in that interval by mapping $\frac{m}{n}$ to $\frac{ma + nc}{mb + nd}$. This does not require the original endpoints to be in reduced form. Having them in different scaled versions leads to different mappings of the intervals, but the structure of the tree is always present. 

Let us consider the simple interval $[1, 2]$ with target $\frac{3}{2}$. For this, the target is $m=1, n=1$ and happens after the first step. But now let's change the endpoint $2$ to $\frac{6}{3}$. This is the same rational, but it changes the $m$ and $n$ for the target. In particular, since $6*1-3*1 = 3$, we expect the target to be $\frac{9}{6}$ with $m=3, n=1$, generating the mediants $\frac{7}{4}, \frac{8}{5}, \frac{9}{6}$.  We can view this as we initially weighted the right endpoint more and so we start farther to the right and thus we need to go left a few times to compensate. 

In summary, the mediant process of approximating a real number given a starting interval will always terminate when the real number is a rational in the interval. There is no condition on what the interval is or the form of the endpoints. All we require is that the target rational number is in the initial interval and then the process wil terminate.


\medskip

\printbibliography

\end{document}

